function post_to_url(e,t,i){i=i||"post";var s=document.createElement("form");s.setAttribute("method",i),s.setAttribute("action",e);for(var n in t)if(t.hasOwnProperty(n)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",n);var r=t[n];"object"==typeof r?a.setAttribute("value",JSON.stringify(r)):"string"==typeof r?a.setAttribute("value",r):"boolean"==typeof r&&a.setAttribute("value",r),s.appendChild(a)}document.body.appendChild(s),s.submit()}function HCloader(e){var t=$("div#"+e);t.fadeTo("slow",.2);var i=$('<div class="cover-loader" />');i.css({top:t.offset().top,left:t.offset().left,height:t.height(),width:t.width(),"line-height":t.height()+"px"}).html("Loading..."),i.appendTo("body")}function clippyCopiedCallback(e){var t=$("span#main_"+e);0!=t.length&&(t.attr("title","copied!").trigger("tipsy.reload"),setTimeout(function(){t.attr("title","copy to clipboard")},500))}function Queue(){if(!(this instanceof arguments.callee))return new arguments.callee(arguments);var e=this;e.up=function(){var e=parseInt($("span.queue-count").html());$("span.queue-count").html(e+1)},e.down=function(){var e=parseInt($("span.queue-count").html());$("span.queue-count").html(e-1)}}function flash(){return $("div#flash_message").remove(),$.each(flash_message,function(e,t){var i=Snorby.templates.flash(t);$("body").prepend(i),$("div#flash_message").fadeIn("slow").delay(2e3).fadeOut("slow"),flash_message=[]}),!1}function clear_selected_events(){return selected_events=[],$("input#selected_events").val(""),$("div#sessions-event-count-selected").length>0&&$("div#sessions-event-count-selected").data("count",0),!1}function set_classification(e){var t=$("input#selected_events").attr("value"),i=$("div#events").attr("data-action"),s=$("div#events").attr("data-page"),n=$("div#events").attr("data-direction"),a=$("div#events").attr("data-sort"),r=function(){$.post(baseuri+"/events/classify",{events:t,classification:e,authenticity_token:csrf},function(){if("index"==i)clear_selected_events(),$.getScript(baseuri+"/events?direction="+t+"&sort="+n+"&page="+s);else if("queue"==i)clear_selected_events(),$.getScript(baseuri+"/events/queue?direction="+t+"&sort="+n+"&page="+s);else if("history"==i)clear_selected_events(),$.getScript(baseuri+"/events/history?direction="+t+"&sort="+n+"&page="+s);else if("results"==i&&(clear_selected_events(),$("div#search-params").length>0)){var e=JSON.parse($("div#search-params").text()),t=$("div#results").attr("data-direction"),n=$("div#results").attr("data-sort");e&&$.ajax({url:$("input#current_url").val(),global:!1,dataType:"script",data:{match_all:e.match_all,search:e.search,authenticity_token:csrf,direction:t,sort:n},cache:!1,type:"POST",success:function(){$("div.content").fadeTo(500,1),Snorby.helpers.remove_click_events(!1),Snorby.helpers.recheck_selected_events(),history&&history.pushState&&history.pushState(null,document.title,$("input#current_url").val()),$.scrollTo("#header",500)}})}flash_message.push({type:"success",message:"Event(s) Classified Successfully"})})};if(t.length>0)if($("div.content").fadeTo(500,.4),Snorby.helpers.remove_click_events(!0),"sessions"===$("#events").data("action")){var o=0;$("div#sessions-event-count-selected").length>0&&(o=$("div#sessions-event-count-selected").data("count")),$.post(baseuri+"/events/classify_sessions",{events:t,classification:e,authenticity_token:csrf},function(){clear_selected_events(),$.getScript(baseuri+"/events/sessions?direction="+n+"&sort="+a+"&page="+s),flash_message.push({type:"success",message:"Event(s) Classified Successfully ("+o+" sessions)"})})}else r();else $("ul.table div.content li.event.currently-over.highlight").is(":visible")?($("ul.table div.content li.event.currently-over.highlight .row div.select input#event-selector").click().trigger("change"),set_classification(e)):(flash_message.push({type:"error",message:"Please Select Events To Perform This Action"}),flash(),$.scrollTo("#header",500))}function fetch_last_event(e){$.ajax({url:baseuri+"/events/last",dataType:"json",type:"GET",global:!1,cache:!1,success:function(t){t&&t.time&&($("div#wrapper").attr({last_event:t.time}),e(t.time))}})}function monitor_events(e){$("#growl").notify({speed:500,expires:5e3}),fetch_last_event(function(){setInterval(function(){new_event_check(e)},5e4)})}function new_event_check(e){$.ajax({url:baseuri+"/events/last",dataType:"json",type:"GET",global:!1,cache:!1,success:function(t){var i=$("div#wrapper").attr("last_event"),s=parseInt($(".pager li.active a").html());i!=t.time&&($.ajax({url:baseuri+"/events/since",data:{timestamp:i},dataType:"json",type:"GET",global:!1,cache:!1,success:function(t){if(t.events&&0!=t.events.length){if(e&&s<="1"){if(0==$("div.new_events").length)$("#events").prepend('<div class="note new_events"><strong class="new_event_count">'+t.events.length+"</strong> New Events Are Available Click here To View Them.</div>");else{var i=parseInt($("#events div.new_events strong.new_event_count").html())+t.events.length;$("#events div.new_events").html('<strong class="new_event_count">'+i+"</strong> New Events Are Available Click here To View Them.")}$("#events ul.table div.content").prepend(Snorby.templates.event_table(t))}Snorby.notification({title:"New Events",text:t.events.length+" Events Added."})}}}),$("div#wrapper").attr("last_event",t.time))}})}function update_note_count(e,t){var i=$("li#"+e+" div.row div.timestamp"),s=i.find("span.notes-count"),n='<span class="add_tipsy round notes-count" title="{{notes_count_in_words}}"><img alt="Notes" height="16" src="'+baseuri+'/images/icons/notes.png" width="16"></span>',a=Snorby.templates.render(n,t);0==t.notes_count?s.remove():s.length>0?s.replaceWith(a).trigger("tipsy.reload"):i.prepend(a).trigger("tipsy.reload")}!function(e,t){function i(e){return H.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function s(e){if(!bt[e]){var t=P.body,i=H("<"+e+">").appendTo(t),s=i.css("display");i.remove(),"none"!==s&&""!==s||(ft||(ft=P.createElement("iframe"),ft.frameBorder=ft.width=ft.height=0),t.appendChild(ft),gt&&ft.createElement||(gt=(ft.contentWindow||ft.contentDocument).document,gt.write(("CSS1Compat"===P.compatMode?"<!doctype html>":"")+"<html><body>"),gt.close()),i=gt.createElement(e),gt.body.appendChild(i),s=H.css(i,"display"),t.removeChild(ft)),bt[e]=s}return bt[e]}function n(e,t){var i={};return H.each(wt.concat.apply([],wt.slice(0,t)),function(){i[this]=e}),i}function a(){vt=t}function r(){return setTimeout(a,0),vt=H.now()}function o(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function l(){try{return new e.XMLHttpRequest}catch(e){}}function c(e,i){e.dataFilter&&(i=e.dataFilter(i,e.dataType));var s,n,a,r,o,l,c,h,u=e.dataTypes,d={},p=u.length,f=u[0];for(s=1;s<p;s++){if(1===s)for(n in e.converters)"string"==typeof n&&(d[n.toLowerCase()]=e.converters[n]);if(r=f,f=u[s],"*"===f)f=r;else if("*"!==r&&r!==f){if(o=r+" "+f,l=d[o]||d["* "+f],!l){h=t;for(c in d)if(a=c.split(" "),(a[0]===r||"*"===a[0])&&(h=d[a[1]+" "+f])){c=d[c],c===!0?l=h:h===!0&&(l=c);break}}!l&&!h&&H.error("No conversion from "+o.replace(" "," to ")),l!==!0&&(i=l?l(i):h(c(i)))}}return i}function h(e,i,s){var n,a,r,o,l=e.contents,c=e.dataTypes,h=e.responseFields;for(a in h)a in s&&(i[h[a]]=s[a]);for(;"*"===c[0];)c.shift(),n===t&&(n=e.mimeType||i.getResponseHeader("content-type"));if(n)for(a in l)if(l[a]&&l[a].test(n)){c.unshift(a);break}if(c[0]in s)r=c[0];else{for(a in s){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}if(r)return r!==c[0]&&c.unshift(r),s[r]}function u(e,t,i,s){if(H.isArray(t))H.each(t,function(t,n){i||Qe.test(e)?s(e,n):u(e+"["+("object"==typeof n||H.isArray(n)?t:"")+"]",n,i,s)});else if(i||null==t||"object"!=typeof t)s(e,t);else for(var n in t)u(e+"["+n+"]",t[n],i,s)}function d(e,i){var s,n,a=H.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((a[s]?e:n||(n={}))[s]=i[s]);n&&H.extend(!0,e,n)}function p(e,i,s,n,a,r){a=a||i.dataTypes[0],r=r||{},r[a]=!0;for(var o,l=e[a],c=0,h=l?l.length:0,u=e===rt;c<h&&(u||!o);c++)o=l[c](i,s,n),"string"==typeof o&&(!u||r[o]?o=t:(i.dataTypes.unshift(o),o=p(e,i,s,n,o,r)));return(u||!o)&&!r["*"]&&(o=p(e,i,s,n,"*",r)),o}function f(e){return function(t,i){if("string"!=typeof t&&(i=t,t="*"),H.isFunction(i))for(var s,n,a,r=t.toLowerCase().split(it),o=0,l=r.length;o<l;o++)s=r[o],a=/^\+/.test(s),a&&(s=s.substr(1)||"*"),n=e[s]=e[s]||[],n[a?"unshift":"push"](i)}}function g(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,n="width"===t?Le:Re,a=0,r=n.length;if(s>0){if("border"!==i)for(;a<r;a++)i||(s-=parseFloat(H.css(e,"padding"+n[a]))||0),"margin"===i?s+=parseFloat(H.css(e,i+n[a]))||0:s-=parseFloat(H.css(e,"border"+n[a]+"Width"))||0;return s+"px"}if(s=Ie(e,t,t),(s<0||null==s)&&(s=e.style[t]||0),s=parseFloat(s)||0,i)for(;a<r;a++)s+=parseFloat(H.css(e,"padding"+n[a]))||0,"padding"!==i&&(s+=parseFloat(H.css(e,"border"+n[a]+"Width"))||0),"margin"===i&&(s+=parseFloat(H.css(e,i+n[a]))||0);return s+"px"}function m(e,t){t.src?H.ajax({url:t.src,async:!1,dataType:"script"}):H.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ae,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function v(e){var t=P.createElement("div");return $e.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function b(e){var t=(e.nodeName||"").toLowerCase();"input"===t?y(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&H.grep(e.getElementsByTagName("input"),y)}function y(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function _(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function w(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(H.expando))}function k(e,t){if(1===t.nodeType&&H.hasData(e)){var i,s,n,a=H._data(e),r=H._data(t,a),o=a.events;if(o){delete r.handle,r.events={};for(i in o)for(s=0,n=o[i].length;s<n;s++)H.event.add(t,i+(o[i][s].namespace?".":"")+o[i][s].namespace,o[i][s],o[i][s].data)}r.data&&(r.data=H.extend({},r.data))}}function x(e){return H.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){var t=ge.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function S(e,t,i){if(t=t||0,H.isFunction(t))return H.grep(e,function(e,s){var n=!!t.call(e,s,e);return n===i});if(t.nodeType)return H.grep(e,function(e){return e===t===i});if("string"==typeof t){var s=H.grep(e,function(e){return 1===e.nodeType});if(ue.test(t))return H.filter(t,s,!i);t=H.filter(t,s)}return H.grep(e,function(e){return H.inArray(e,t)>=0===i})}function D(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function A(){return!0}function T(){return!1}function $(e,t,i){var s=t+"defer",n=t+"queue",a=t+"mark",r=H._data(e,s);r&&("queue"===i||!H._data(e,n))&&("mark"===i||!H._data(e,a))&&setTimeout(function(){!H._data(e,n)&&!H._data(e,a)&&(H.removeData(e,s,!0),r.fire())},0)}function I(e){for(var t in e)if(("data"!==t||!H.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function E(e,i,s){if(s===t&&1===e.nodeType){var n="data-"+i.replace(L,"-$1").toLowerCase();if(s=e.getAttribute(n),"string"==typeof s){try{s="true"===s||"false"!==s&&("null"===s?null:H.isNumeric(s)?parseFloat(s):j.test(s)?H.parseJSON(s):s)}catch(e){}H.data(e,i,s)}else s=t}return s}function M(e){var t,i,s=z[e]={};for(e=e.split(/\s+/),t=0,i=e.length;t<i;t++)s[e[t]]=!0;return s}var P=e.document,N=e.navigator,F=e.location,H=function(){function i(){if(!o.isReady){try{P.documentElement.doScroll("left")}catch(e){return void setTimeout(i,1)}o.ready()}}var s,n,a,r,o=function(e,t){return new o.fn.init(e,t,s)},l=e.jQuery,c=e.$,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,d=/^\s+/,p=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,b=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,k=/(mozilla)(?:.*? rv:([\w.]+))?/,x=/-([a-z]|[0-9])/gi,C=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},D=N.userAgent,A=Object.prototype.toString,T=Object.prototype.hasOwnProperty,$=Array.prototype.push,I=Array.prototype.slice,E=String.prototype.trim,M=Array.prototype.indexOf,F={};return o.fn=o.prototype={constructor:o,init:function(e,i,s){var n,a,r,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!i&&P.body)return this.context=P,this[0]=P.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(n="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?h.exec(e):[null,e,null],n&&(n[1]||!i)){if(n[1])return i=i instanceof o?i[0]:i,l=i?i.ownerDocument||i:P,r=f.exec(e),r?o.isPlainObject(i)?(e=[P.createElement(r[1])],o.fn.attr.call(e,i,!0)):e=[l.createElement(r[1])]:(r=o.buildFragment([n[1]],[l]),e=(r.cacheable?o.clone(r.fragment):r.fragment).childNodes),o.merge(this,e);if(a=P.getElementById(n[2]),a&&a.parentNode){if(a.id!==n[2])return s.find(e);this.length=1,this[0]=a}return this.context=P,this.selector=e,this}return!i||i.jquery?(i||s).find(e):this.constructor(i).find(e)}return o.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),o.makeArray(e,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=this.constructor();return o.isArray(e)?$.apply(s,e):o.merge(s,e),s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return o.each(this,e,t)},ready:function(e){return o.bindReady(),a.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(e){return this.pushStack(o.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var e,i,s,n,a,r,l=arguments[0]||{},c=1,h=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},c=2),"object"!=typeof l&&!o.isFunction(l)&&(l={}),h===c&&(l=this,--c);c<h;c++)if(null!=(e=arguments[c]))for(i in e)s=l[i],n=e[i],l!==n&&(u&&n&&(o.isPlainObject(n)||(a=o.isArray(n)))?(a?(a=!1,r=s&&o.isArray(s)?s:[]):r=s&&o.isPlainObject(s)?s:{},l[i]=o.extend(u,r,n)):n!==t&&(l[i]=n));return l},o.extend({noConflict:function(t){return e.$===o&&(e.$=c),t&&e.jQuery===o&&(e.jQuery=l),o},isReady:!1,readyWait:1,holdReady:function(e){e?o.readyWait++:o.ready(!0)},ready:function(e){if(e===!0&&!--o.readyWait||e!==!0&&!o.isReady){if(!P.body)return setTimeout(o.ready,1);if(o.isReady=!0,e!==!0&&--o.readyWait>0)return;a.fireWith(P,[o]),o.fn.trigger&&o(P).trigger("ready").off("ready")}},bindReady:function(){if(!a){if(a=o.Callbacks("once memory"),"complete"===P.readyState)return setTimeout(o.ready,1);if(P.addEventListener)P.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",o.ready,!1);else if(P.attachEvent){P.attachEvent("onreadystatechange",r),e.attachEvent("onload",o.ready);var t=!1;try{t=null==e.frameElement}catch(e){}P.documentElement.doScroll&&t&&i()}}},isFunction:function(e){return"function"===o.type(e)},isArray:Array.isArray||function(e){return"array"===o.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):F[A.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==o.type(e)||e.nodeType||o.isWindow(e))return!1;try{if(e.constructor&&!T.call(e,"constructor")&&!T.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||T.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=o.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):g.test(t.replace(m,"@").replace(v,"]").replace(b,""))?new Function("return "+t)():void o.error("Invalid JSON: "+t)):null},parseXML:function(i){var s,n;try{e.DOMParser?(n=new DOMParser,s=n.parseFromString(i,"text/xml")):(s=new ActiveXObject("Microsoft.XMLDOM"),s.async="false",s.loadXML(i))}catch(e){s=t}return(!s||!s.documentElement||s.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+i),s},noop:function(){},globalEval:function(t){t&&u.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(x,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,i,s){var n,a=0,r=e.length,l=r===t||o.isFunction(e);if(s)if(l){for(n in e)if(i.apply(e[n],s)===!1)break}else for(;a<r&&i.apply(e[a++],s)!==!1;);else if(l){for(n in e)if(i.call(e[n],n,e[n])===!1)break}else for(;a<r&&i.call(e[a],a,e[a++])!==!1;);return e},trim:E?function(e){return null==e?"":E.call(e)}:function(e){return null==e?"":(e+"").replace(d,"").replace(p,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var s=o.type(e);null==e.length||"string"===s||"function"===s||"regexp"===s||o.isWindow(e)?$.call(i,e):o.merge(i,e)}return i},inArray:function(e,t,i){var s;if(t){if(M)return M.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var s=e.length,n=0;if("number"==typeof i.length)for(var a=i.length;n<a;n++)e[s++]=i[n];else for(;i[n]!==t;)e[s++]=i[n++];return e.length=s,e},grep:function(e,t,i){var s,n=[];i=!!i;for(var a=0,r=e.length;a<r;a++)s=!!t(e[a],a),i!==s&&n.push(e[a]);return n},map:function(e,i,s){var n,a,r=[],l=0,c=e.length,h=e instanceof o||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||o.isArray(e));if(h)for(;l<c;l++)n=i(e[l],l,s),null!=n&&(r[r.length]=n);else for(a in e)n=i(e[a],a,s),null!=n&&(r[r.length]=n);return r.concat.apply([],r)},guid:1,proxy:function(e,i){if("string"==typeof i){var s=e[i];i=e,e=s}if(!o.isFunction(e))return t;var n=I.call(arguments,2),a=function(){return e.apply(i,n.concat(I.call(arguments)))};return a.guid=e.guid=e.guid||a.guid||o.guid++,a},access:function(e,i,s,n,a,r){var l=e.length;if("object"==typeof i){for(var c in i)o.access(e,c,i[c],n,a,s);return e}if(s!==t){n=!r&&n&&o.isFunction(s);for(var h=0;h<l;h++)a(e[h],i,n?s.call(e[h],h,a(e[h],i)):s,r);return e}return l?a(e[0],i):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=y.exec(e)||_.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&k.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,i){return new e.fn.init(t,i)}o.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,s){return s&&s instanceof o&&!(s instanceof e)&&(s=e(s)),o.fn.init.call(this,i,s,t)},e.fn.init.prototype=e.fn;var t=e(P);return e},browser:{}}),o.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){F["[object "+t+"]"]=t.toLowerCase()}),n=o.uaMatch(D),n.browser&&(o.browser[n.browser]=!0,o.browser.version=n.version),o.browser.webkit&&(o.browser.safari=!0),u.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),s=o(P),P.addEventListener?r=function(){P.removeEventListener("DOMContentLoaded",r,!1),o.ready()}:P.attachEvent&&(r=function(){"complete"===P.readyState&&(P.detachEvent("onreadystatechange",r),o.ready())}),o}(),z={};H.Callbacks=function(e){e=e?z[e]||M(e):{};var i,s,n,a,r,o=[],l=[],c=function(t){var i,s,n,a;for(i=0,s=t.length;i<s;i++)n=t[i],a=H.type(n),"array"===a?c(n):"function"===a&&(!e.unique||!u.has(n))&&o.push(n)},h=function(t,c){for(c=c||[],i=!e.memory||[t,c],s=!0,r=n||0,n=0,a=o.length;o&&r<a;r++)if(o[r].apply(t,c)===!1&&e.stopOnFalse){i=!0;break}s=!1,o&&(e.once?i===!0?u.disable():o=[]:l&&l.length&&(i=l.shift(),u.fireWith(i[0],i[1])))},u={add:function(){if(o){var e=o.length;c(arguments),s?a=o.length:i&&i!==!0&&(n=e,h(i[0],i[1]))}return this},remove:function(){if(o)for(var t=arguments,i=0,n=t.length;i<n;i++)for(var l=0;l<o.length&&(t[i]!==o[l]||(s&&l<=a&&(a--,l<=r&&r--),o.splice(l--,1),!e.unique));l++);return this},has:function(e){if(o)for(var t=0,i=o.length;t<i;t++)if(e===o[t])return!0;return!1},empty:function(){return o=[],this},disable:function(){return o=l=i=t,this},disabled:function(){return!o},lock:function(){return l=t,(!i||i===!0)&&u.disable(),this},locked:function(){return!l},fireWith:function(t,n){return l&&(s?e.once||l.push([t,n]):(!e.once||!i)&&h(t,n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u};var O=[].slice;H.extend({Deferred:function(e){var t,i=H.Callbacks("once memory"),s=H.Callbacks("once memory"),n=H.Callbacks("memory"),a="pending",r={resolve:i,reject:s,notify:n},o={done:i.add,fail:s.add,progress:n.add,state:function(){return a},isResolved:i.fired,isRejected:s.fired,then:function(e,t,i){return l.done(e).fail(t).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,i){return H.Deferred(function(s){H.each({done:[e,"resolve"],fail:[t,"reject"],progress:[i,"notify"]},function(e,t){var i,n=t[0],a=t[1];H.isFunction(n)?l[e](function(){i=n.apply(this,arguments),i&&H.isFunction(i.promise)?i.promise().then(s.resolve,s.reject,s.notify):s[a+"With"](this===l?s:this,[i])}):l[e](s[a])})}).promise()},promise:function(e){if(null==e)e=o;else for(var t in o)e[t]=o[t];return e}},l=o.promise({});for(t in r)l[t]=r[t].fire,l[t+"With"]=r[t].fireWith;return l.done(function(){a="resolved"},s.disable,n.lock).fail(function(){a="rejected"},i.disable,n.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){r[e]=arguments.length>1?O.call(arguments,0):t,l.notifyWith(c,r)}}function i(e){return function(t){s[e]=arguments.length>1?O.call(arguments,0):t,--o||l.resolveWith(l,s)}}var s=O.call(arguments,0),n=0,a=s.length,r=Array(a),o=a,l=a<=1&&e&&H.isFunction(e.promise)?e:H.Deferred(),c=l.promise();if(a>1){for(;n<a;n++)s[n]&&s[n].promise&&H.isFunction(s[n].promise)?s[n].promise().then(i(n),l.reject,t(n)):--o;o||l.resolveWith(l,s)}else l!==e&&l.resolveWith(l,a?[e]:[]);return c}}),H.support=function(){var t,i,s,n,a,r,o,l,c,h,u,d,p=P.createElement("div");P.documentElement;if(p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0],!i||!i.length||!s)return{};n=P.createElement("select"),a=n.appendChild(P.createElement("option")),r=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===r.value,optSelected:a.selected,getSetAttribute:"t"!==p.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!a.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),r=P.createElement("input"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","checked"),p.appendChild(r),l=P.createDocumentFragment(),l.appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=r.checked,l.removeChild(r),l.appendChild(p),p.innerHTML="",e.getComputedStyle&&(o=P.createElement("div"),o.style.width="0",o.style.marginRight="0",p.style.width="2px",p.appendChild(o),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)),p.attachEvent)for(u in{submit:1,change:1,focusin:1})h="on"+u,d=h in p,d||(p.setAttribute(h,"return;"),d="function"==typeof p[h]),t[u+"Bubbles"]=d;return l.removeChild(p),l=n=a=o=p=r=null,H(function(){var e,i,s,n,a,r,o,l,h,u,f=P.getElementsByTagName("body")[0];!f||(r=1,o="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",h="style='"+o+"border:5px solid #000;padding:0;'",u="<div "+h+"><div></div></div><table "+h+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",e=P.createElement("div"),e.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+r+"px",f.insertBefore(e,f.firstChild),p=P.createElement("div"),e.appendChild(p),p.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=p.getElementsByTagName("td"),d=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",t.reliableHiddenOffsets=d&&0===c[0].offsetHeight,p.innerHTML="",p.style.width=p.style.paddingLeft="1px",H.boxModel=t.boxModel=2===p.offsetWidth,"undefined"!=typeof p.style.zoom&&(p.style.display="inline",p.style.zoom=1,t.inlineBlockNeedsLayout=2===p.offsetWidth,p.style.display="",p.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=2!==p.offsetWidth),p.style.cssText=o+l,p.innerHTML=u,i=p.firstChild,s=i.firstChild,n=i.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===n.offsetTop},s.style.position="fixed",s.style.top="20px",a.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",i.style.overflow="hidden",i.style.position="relative",a.subtractsBorderForOverflowNotVisible=s.offsetTop===-5,a.doesNotIncludeMarginInBodyOffset=f.offsetTop!==r,f.removeChild(e),p=e=null,H.extend(t,a))}),t}();var j=/^(?:\{.*\}|\[.*\])$/,L=/([A-Z])/g;H.extend({cache:{},uuid:0,expando:"jQuery"+(H.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?H.cache[e[H.expando]]:e[H.expando],!!e&&!I(e)},data:function(e,i,s,n){if(H.acceptData(e)){var a,r,o,l=H.expando,c="string"==typeof i,h=e.nodeType,u=h?H.cache:e,d=h?e[l]:e[l]&&l,p="events"===i;if((!d||!u[d]||!p&&!n&&!u[d].data)&&c&&s===t)return;return d||(h?e[l]=d=++H.uuid:d=l),u[d]||(u[d]={},h||(u[d].toJSON=H.noop)),"object"!=typeof i&&"function"!=typeof i||(n?u[d]=H.extend(u[d],i):u[d].data=H.extend(u[d].data,i)),a=r=u[d],n||(r.data||(r.data={}),r=r.data),s!==t&&(r[H.camelCase(i)]=s),p&&!r[i]?a.events:(c?(o=r[i],null==o&&(o=r[H.camelCase(i)])):o=r,o)}},removeData:function(e,t,i){if(H.acceptData(e)){var s,n,a,r=H.expando,o=e.nodeType,l=o?H.cache:e,c=o?e[r]:r;if(!l[c])return;if(t&&(s=i?l[c]:l[c].data)){H.isArray(t)||(t in s?t=[t]:(t=H.camelCase(t),t=t in s?[t]:t.split(" ")));for(n=0,a=t.length;n<a;n++)delete s[t[n]];if(!(i?I:H.isEmptyObject)(s))return}if(!i&&(delete l[c].data,!I(l[c])))return;H.support.deleteExpando||!l.setInterval?delete l[c]:l[c]=null,o&&(H.support.deleteExpando?delete e[r]:e.removeAttribute?e.removeAttribute(r):e[r]=null)}},_data:function(e,t,i){return H.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=H.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),H.fn.extend({data:function(e,i){var s,n,a,r=null;if("undefined"==typeof e){if(this.length&&(r=H.data(this[0]),1===this[0].nodeType&&!H._data(this[0],"parsedAttrs"))){n=this[0].attributes;for(var o=0,l=n.length;o<l;o++)a=n[o].name,0===a.indexOf("data-")&&(a=H.camelCase(a.substring(5)),E(this[0],a,r[a]));H._data(this[0],"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){H.data(this,e)}):(s=e.split("."),s[1]=s[1]?"."+s[1]:"",i===t?(r=this.triggerHandler("getData"+s[1]+"!",[s[0]]),r===t&&this.length&&(r=H.data(this[0],e),r=E(this[0],e,r)),r===t&&s[1]?this.data(s[0]):r):this.each(function(){var t=H(this),n=[s[0],i];t.triggerHandler("setData"+s[1]+"!",n),H.data(this,e,i),t.triggerHandler("changeData"+s[1]+"!",n)}))},removeData:function(e){return this.each(function(){H.removeData(this,e)})}}),H.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",H._data(e,t,(H._data(e,t)||0)+1))},_unmark:function(e,t,i){if(e!==!0&&(i=t,t=e,e=!1),t){i=i||"fx";var s=i+"mark",n=e?0:(H._data(t,s)||1)-1;n?H._data(t,s,n):(H.removeData(t,s,!0),$(t,i,"mark"))}},queue:function(e,t,i){var s;if(e)return t=(t||"fx")+"queue",s=H._data(e,t),i&&(!s||H.isArray(i)?s=H._data(e,t,H.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=H.queue(e,t),s=i.shift(),n={};"inprogress"===s&&(s=i.shift()),s&&("fx"===t&&i.unshift("inprogress"),H._data(e,t+".run",n),s.call(e,function(){H.dequeue(e,t)},n)),i.length||(H.removeData(e,t+"queue "+t+".run",!0),$(e,t,"queue"))}}),H.fn.extend({queue:function(e,i){return"string"!=typeof e&&(i=e,e="fx"),i===t?H.queue(this[0],e):this.each(function(){var t=H.queue(this,e,i);"fx"===e&&"inprogress"!==t[0]&&H.dequeue(this,e)})},dequeue:function(e){return this.each(function(){H.dequeue(this,e)})},delay:function(e,t){return e=H.fx?H.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){function s(){--l||a.resolveWith(r,[r])}"string"!=typeof e&&(i=e,e=t),e=e||"fx";for(var n,a=H.Deferred(),r=this,o=r.length,l=1,c=e+"defer",h=e+"queue",u=e+"mark";o--;)(n=H.data(r[o],c,t,!0)||(H.data(r[o],h,t,!0)||H.data(r[o],u,t,!0))&&H.data(r[o],c,H.Callbacks("once memory"),!0))&&(l++,n.add(s));return s(),a.promise()}});var R,W,q,B=/[\n\t\r]/g,Q=/\s+/,Y=/\r/g,U=/^(?:button|input)$/i,V=/^(?:button|input|object|select|textarea)$/i,K=/^a(?:rea)?$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,G=H.support.getSetAttribute;H.fn.extend({attr:function(e,t){return H.access(this,e,t,!0,H.attr)},removeAttr:function(e){return this.each(function(){H.removeAttr(this,e)})},prop:function(e,t){return H.access(this,e,t,!0,H.prop)},removeProp:function(e){return e=H.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,s,n,a,r,o;if(H.isFunction(e))return this.each(function(t){H(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(Q),i=0,s=this.length;i<s;i++)if(n=this[i],1===n.nodeType)if(n.className||1!==t.length){for(a=" "+n.className+" ",r=0,o=t.length;r<o;r++)~a.indexOf(" "+t[r]+" ")||(a+=t[r]+" ");n.className=H.trim(a)}else n.className=e;return this},removeClass:function(e){var i,s,n,a,r,o,l;if(H.isFunction(e))return this.each(function(t){H(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(Q),s=0,n=this.length;s<n;s++)if(a=this[s],1===a.nodeType&&a.className)if(e){for(r=(" "+a.className+" ").replace(B," "),o=0,l=i.length;o<l;o++)r=r.replace(" "+i[o]+" "," ");a.className=H.trim(r)}else a.className="";return this},toggleClass:function(e,t){var i=typeof e,s="boolean"==typeof t;return H.isFunction(e)?this.each(function(i){H(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var n,a=0,r=H(this),o=t,l=e.split(Q);n=l[a++];)o=s?o:!r.hasClass(n),r[o?"addClass":"removeClass"](n);else"undefined"!==i&&"boolean"!==i||(this.className&&H._data(this,"__className__",this.className),this.className=this.className||e===!1?"":H._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(B," ").indexOf(t)>-1)return!0;return!1},val:function(e){var i,s,n,a=this[0];return arguments.length?(n=H.isFunction(e),this.each(function(s){var a,r=H(this);1===this.nodeType&&(a=n?e.call(this,s,r.val()):e,null==a?a="":"number"==typeof a?a+="":H.isArray(a)&&(a=H.map(a,function(e){return null==e?"":e+""})),i=H.valHooks[this.nodeName.toLowerCase()]||H.valHooks[this.type],
i&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))})):a?(i=H.valHooks[a.nodeName.toLowerCase()]||H.valHooks[a.type],i&&"get"in i&&(s=i.get(a,"value"))!==t?s:(s=a.value,"string"==typeof s?s.replace(Y,""):null==s?"":s)):void 0}}),H.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i,s,n,a=e.selectedIndex,r=[],o=e.options,l="select-one"===e.type;if(a<0)return null;for(i=l?a:0,s=l?a+1:o.length;i<s;i++)if(n=o[i],n.selected&&(H.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!H.nodeName(n.parentNode,"optgroup"))){if(t=H(n).val(),l)return t;r.push(t)}return l&&!r.length&&o.length?H(o[a]).val():r},set:function(e,t){var i=H.makeArray(t);return H(e).find("option").each(function(){this.selected=H.inArray(H(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,i,s,n){var a,r,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return n&&i in H.attrFn?H(e)[i](s):"undefined"==typeof e.getAttribute?H.prop(e,i,s):(o=1!==l||!H.isXMLDoc(e),o&&(i=i.toLowerCase(),r=H.attrHooks[i]||(X.test(i)?W:R)),s!==t?null===s?void H.removeAttr(e,i):r&&"set"in r&&o&&(a=r.set(e,s,i))!==t?a:(e.setAttribute(i,""+s),s):r&&"get"in r&&o&&null!==(a=r.get(e,i))?a:(a=e.getAttribute(i),null===a?t:a))},removeAttr:function(e,t){var i,s,n,a,r=0;if(t&&1===e.nodeType)for(s=t.toLowerCase().split(Q),a=s.length;r<a;r++)n=s[r],n&&(i=H.propFix[n]||n,H.attr(e,n,""),e.removeAttribute(G?n:i),X.test(n)&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)H.error("type property can't be changed");else if(!H.support.radioValue&&"radio"===t&&H.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return R&&H.nodeName(e,"button")?R.get(e,t):t in e?e.value:null},set:function(e,t,i){return R&&H.nodeName(e,"button")?R.set(e,t,i):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,s){var n,a,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return r=1!==o||!H.isXMLDoc(e),r&&(i=H.propFix[i]||i,a=H.propHooks[i]),s!==t?a&&"set"in a&&(n=a.set(e,s,i))!==t?n:e[i]=s:a&&"get"in a&&null!==(n=a.get(e,i))?n:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):V.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:t}}}}),H.attrHooks.tabindex=H.propHooks.tabIndex,W={get:function(e,i){var s,n=H.prop(e,i);return n===!0||"boolean"!=typeof n&&(s=e.getAttributeNode(i))&&s.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var s;return t===!1?H.removeAttr(e,i):(s=H.propFix[i]||i,s in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},G||(q={name:!0,id:!0},R=H.valHooks.button={get:function(e,i){var s;return s=e.getAttributeNode(i),s&&(q[i]?""!==s.nodeValue:s.specified)?s.nodeValue:t},set:function(e,t,i){var s=e.getAttributeNode(i);return s||(s=P.createAttribute(i),e.setAttributeNode(s)),s.nodeValue=t+""}},H.attrHooks.tabindex.set=R.set,H.each(["width","height"],function(e,t){H.attrHooks[t]=H.extend(H.attrHooks[t],{set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}})}),H.attrHooks.contenteditable={get:R.get,set:function(e,t,i){""===t&&(t="false"),R.set(e,t,i)}}),H.support.hrefNormalized||H.each(["href","src","width","height"],function(e,i){H.attrHooks[i]=H.extend(H.attrHooks[i],{get:function(e){var s=e.getAttribute(i,2);return null===s?t:s}})}),H.support.style||(H.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),H.support.optSelected||(H.propHooks.selected=H.extend(H.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),H.support.enctype||(H.propFix.enctype="encoding"),H.support.checkOn||H.each(["radio","checkbox"],function(){H.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),H.each(["radio","checkbox"],function(){H.valHooks[this]=H.extend(H.valHooks[this],{set:function(e,t){if(H.isArray(t))return e.checked=H.inArray(H(e).val(),t)>=0}})});var J=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,ee=/\bhover(\.\S+)?\b/,te=/^key/,ie=/^(?:mouse|contextmenu)|click/,se=/^(?:focusinfocus|focusoutblur)$/,ne=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ae=function(e){var t=ne.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},re=function(e,t){var i=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(i.id||{}).value===t[2])&&(!t[3]||t[3].test((i["class"]||{}).value))},oe=function(e){return H.event.special.hover?e:e.replace(ee,"mouseenter$1 mouseleave$1")};H.event={add:function(e,i,s,n,a){var r,o,l,c,h,u,d,p,f,g,m;if(3!==e.nodeType&&8!==e.nodeType&&i&&s&&(r=H._data(e))){for(s.handler&&(f=s,s=f.handler),s.guid||(s.guid=H.guid++),l=r.events,l||(r.events=l={}),o=r.handle,o||(r.handle=o=function(e){return"undefined"==typeof H||e&&H.event.triggered===e.type?t:H.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=H.trim(oe(i)).split(" "),c=0;c<i.length;c++)h=Z.exec(i[c])||[],u=h[1],d=(h[2]||"").split(".").sort(),m=H.event.special[u]||{},u=(a?m.delegateType:m.bindType)||u,m=H.event.special[u]||{},p=H.extend({type:u,origType:h[1],data:n,handler:s,guid:s.guid,selector:a,quick:ae(a),namespace:d.join(".")},f),g=l[u],g||(g=l[u]=[],g.delegateCount=0,m.setup&&m.setup.call(e,n,d,o)!==!1||(e.addEventListener?e.addEventListener(u,o,!1):e.attachEvent&&e.attachEvent("on"+u,o))),m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=s.guid)),a?g.splice(g.delegateCount++,0,p):g.push(p),H.event.global[u]=!0;e=null}},global:{},remove:function(e,t,i,s,n){var a,r,o,l,c,h,u,d,p,f,g,m,v=H.hasData(e)&&H._data(e);if(v&&(d=v.events)){for(t=H.trim(oe(t||"")).split(" "),a=0;a<t.length;a++)if(r=Z.exec(t[a])||[],o=l=r[1],c=r[2],o){for(p=H.event.special[o]||{},o=(s?p.delegateType:p.bindType)||o,g=d[o]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<g.length;u++)m=g[u],(n||l===m.origType)&&(!i||i.guid===m.guid)&&(!c||c.test(m.namespace))&&(!s||s===m.selector||"**"===s&&m.selector)&&(g.splice(u--,1),m.selector&&g.delegateCount--,p.remove&&p.remove.call(e,m));0===g.length&&h!==g.length&&((!p.teardown||p.teardown.call(e,c)===!1)&&H.removeEvent(e,o,v.handle),delete d[o])}else for(o in d)H.event.remove(e,o+t[a],i,s,!0);H.isEmptyObject(d)&&(f=v.handle,f&&(f.elem=null),H.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,s,n,a){if(!n||3!==n.nodeType&&8!==n.nodeType){var r,o,l,c,h,u,d,p,f,g,m=i.type||i,v=[];if(se.test(m+H.event.triggered))return;if(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),(!n||H.event.customEvent[m])&&!H.event.global[m])return;if(i="object"==typeof i?i[H.expando]?i:new H.Event(m,i):new H.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=m.indexOf(":")<0?"on"+m:"",!n){r=H.cache;for(l in r)r[l].events&&r[l].events[m]&&H.event.trigger(i,s,r[l].handle.elem,!0);return}if(i.result=t,i.target||(i.target=n),s=null!=s?H.makeArray(s):[],s.unshift(i),d=H.event.special[m]||{},d.trigger&&d.trigger.apply(n,s)===!1)return;if(f=[[n,d.bindType||m]],!a&&!d.noBubble&&!H.isWindow(n)){for(g=d.delegateType||m,c=se.test(g+m)?n:n.parentNode,h=null;c;c=c.parentNode)f.push([c,g]),h=c;h&&h===n.ownerDocument&&f.push([h.defaultView||h.parentWindow||e,g])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)c=f[l][0],i.type=f[l][1],p=(H._data(c,"events")||{})[i.type]&&H._data(c,"handle"),p&&p.apply(c,s),p=u&&c[u],p&&H.acceptData(c)&&p.apply(c,s)===!1&&i.preventDefault();return i.type=m,!a&&!i.isDefaultPrevented()&&(!d._default||d._default.apply(n.ownerDocument,s)===!1)&&("click"!==m||!H.nodeName(n,"a"))&&H.acceptData(n)&&u&&n[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!H.isWindow(n)&&(h=n[u],h&&(n[u]=null),H.event.triggered=m,n[m](),H.event.triggered=t,h&&(n[u]=h)),i.result}},dispatch:function(i){i=H.event.fix(i||e.event);var s,n,a,r,o,l,c,h,u,d,p=(H._data(this,"events")||{})[i.type]||[],f=p.delegateCount,g=[].slice.call(arguments,0),m=!i.exclusive&&!i.namespace,v=[];if(g[0]=i,i.delegateTarget=this,f&&!i.target.disabled&&(!i.button||"click"!==i.type))for(r=H(this),r.context=this.ownerDocument||this,a=i.target;a!=this;a=a.parentNode||this){for(l={},h=[],r[0]=a,s=0;s<f;s++)u=p[s],d=u.selector,l[d]===t&&(l[d]=u.quick?re(a,u.quick):r.is(d)),l[d]&&h.push(u);h.length&&v.push({elem:a,matches:h})}for(p.length>f&&v.push({elem:this,matches:p.slice(f)}),s=0;s<v.length&&!i.isPropagationStopped();s++)for(c=v[s],i.currentTarget=c.elem,n=0;n<c.matches.length&&!i.isImmediatePropagationStopped();n++)u=c.matches[n],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,o=((H.event.special[u.origType]||{}).handle||u.handler).apply(c.elem,g),o!==t&&(i.result=o,o===!1&&(i.preventDefault(),i.stopPropagation())));return i.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var s,n,a,r=i.button,o=i.fromElement;return null==e.pageX&&null!=i.clientX&&(s=e.target.ownerDocument||P,n=s.documentElement,a=s.body,e.pageX=i.clientX+(n&&n.scrollLeft||a&&a.scrollLeft||0)-(n&&n.clientLeft||a&&a.clientLeft||0),e.pageY=i.clientY+(n&&n.scrollTop||a&&a.scrollTop||0)-(n&&n.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?i.toElement:o),!e.which&&r!==t&&(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[H.expando])return e;var i,s,n=e,a=H.event.fixHooks[e.type]||{},r=a.props?this.props.concat(a.props):this.props;for(e=H.Event(n),i=r.length;i;)s=r[--i],e[s]=n[s];return e.target||(e.target=n.srcElement||P),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),a.filter?a.filter(e,n):e},special:{ready:{setup:H.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){H.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){var n=H.extend(new H.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?H.event.trigger(n,null,t):H.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},H.event.handle=H.event.dispatch,H.removeEvent=P.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},H.Event=function(e,t){return this instanceof H.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?A:T):this.type=e,t&&H.extend(this,t),this.timeStamp=e&&e.timeStamp||H.now(),this[H.expando]=!0,void 0):new H.Event(e,t)},H.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A,this.stopPropagation()},isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T},H.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){H.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,n=e.relatedTarget,a=e.handleObj;a.selector;return n&&(n===s||H.contains(s,n))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),H.support.submitBubbles||(H.event.special.submit={setup:function(){return!H.nodeName(this,"form")&&void H.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,s=H.nodeName(i,"input")||H.nodeName(i,"button")?i.form:t;s&&!s._submit_attached&&(H.event.add(s,"submit._submit",function(e){this.parentNode&&!e.isTrigger&&H.event.simulate("submit",this.parentNode,e,!0)}),s._submit_attached=!0)})},teardown:function(){return!H.nodeName(this,"form")&&void H.event.remove(this,"._submit")}}),H.support.changeBubbles||(H.event.special.change={setup:function(){return J.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(H.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,H.event.simulate("change",this,e,!0))})),!1):void H.event.add(this,"beforeactivate._change",function(e){var t=e.target;J.test(t.nodeName)&&!t._change_attached&&(H.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&H.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return H.event.remove(this,"._change"),J.test(this.nodeName)}}),H.support.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,s=function(e){H.event.simulate(t,e.target,H.event.fix(e),!0)};H.event.special[t]={setup:function(){0===i++&&P.addEventListener(e,s,!0)},teardown:function(){0===--i&&P.removeEventListener(e,s,!0)}}}),H.fn.extend({on:function(e,i,s,n,a){var r,o;if("object"==typeof e){"string"!=typeof i&&(s=i,i=t);for(o in e)this.on(o,i,s,e[o],a);return this}if(null==s&&null==n?(n=i,s=i=t):null==n&&("string"==typeof i?(n=s,s=t):(n=s,s=i,i=t)),n===!1)n=T;else if(!n)return this;return 1===a&&(r=n,n=function(e){return H().off(e),r.apply(this,arguments)},n.guid=r.guid||(r.guid=H.guid++)),this.each(function(){H.event.add(this,e,n,s,i)})},one:function(e,t,i,s){return this.on.call(this,e,t,i,s,1)},off:function(e,i,s){if(e&&e.preventDefault&&e.handleObj){var n=e.handleObj;return H(e.delegateTarget).off(n.namespace?n.type+"."+n.namespace:n.type,n.selector,n.handler),this}if("object"==typeof e){for(var a in e)this.off(a,i,e[a]);return this}return i!==!1&&"function"!=typeof i||(s=i,i=t),s===!1&&(s=T),this.each(function(){H.event.remove(this,e,s,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return H(this.context).on(e,this.selector,t,i),this},die:function(e,t){return H(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1==arguments.length?this.off(e,"**"):this.off(t,e,i)},trigger:function(e,t){return this.each(function(){H.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return H.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||H.guid++,s=0,n=function(i){var n=(H._data(this,"lastToggle"+e.guid)||0)%s;return H._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),t[n].apply(this,arguments)||!1};for(n.guid=i;s<t.length;)t[s++].guid=i;return this.click(n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){H.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},H.attrFn&&(H.attrFn[t]=!0),te.test(t)&&(H.event.fixHooks[t]=H.event.keyHooks),ie.test(t)&&(H.event.fixHooks[t]=H.event.mouseHooks)}),function(){function e(e,t,i,s,a,r){for(var o=0,l=s.length;o<l;o++){var c=s[o];if(c){var h=!1;for(c=c[e];c;){if(c[n]===i){h=s[c.sizset];break}if(1===c.nodeType)if(r||(c[n]=i,c.sizset=o),"string"!=typeof t){if(c===t){h=!0;break}}else if(d.filter(t,[c]).length>0){h=c;break}c=c[e]}s[o]=h}}}function i(e,t,i,s,a,r){for(var o=0,l=s.length;o<l;o++){var c=s[o];if(c){var h=!1;for(c=c[e];c;){if(c[n]===i){h=s[c.sizset];break}if(1===c.nodeType&&!r&&(c[n]=i,c.sizset=o),c.nodeName.toLowerCase()===t){h=c;break}c=c[e]}s[o]=h}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n="sizcache"+(Math.random()+"").replace(".",""),a=0,r=Object.prototype.toString,o=!1,l=!0,c=/\\/g,h=/\r\n/g,u=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(e,t,i,n){i=i||[],t=t||P;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var o,l,c,h,u,p,m,v,y=!0,_=d.isXML(t),k=[],x=e;do if(s.exec(""),o=s.exec(x),o&&(x=o[3],k.push(o[1]),o[2])){h=o[3];break}while(o);if(k.length>1&&g.exec(e))if(2===k.length&&f.relative[k[0]])l=w(k[0]+k[1],t,n);else for(l=f.relative[k[0]]?[t]:d(k.shift(),t);k.length;)e=k.shift(),f.relative[e]&&(e+=k.shift()),l=w(e,l,n);else if(!n&&k.length>1&&9===t.nodeType&&!_&&f.match.ID.test(k[0])&&!f.match.ID.test(k[k.length-1])&&(u=d.find(k.shift(),t,_),t=u.expr?d.filter(u.expr,u.set)[0]:u.set[0]),t)for(u=n?{expr:k.pop(),set:b(n)}:d.find(k.pop(),1!==k.length||"~"!==k[0]&&"+"!==k[0]||!t.parentNode?t:t.parentNode,_),l=u.expr?d.filter(u.expr,u.set):u.set,k.length>0?c=b(l):y=!1;k.length;)p=k.pop(),m=p,f.relative[p]?m=k.pop():p="",null==m&&(m=t),f.relative[p](c,m,_);else c=k=[];if(c||(c=l),c||d.error(p||e),"[object Array]"===r.call(c))if(y)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&d.contains(t,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else b(c,i);return h&&(d(h,a,i,n),d.uniqueSort(i)),i};d.uniqueSort=function(e){if(y&&(o=l,e.sort(y),o))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,i){var s,n,a,r,o,l;if(!e)return[];for(n=0,a=f.order.length;n<a;n++)if(o=f.order[n],(r=f.leftMatch[o].exec(e))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),s=f.find[o](r,t,i),null!=s))){e=e.replace(f.match[o],"");break}return s||(s="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:s,expr:e}},d.filter=function(e,i,s,n){for(var a,r,o,l,c,h,u,p,g,m=e,v=[],b=i,y=i&&i[0]&&d.isXML(i[0]);e&&i.length;){for(o in f.filter)if(null!=(a=f.leftMatch[o].exec(e))&&a[2]){if(h=f.filter[o],u=a[1],r=!1,a.splice(1,1),"\\"===u.substr(u.length-1))continue;if(b===v&&(v=[]),f.preFilter[o])if(a=f.preFilter[o](a,b,s,v,n,y)){if(a===!0)continue}else r=l=!0;if(a)for(p=0;null!=(c=b[p]);p++)c&&(l=h(c,a,p,b),g=n^l,s&&null!=l?g?r=!0:b[p]=!1:g&&(v.push(c),r=!0));if(l!==t){if(s||(b=v),e=e.replace(f.match[o],""),!r)return[];break}}if(e===m){if(null!=r)break;d.error(e)}m=e}return b},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=d.getText=function(e){var t,i,s=e.nodeType,n="";if(s){if(1===s||9===s){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(h,"");for(e=e.firstChild;e;e=e.nextSibling)n+=p(e)}else if(3===s||4===s)return e.nodeValue}else for(t=0;i=e[t];t++)8!==i.nodeType&&(n+=p(i));return n},f=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,s=i&&!u.test(t),n=i&&!s;s&&(t=t.toLowerCase());for(var a,r=0,o=e.length;r<o;r++)if(a=e[r]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[r]=n||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}n&&d.filter(t,e,!0)},">":function(e,t){var i,s="string"==typeof t,n=0,a=e.length;if(s&&!u.test(t)){for(t=t.toLowerCase();n<a;n++)if(i=e[n]){var r=i.parentNode;e[n]=r.nodeName.toLowerCase()===t&&r}}else{for(;n<a;n++)i=e[n],i&&(e[n]=s?i.parentNode:i.parentNode===t);s&&d.filter(t,e,!0)}},"":function(t,s,n){var r,o=a++,l=e;"string"==typeof s&&!u.test(s)&&(s=s.toLowerCase(),r=s,l=i),l("parentNode",s,o,t,r,n)},"~":function(t,s,n){var r,o=a++,l=e;"string"==typeof s&&!u.test(s)&&(s=s.toLowerCase(),r=s,l=i),l("previousSibling",s,o,t,r,n)}},find:{ID:function(e,t,i){if("undefined"!=typeof t.getElementById&&!i){var s=t.getElementById(e[1]);return s&&s.parentNode?[s]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var i=[],s=t.getElementsByName(e[1]),n=0,a=s.length;n<a;n++)s[n].getAttribute("name")===e[1]&&i.push(s[n]);return 0===i.length?null:i}},TAG:function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,s,n,a){if(e=" "+e[1].replace(c,"")+" ",a)return e;for(var r,o=0;null!=(r=t[o]);o++)r&&(n^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?i||s.push(r):i&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=a++,e},ATTR:function(e,t,i,s,n,a){var r=e[1]=e[1].replace(c,"");return!a&&f.attrMap[r]&&(e[1]=f.attrMap[r]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,n,a){if("not"===e[1]){if(!((s.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var r=d.filter(e[3],t,i,!0^a);return i||n.push.apply(n,r),!1}e[3]=d(e[3],null,null,t)}else if(f.match.POS.test(e[0])||f.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!d(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,s){return t===s.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0===t},eq:function(e,t,i){return i[3]-0===t}},filter:{PSEUDO:function(e,t,i,s){var n=t[1],a=f.filters[n];if(a)return a(e,i,t,s);if("contains"===n)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===n){for(var r=t[3],o=0,l=r.length;o<l;o++)if(r[o]===e)return!1;return!0}d.error(n)},CHILD:function(e,t){var i,s,a,r,o,l,c=t[1],h=e;switch(c){case"only":case"first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=e;case"last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case"nth":if(i=t[2],s=t[3],1===i&&0===s)return!0;if(a=t[0],r=e.parentNode,r&&(r[n]!==a||!e.nodeIndex)){for(o=0,h=r.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++o);r[n]=a}return l=e.nodeIndex-s,0===i?0===l:l%i===0&&l/i>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],s=d.attr?d.attr(e,i):f.attrHandle[i]?f.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),n=s+"",a=t[2],r=t[4];return null==s?"!="===a:!a&&d.attr?null!=s:"="===a?n===r:"*="===a?n.indexOf(r)>=0:"~="===a?(" "+n+" ").indexOf(r)>=0:r?"!="===a?n!==r:"^="===a?0===n.indexOf(r):"$="===a?n.substr(n.length-r.length)===r:"|="===a&&(n===r||n.substr(0,r.length+1)===r+"-"):n&&s!==!1},POS:function(e,t,i,s){var n=t[2],a=f.setFilters[n];if(a)return a(e,i,t,s)}}},g=f.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,m));var b=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(P.documentElement.childNodes,0)[0].nodeType}catch(e){b=function(e,t){var i=0,s=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(s,e);else if("number"==typeof e.length)for(var n=e.length;i<n;i++)s.push(e[i]);else for(;e[i];i++)s.push(e[i]);return s}}var y,_;P.documentElement.compareDocumentPosition?y=function(e,t){return e===t?(o=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(y=function(e,t){if(e===t)return o=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,n=[],a=[],r=e.parentNode,l=t.parentNode,c=r;if(r===l)return _(e,t);if(!r)return-1;if(!l)return 1;for(;c;)n.unshift(c),c=c.parentNode;for(c=l;c;)a.unshift(c),c=c.parentNode;i=n.length,s=a.length;for(var h=0;h<i&&h<s;h++)if(n[h]!==a[h])return _(n[h],a[h]);return h===i?_(e,a[h],-1):_(n[h],t,1)},_=function(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}),function(){var e=P.createElement("div"),i="script"+(new Date).getTime(),s=P.documentElement;e.innerHTML="<a name='"+i+"'/>",s.insertBefore(e,s.firstChild),P.getElementById(i)&&(f.find.ID=function(e,i,s){if("undefined"!=typeof i.getElementById&&!s){var n=i.getElementById(e[1]);return n?n.id===e[1]||"undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id").nodeValue===e[1]?[n]:t:[]}},f.filter.ID=function(e,t){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),s.removeChild(e),s=e=null}(),function(){var e=P.createElement("div");e.appendChild(P.createComment("")),e.getElementsByTagName("*").length>0&&(f.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var s=[],n=0;i[n];n++)1===i[n].nodeType&&s.push(i[n]);i=s}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(f.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),P.querySelectorAll&&function(){var e=d,t=P.createElement("div"),i="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,s,n,a){if(s=s||P,!a&&!d.isXML(s)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(r&&(1===s.nodeType||9===s.nodeType)){if(r[1])return b(s.getElementsByTagName(t),n);if(r[2]&&f.find.CLASS&&s.getElementsByClassName)return b(s.getElementsByClassName(r[2]),n)}if(9===s.nodeType){if("body"===t&&s.body)return b([s.body],n);if(r&&r[3]){var o=s.getElementById(r[3]);if(!o||!o.parentNode)return b([],n);if(o.id===r[3])return b([o],n)}try{return b(s.querySelectorAll(t),n)}catch(e){}}else if(1===s.nodeType&&"object"!==s.nodeName.toLowerCase()){var l=s,c=s.getAttribute("id"),h=c||i,u=s.parentNode,p=/^\s*[+~]/.test(t);c?h=h.replace(/'/g,"\\$&"):s.setAttribute("id",h),p&&u&&(s=s.parentNode);try{if(!p||u)return b(s.querySelectorAll("[id='"+h+"'] "+t),n)}catch(e){}finally{c||l.removeAttribute("id")}}}return e(t,s,n,a)};for(var s in e)d[s]=e[s];t=null}}(),function(){var e=P.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var i=!t.call(P.createElement("div"),"div"),s=!1;try{t.call(P.documentElement,"[test!='']:sizzle")}catch(e){s=!0}d.matchesSelector=function(e,n){if(n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(s||!f.match.PSEUDO.test(n)&&!/!=/.test(n)){var a=t.call(e,n);if(a||!i||e.document&&11!==e.document.nodeType)return a}}catch(e){}return d(n,null,null,[e]).length>0}}}(),function(){var e=P.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;f.order.splice(1,0,"CLASS"),f.find.CLASS=function(e,t,i){if("undefined"!=typeof t.getElementsByClassName&&!i)return t.getElementsByClassName(e[1])},e=null}}(),P.documentElement.contains?d.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:P.documentElement.compareDocumentPosition?d.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:d.contains=function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var w=function(e,t,i){for(var s,n=[],a="",r=t.nodeType?[t]:t;s=f.match.PSEUDO.exec(e);)a+=s[0],e=e.replace(f.match.PSEUDO,"");e=f.relative[e]?e+"*":e;for(var o=0,l=r.length;o<l;o++)d(e,r[o],n,i);return d.filter(a,n)};d.attr=H.attr,d.selectors.attrMap={},H.find=d,H.expr=d.selectors,H.expr[":"]=H.expr.filters,H.unique=d.uniqueSort,H.text=d.getText,H.isXMLDoc=d.isXML,H.contains=d.contains}();var le=/Until$/,ce=/^(?:parents|prevUntil|prevAll)/,he=/,/,ue=/^.[^:#\[\.,]*$/,de=Array.prototype.slice,pe=H.expr.match.POS,fe={children:!0,contents:!0,next:!0,prev:!0};H.fn.extend({find:function(e){var t,i,s=this;if("string"!=typeof e)return H(e).filter(function(){for(t=0,i=s.length;t<i;t++)if(H.contains(s[t],this))return!0});var n,a,r,o=this.pushStack("","find",e);for(t=0,i=this.length;t<i;t++)if(n=o.length,H.find(e,this[t],o),t>0)for(a=n;a<o.length;a++)for(r=0;r<n;r++)if(o[r]===o[a]){o.splice(a--,1);break}return o},has:function(e){var t=H(e);return this.filter(function(){for(var e=0,i=t.length;e<i;e++)if(H.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(S(this,e,!1),"not",e)},filter:function(e){return this.pushStack(S(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?pe.test(e)?H(e,this.context).index(this[0])>=0:H.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var i,s,n=[],a=this[0];if(H.isArray(e)){for(var r=1;a&&a.ownerDocument&&a!==t;){for(i=0;i<e.length;i++)H(a).is(e[i])&&n.push({selector:e[i],elem:a,level:r});a=a.parentNode,r++}return n}var o=pe.test(e)||"string"!=typeof e?H(e,t||this.context):0;for(i=0,s=this.length;i<s;i++)for(a=this[i];a;){if(o?o.index(a)>-1:H.find.matchesSelector(a,e)){n.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===t||11===a.nodeType)break}return n=n.length>1?H.unique(n):n,
this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?H.inArray(this[0],H(e)):H.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?H(e,t):H.makeArray(e&&e.nodeType?[e]:e),s=H.merge(this.get(),i);return this.pushStack(D(i[0])||D(s[0])?s:H.unique(s))},andSelf:function(){return this.add(this.prevObject)}}),H.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return H.dir(e,"parentNode")},parentsUntil:function(e,t,i){return H.dir(e,"parentNode",i)},next:function(e){return H.nth(e,2,"nextSibling")},prev:function(e){return H.nth(e,2,"previousSibling")},nextAll:function(e){return H.dir(e,"nextSibling")},prevAll:function(e){return H.dir(e,"previousSibling")},nextUntil:function(e,t,i){return H.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return H.dir(e,"previousSibling",i)},siblings:function(e){return H.sibling(e.parentNode.firstChild,e)},children:function(e){return H.sibling(e.firstChild)},contents:function(e){return H.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:H.makeArray(e.childNodes)}},function(e,t){H.fn[e]=function(i,s){var n=H.map(this,t,i);return le.test(e)||(s=i),s&&"string"==typeof s&&(n=H.filter(s,n)),n=this.length>1&&!fe[e]?H.unique(n):n,(this.length>1||he.test(s))&&ce.test(e)&&(n=n.reverse()),this.pushStack(n,e,de.call(arguments).join(","))}}),H.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?H.find.matchesSelector(t[0],e)?[t[0]]:[]:H.find.matches(e,t)},dir:function(e,i,s){for(var n=[],a=e[i];a&&9!==a.nodeType&&(s===t||1!==a.nodeType||!H(a).is(s));)1===a.nodeType&&n.push(a),a=a[i];return n},nth:function(e,t,i){t=t||1;for(var s=0;e&&(1!==e.nodeType||++s!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ge="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ve=/^\s+/,be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ye=/<([\w:]+)/,_e=/<tbody/i,we=/<|&#?\w+;/,ke=/<(?:script|style)/i,xe=/<(?:script|object|embed|option|style)/i,Ce=new RegExp("<(?:"+ge+")","i"),Se=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/\/(java|ecma)script/i,Ae=/^\s*<!(?:\[CDATA\[|\-\-)/,Te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},$e=C(P);Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,H.support.htmlSerialize||(Te._default=[1,"div<div>","</div>"]),H.fn.extend({text:function(e){return H.isFunction(e)?this.each(function(t){var i=H(this);i.text(e.call(this,t,i.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(e)):H.text(this)},wrapAll:function(e){if(H.isFunction(e))return this.each(function(t){H(this).wrapAll(e.call(this,t))});if(this[0]){var t=H(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return H.isFunction(e)?this.each(function(t){H(this).wrapInner(e.call(this,t))}):this.each(function(){var t=H(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=H.isFunction(e);return this.each(function(i){H(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=H.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,H.clean(arguments)),e}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!H.filter(e,[i]).length||(!t&&1===i.nodeType&&(H.cleanData(i.getElementsByTagName("*")),H.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&H.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return H.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(me,""):null;if("string"!=typeof e||ke.test(e)||!H.support.leadingWhitespace&&ve.test(e)||Te[(ye.exec(e)||["",""])[1].toLowerCase()])H.isFunction(e)?this.each(function(t){var i=H(this);i.html(e.call(this,t,i.html()))}):this.empty().append(e);else{e=e.replace(be,"<$1></$2>");try{for(var i=0,s=this.length;i<s;i++)1===this[i].nodeType&&(H.cleanData(this[i].getElementsByTagName("*")),this[i].innerHTML=e)}catch(t){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?H.isFunction(e)?this.each(function(t){var i=H(this),s=i.html();i.replaceWith(e.call(this,t,s))}):("string"!=typeof e&&(e=H(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;H(this).remove(),t?H(t).before(e):H(i).append(e)})):this.length?this.pushStack(H(H.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,s){var n,a,r,o,l=e[0],c=[];if(!H.support.checkClone&&3===arguments.length&&"string"==typeof l&&Se.test(l))return this.each(function(){H(this).domManip(e,i,s,!0)});if(H.isFunction(l))return this.each(function(n){var a=H(this);e[0]=l.call(this,n,i?a.html():t),a.domManip(e,i,s)});if(this[0]){if(o=l&&l.parentNode,n=H.support.parentNode&&o&&11===o.nodeType&&o.childNodes.length===this.length?{fragment:o}:H.buildFragment(e,this,c),r=n.fragment,a=1===r.childNodes.length?r=r.firstChild:r.firstChild,a){i=i&&H.nodeName(a,"tr");for(var h=0,u=this.length,d=u-1;h<u;h++)s.call(i?x(this[h],a):this[h],n.cacheable||u>1&&h<d?H.clone(r,!0,!0):r)}c.length&&H.each(c,m)}return this}}),H.buildFragment=function(e,t,i){var s,n,a,r,o=e[0];return t&&t[0]&&(r=t[0].ownerDocument||t[0]),r.createDocumentFragment||(r=P),1===e.length&&"string"==typeof o&&o.length<512&&r===P&&"<"===o.charAt(0)&&!xe.test(o)&&(H.support.checkClone||!Se.test(o))&&(H.support.html5Clone||!Ce.test(o))&&(n=!0,a=H.fragments[o],a&&1!==a&&(s=a)),s||(s=r.createDocumentFragment(),H.clean(e,r,s,i)),n&&(H.fragments[o]=a?s:1),{fragment:s,cacheable:n}},H.fragments={},H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){H.fn[e]=function(i){var s=[],n=H(i),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===n.length)return n[t](this[0]),this;for(var r=0,o=n.length;r<o;r++){var l=(r>0?this.clone(!0):this).get();H(n[r])[t](l),s=s.concat(l)}return this.pushStack(s,e,n.selector)}}),H.extend({clone:function(e,t,i){var s,n,a,r=H.support.html5Clone||!Ce.test("<"+e.nodeName)?e.cloneNode(!0):v(e);if(!(H.support.noCloneEvent&&H.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||H.isXMLDoc(e)))for(w(e,r),s=_(e),n=_(r),a=0;s[a];++a)n[a]&&w(s[a],n[a]);if(t&&(k(e,r),i))for(s=_(e),n=_(r),a=0;s[a];++a)k(s[a],n[a]);return s=n=null,r},clean:function(e,t,i,s){var n;t=t||P,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||P);for(var a,r,o=[],l=0;null!=(r=e[l]);l++)if("number"==typeof r&&(r+=""),r){if("string"==typeof r)if(we.test(r)){r=r.replace(be,"<$1></$2>");var c=(ye.exec(r)||["",""])[1].toLowerCase(),h=Te[c]||Te._default,u=h[0],d=t.createElement("div");for(t===P?$e.appendChild(d):C(t).appendChild(d),d.innerHTML=h[1]+r+h[2];u--;)d=d.lastChild;if(!H.support.tbody){var p=_e.test(r),f="table"!==c||p?"<table>"!==h[1]||p?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes;for(a=f.length-1;a>=0;--a)H.nodeName(f[a],"tbody")&&!f[a].childNodes.length&&f[a].parentNode.removeChild(f[a])}!H.support.leadingWhitespace&&ve.test(r)&&d.insertBefore(t.createTextNode(ve.exec(r)[0]),d.firstChild),r=d.childNodes}else r=t.createTextNode(r);var g;if(!H.support.appendChecked)if(r[0]&&"number"==typeof(g=r.length))for(a=0;a<g;a++)b(r[a]);else b(r);r.nodeType?o.push(r):o=H.merge(o,r)}if(i)for(n=function(e){return!e.type||De.test(e.type)},l=0;o[l];l++)if(!s||!H.nodeName(o[l],"script")||o[l].type&&"text/javascript"!==o[l].type.toLowerCase()){if(1===o[l].nodeType){var m=H.grep(o[l].getElementsByTagName("script"),n);o.splice.apply(o,[l+1,0].concat(m))}i.appendChild(o[l])}else s.push(o[l].parentNode?o[l].parentNode.removeChild(o[l]):o[l]);return o},cleanData:function(e){for(var t,i,s,n=H.cache,a=H.event.special,r=H.support.deleteExpando,o=0;null!=(s=e[o]);o++)if((!s.nodeName||!H.noData[s.nodeName.toLowerCase()])&&(i=s[H.expando])){if(t=n[i],t&&t.events){for(var l in t.events)a[l]?H.event.remove(s,l):H.removeEvent(s,l,t.handle);t.handle&&(t.handle.elem=null)}r?delete s[H.expando]:s.removeAttribute&&s.removeAttribute(H.expando),delete n[i]}}});var Ie,Ee,Me,Pe=/alpha\([^)]*\)/i,Ne=/opacity=([^)]*)/,Fe=/([A-Z]|^ms)/g,He=/^-?\d+(?:px)?$/i,ze=/^-?\d/,Oe=/^([\-+])=([\-+.\de]+)/,je={position:"absolute",visibility:"hidden",display:"block"},Le=["Left","Right"],Re=["Top","Bottom"];H.fn.css=function(e,i){return 2===arguments.length&&i===t?this:H.access(this,e,i,!0,function(e,i,s){return s!==t?H.style(e,i,s):H.css(e,i)})},H.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ie(e,"opacity","opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":H.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,s,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o=H.camelCase(i),l=e.style,c=H.cssHooks[o];if(i=H.cssProps[o]||o,s===t)return c&&"get"in c&&(a=c.get(e,!1,n))!==t?a:l[i];if(r=typeof s,"string"===r&&(a=Oe.exec(s))&&(s=+(a[1]+1)*+a[2]+parseFloat(H.css(e,i)),r="number"),null==s||"number"===r&&isNaN(s))return;if("number"===r&&!H.cssNumber[o]&&(s+="px"),!(c&&"set"in c&&(s=c.set(e,s))===t))try{l[i]=s}catch(e){}}},css:function(e,i,s){var n,a;return i=H.camelCase(i),a=H.cssHooks[i],i=H.cssProps[i]||i,"cssFloat"===i&&(i="float"),a&&"get"in a&&(n=a.get(e,!0,s))!==t?n:Ie?Ie(e,i):void 0},swap:function(e,t,i){var s={};for(var n in t)s[n]=e.style[n],e.style[n]=t[n];i.call(e);for(n in t)e.style[n]=s[n]}}),H.curCSS=H.css,H.each(["height","width"],function(e,t){H.cssHooks[t]={get:function(e,i,s){var n;if(i)return 0!==e.offsetWidth?g(e,t,s):(H.swap(e,je,function(){n=g(e,t,s)}),n)},set:function(e,t){return He.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),H.support.opacity||(H.cssHooks.opacity={get:function(e,t){return Ne.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,n=H.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=s&&s.filter||i.filter||"";i.zoom=1,t>=1&&""===H.trim(a.replace(Pe,""))&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=Pe.test(a)?a.replace(Pe,n):a+" "+n)}}),H(function(){H.support.reliableMarginRight||(H.cssHooks.marginRight={get:function(e,t){var i;return H.swap(e,{display:"inline-block"},function(){i=t?Ie(e,"margin-right","marginRight"):e.style.marginRight}),i}})}),P.defaultView&&P.defaultView.getComputedStyle&&(Ee=function(e,t){var i,s,n;return t=t.replace(Fe,"-$1").toLowerCase(),(s=e.ownerDocument.defaultView)&&(n=s.getComputedStyle(e,null))&&(i=n.getPropertyValue(t),""===i&&!H.contains(e.ownerDocument.documentElement,e)&&(i=H.style(e,t))),i}),P.documentElement.currentStyle&&(Me=function(e,t){var i,s,n,a=e.currentStyle&&e.currentStyle[t],r=e.style;return null===a&&r&&(n=r[t])&&(a=n),!He.test(a)&&ze.test(a)&&(i=r.left,s=e.runtimeStyle&&e.runtimeStyle.left,s&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a||0,a=r.pixelLeft+"px",r.left=i,s&&(e.runtimeStyle.left=s)),""===a?"auto":a}),Ie=Ee||Me,H.expr&&H.expr.filters&&(H.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!H.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||H.css(e,"display"))},H.expr.filters.visible=function(e){return!H.expr.filters.hidden(e)});var We,qe,Be=/%20/g,Qe=/\[\]$/,Ye=/\r?\n/g,Ue=/#.*$/,Ve=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ke=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xe=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ge=/^(?:GET|HEAD)$/,Je=/^\/\//,Ze=/\?/,et=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tt=/^(?:select|textarea)/i,it=/\s+/,st=/([?&])_=[^&]*/,nt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,at=H.fn.load,rt={},ot={},lt=["*/"]+["*"];try{We=F.href}catch(e){We=P.createElement("a"),We.href="",We=We.href}qe=nt.exec(We.toLowerCase())||[],H.fn.extend({load:function(e,i,s){if("string"!=typeof e&&at)return at.apply(this,arguments);if(!this.length)return this;var n=e.indexOf(" ");if(n>=0){var a=e.slice(n,e.length);e=e.slice(0,n)}var r="GET";i&&(H.isFunction(i)?(s=i,i=t):"object"==typeof i&&(i=H.param(i,H.ajaxSettings.traditional),r="POST"));var o=this;return H.ajax({url:e,type:r,dataType:"html",data:i,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),o.html(a?H("<div>").append(i.replace(et,"")).find(a):i)),s&&o.each(s,[i,t,e])}}),this},serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?H.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tt.test(this.nodeName)||Ke.test(this.type))}).map(function(e,t){var i=H(this).val();return null==i?null:H.isArray(i)?H.map(i,function(e){return{name:t.name,value:e.replace(Ye,"\r\n")}}):{name:t.name,value:i.replace(Ye,"\r\n")}}).get()}}),H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){H.fn[t]=function(e){return this.on(t,e)}}),H.each(["get","post"],function(e,i){H[i]=function(e,s,n,a){return H.isFunction(s)&&(a=a||n,n=s,s=t),H.ajax({type:i,url:e,data:s,success:n,dataType:a})}}),H.extend({getScript:function(e,i){return H.get(e,t,i,"script")},getJSON:function(e,t,i){return H.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?d(e,H.ajaxSettings):(t=e,e=H.ajaxSettings),d(e,t),e},ajaxSettings:{url:We,isLocal:Xe.test(qe[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":lt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:f(rt),ajaxTransport:f(ot),ajax:function(e,i){function s(e,i,s,r){if(2!==x){x=2,l&&clearTimeout(l),o=t,a=r||"",C.readyState=e>0?4:0;var u,p,f,w,k,S=i,D=s?h(g,C,s):t;if(e>=200&&e<300||304===e)if(g.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(H.lastModified[n]=w),(k=C.getResponseHeader("Etag"))&&(H.etag[n]=k)),304===e)S="notmodified",u=!0;else try{p=c(g,D),S="success",u=!0}catch(e){S="parsererror",f=e}else f=S,S&&!e||(S="error",e<0&&(e=0));C.status=e,C.statusText=""+(i||S),u?b.resolveWith(m,[p,S,C]):b.rejectWith(m,[C,S,f]),C.statusCode(_),_=t,d&&v.trigger("ajax"+(u?"Success":"Error"),[C,g,u?p:f]),y.fireWith(m,[C,S]),d&&(v.trigger("ajaxComplete",[C,g]),--H.active||H.event.trigger("ajaxStop"))}}"object"==typeof e&&(i=e,e=t),i=i||{};var n,a,r,o,l,u,d,f,g=H.ajaxSetup({},i),m=g.context||g,v=m!==g&&(m.nodeType||m instanceof H)?H(m):H.event,b=H.Deferred(),y=H.Callbacks("once memory"),_=g.statusCode||{},w={},k={},x=0,C={readyState:0,setRequestHeader:function(e,t){if(!x){var i=e.toLowerCase();e=k[i]=k[i]||e,w[e]=t}return this},getAllResponseHeaders:function(){return 2===x?a:null},getResponseHeader:function(e){var i;if(2===x){if(!r)for(r={};i=Ve.exec(a);)r[i[1].toLowerCase()]=i[2];i=r[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return x||(g.mimeType=e),this},abort:function(e){return e=e||"abort",o&&o.abort(e),s(0,e),this}};if(b.promise(C),C.success=C.done,C.error=C.fail,C.complete=y.add,C.statusCode=function(e){if(e){var t;if(x<2)for(t in e)_[t]=[_[t],e[t]];else t=e[C.status],C.then(t,t)}return this},g.url=((e||g.url)+"").replace(Ue,"").replace(Je,qe[1]+"//"),g.dataTypes=H.trim(g.dataType||"*").toLowerCase().split(it),null==g.crossDomain&&(u=nt.exec(g.url.toLowerCase()),g.crossDomain=!(!u||u[1]==qe[1]&&u[2]==qe[2]&&(u[3]||("http:"===u[1]?80:443))==(qe[3]||("http:"===qe[1]?80:443)))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=H.param(g.data,g.traditional)),p(rt,g,i,C),2===x)return!1;if(d=g.global,g.type=g.type.toUpperCase(),g.hasContent=!Ge.test(g.type),d&&0===H.active++&&H.event.trigger("ajaxStart"),!g.hasContent&&(g.data&&(g.url+=(Ze.test(g.url)?"&":"?")+g.data,delete g.data),n=g.url,g.cache===!1)){var S=H.now(),D=g.url.replace(st,"$1_="+S);g.url=D+(D===g.url?(Ze.test(g.url)?"&":"?")+"_="+S:"")}(g.data&&g.hasContent&&g.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",g.contentType),g.ifModified&&(n=n||g.url,H.lastModified[n]&&C.setRequestHeader("If-Modified-Since",H.lastModified[n]),H.etag[n]&&C.setRequestHeader("If-None-Match",H.etag[n])),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+lt+"; q=0.01":""):g.accepts["*"]);for(f in g.headers)C.setRequestHeader(f,g.headers[f]);if(g.beforeSend&&(g.beforeSend.call(m,C,g)===!1||2===x))return C.abort(),!1;for(f in{success:1,error:1,complete:1})C[f](g[f]);if(o=p(ot,g,i,C)){C.readyState=1,d&&v.trigger("ajaxSend",[C,g]),g.async&&g.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},g.timeout));try{x=1,o.send(w,s)}catch(e){if(!(x<2))throw e;s(-1,e)}}else s(-1,"No Transport");return C},param:function(e,i){var s=[],n=function(e,t){t=H.isFunction(t)?t():t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=H.ajaxSettings.traditional),H.isArray(e)||e.jquery&&!H.isPlainObject(e))H.each(e,function(){n(this.name,this.value)});else for(var a in e)u(a,e[a],i,n);return s.join("&").replace(Be,"+")}}),H.extend({active:0,lastModified:{},etag:{}});var ct=H.now(),ht=/(\=)\?(&|$)|\?\?/i;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return H.expando+"_"+ct++}}),H.ajaxPrefilter("json jsonp",function(t,i,s){var n="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(ht.test(t.url)||n&&ht.test(t.data))){var a,r=t.jsonpCallback=H.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=e[r],l=t.url,c=t.data,h="$1"+r+"$2";return t.jsonp!==!1&&(l=l.replace(ht,h),t.url===l&&(n&&(c=c.replace(ht,h)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+r))),t.url=l,t.data=c,e[r]=function(e){a=[e]},s.always(function(){e[r]=o,a&&H.isFunction(o)&&e[r](a[0])}),t.converters["script json"]=function(){return a||H.error(r+" was not called"),a[0]},t.dataTypes[0]="json","script"}}),H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return H.globalEval(e),e}}}),H.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),H.ajaxTransport("script",function(e){if(e.crossDomain){var i,s=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(n,a){i=P.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,s&&i.parentNode&&s.removeChild(i),i=t,n||a(200,"success"))},s.insertBefore(i,s.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ut,dt=!!e.ActiveXObject&&function(){for(var e in ut)ut[e](0,1)},pt=0;H.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||o()}:l,function(e){H.extend(H.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(H.ajaxSettings.xhr()),H.support.ajax&&H.ajaxTransport(function(i){if(!i.crossDomain||H.support.cors){var s;return{send:function(n,a){var r,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),!i.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)l.setRequestHeader(o,n[o])}catch(e){}l.send(i.hasContent&&i.data||null),s=function(e,n){var o,c,h,u,d;try{if(s&&(n||4===l.readyState))if(s=t,r&&(l.onreadystatechange=H.noop,dt&&delete ut[r]),n)4!==l.readyState&&l.abort();else{o=l.status,h=l.getAllResponseHeaders(),u={},d=l.responseXML,d&&d.documentElement&&(u.xml=d),u.text=l.responseText;try{c=l.statusText}catch(e){c=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(e){n||a(-1,e)}u&&a(o,c,u,h)},i.async&&4!==l.readyState?(r=++pt,dt&&(ut||(ut={},H(e).unload(dt)),ut[r]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}}});var ft,gt,mt,vt,bt={},yt=/^(?:toggle|show|hide)$/,_t=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];H.fn.extend({show:function(e,t,i){var a,r;if(e||0===e)return this.animate(n("show",3),e,t,i);for(var o=0,l=this.length;o<l;o++)a=this[o],a.style&&(r=a.style.display,!H._data(a,"olddisplay")&&"none"===r&&(r=a.style.display=""),""===r&&"none"===H.css(a,"display")&&H._data(a,"olddisplay",s(a.nodeName)));for(o=0;o<l;o++)a=this[o],a.style&&(r=a.style.display,""!==r&&"none"!==r||(a.style.display=H._data(a,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(n("hide",3),e,t,i);for(var s,a,r=0,o=this.length;r<o;r++)s=this[r],s.style&&(a=H.css(s,"display"),"none"!==a&&!H._data(s,"olddisplay")&&H._data(s,"olddisplay",a));for(r=0;r<o;r++)this[r].style&&(this[r].style.display="none");return this},_toggle:H.fn.toggle,toggle:function(e,t,i){var s="boolean"==typeof e;return H.isFunction(e)&&H.isFunction(t)?this._toggle.apply(this,arguments):null==e||s?this.each(function(){var t=s?e:H(this).is(":hidden");H(this)[t?"show":"hide"]()}):this.animate(n("toggle",3),e,t,i),this},fadeTo:function(e,t,i,s){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,n){function a(){r.queue===!1&&H._mark(this);var t,i,n,a,o,l,c,h,u,d=H.extend({},r),p=1===this.nodeType,f=p&&H(this).is(":hidden");d.animatedProperties={};for(n in e){if(t=H.camelCase(n),n!==t&&(e[t]=e[n],delete e[n]),i=e[t],H.isArray(i)?(d.animatedProperties[t]=i[1],i=e[t]=i[0]):d.animatedProperties[t]=d.specialEasing&&d.specialEasing[t]||d.easing||"swing","hide"===i&&f||"show"===i&&!f)return d.complete.call(this);p&&("height"===t||"width"===t)&&(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===H.css(this,"display")&&"none"===H.css(this,"float")&&(H.support.inlineBlockNeedsLayout&&"inline"!==s(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=d.overflow&&(this.style.overflow="hidden");for(n in e)a=new H.fx(this,d,n),i=e[n],yt.test(i)?(u=H._data(this,"toggle"+n)||("toggle"===i?f?"show":"hide":0),u?(H._data(this,"toggle"+n,"show"===u?"hide":"show"),a[u]()):a[i]()):(o=_t.exec(i),l=a.cur(),o?(c=parseFloat(o[2]),h=o[3]||(H.cssNumber[n]?"":"px"),"px"!==h&&(H.style(this,n,(c||1)+h),l=(c||1)/a.cur()*l,H.style(this,n,l+h)),o[1]&&(c=("-="===o[1]?-1:1)*c+l),a.custom(l,c,h)):a.custom(l,i,""));return!0}var r=H.speed(t,i,n);return H.isEmptyObject(e)?this.each(r.complete,[!1]):(e=H.extend({},e),r.queue===!1?this.each(a):this.queue(r.queue,a))},stop:function(e,i,s){return"string"!=typeof e&&(s=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,i){var n=t[i];H.removeData(e,i,!0),n.stop(s)}var i,n=!1,a=H.timers,r=H._data(this);if(s||H._unmark(!0,this),null==e)for(i in r)r[i]&&r[i].stop&&i.indexOf(".run")===i.length-4&&t(this,r,i);else r[i=e+".run"]&&r[i].stop&&t(this,r,i);for(i=a.length;i--;)a[i].elem===this&&(null==e||a[i].queue===e)&&(s?a[i](!0):a[i].saveState(),n=!0,a.splice(i,1));(!s||!n)&&H.dequeue(this,e)})}}),H.each({slideDown:n("show",1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){H.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),H.extend({speed:function(e,t,i){var s=e&&"object"==typeof e?H.extend({},e):{complete:i||!i&&t||H.isFunction(e)&&e,duration:e,easing:i&&t||t&&!H.isFunction(t)&&t};return s.duration=H.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in H.fx.speeds?H.fx.speeds[s.duration]:H.fx.speeds._default,null!=s.queue&&s.queue!==!0||(s.queue="fx"),s.old=s.complete,s.complete=function(e){H.isFunction(s.old)&&s.old.call(this),s.queue?H.dequeue(this,s.queue):e!==!1&&H._unmark(this)},s},easing:{linear:function(e,t,i,s){return i+s*e},swing:function(e,t,i,s){return(-Math.cos(e*Math.PI)/2+.5)*s+i}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),H.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(H.fx.step[this.prop]||H.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=H.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,i,s){function n(e){return a.step(e)}var a=this,o=H.fx;this.startTime=vt||r(),this.end=i,this.now=this.start=e,this.pos=this.state=0,this.unit=s||this.unit||(H.cssNumber[this.prop]?"":"px"),n.queue=this.options.queue,n.elem=this.elem,n.saveState=function(){a.options.hide&&H._data(a.elem,"fxshow"+a.prop)===t&&H._data(a.elem,"fxshow"+a.prop,a.start)},n()&&H.timers.push(n)&&!mt&&(mt=setInterval(o.tick,o.interval))},show:function(){var e=H._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||H.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),H(this.elem).show()},hide:function(){this.options.orig[this.prop]=H._data(this.elem,"fxshow"+this.prop)||H.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,s,n=vt||r(),a=!0,o=this.elem,l=this.options;if(e||n>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)l.animatedProperties[t]!==!0&&(a=!1);if(a){if(null!=l.overflow&&!H.support.shrinkWrapBlocks&&H.each(["","X","Y"],function(e,t){o.style["overflow"+t]=l.overflow[e]}),l.hide&&H(o).hide(),l.hide||l.show)for(t in l.animatedProperties)H.style(o,t,l.orig[t]),H.removeData(o,"fxshow"+t,!0),H.removeData(o,"toggle"+t,!0);s=l.complete,s&&(l.complete=!1,s.call(o))}return!1}return l.duration==1/0?this.now=n:(i=n-this.startTime,this.state=i/l.duration,this.pos=H.easing[l.animatedProperties[this.prop]](this.state,i,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},H.extend(H.fx,{tick:function(){for(var e,t=H.timers,i=0;i<t.length;i++)e=t[i],!e()&&t[i]===e&&t.splice(i--,1);t.length||H.fx.stop()},interval:13,stop:function(){clearInterval(mt),mt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){H.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),H.each(["width","height"],function(e,t){H.fx.step[t]=function(e){H.style(e.elem,t,Math.max(0,e.now)+e.unit)}}),H.expr&&H.expr.filters&&(H.expr.filters.animated=function(e){return H.grep(H.timers,function(t){return e===t.elem}).length});var kt=/^t(?:able|d|h)$/i,xt=/^(?:body|html)$/i;"getBoundingClientRect"in P.documentElement?H.fn.offset=function(e){var t,s=this[0];if(e)return this.each(function(t){H.offset.setOffset(this,e,t)});if(!s||!s.ownerDocument)return null;if(s===s.ownerDocument.body)return H.offset.bodyOffset(s);try{t=s.getBoundingClientRect()}catch(e){}var n=s.ownerDocument,a=n.documentElement;if(!t||!H.contains(a,s))return t?{top:t.top,left:t.left}:{top:0,left:0};var r=n.body,o=i(n),l=a.clientTop||r.clientTop||0,c=a.clientLeft||r.clientLeft||0,h=o.pageYOffset||H.support.boxModel&&a.scrollTop||r.scrollTop,u=o.pageXOffset||H.support.boxModel&&a.scrollLeft||r.scrollLeft,d=t.top+h-l,p=t.left+u-c;return{top:d,left:p}}:H.fn.offset=function(e){var t=this[0];if(e)return this.each(function(t){H.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return H.offset.bodyOffset(t);for(var i,s=t.offsetParent,n=t,a=t.ownerDocument,r=a.documentElement,o=a.body,l=a.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,h=t.offsetTop,u=t.offsetLeft;(t=t.parentNode)&&t!==o&&t!==r&&(!H.support.fixedPosition||"fixed"!==c.position);)i=l?l.getComputedStyle(t,null):t.currentStyle,h-=t.scrollTop,u-=t.scrollLeft,t===s&&(h+=t.offsetTop,u+=t.offsetLeft,H.support.doesNotAddBorder&&(!H.support.doesAddBorderForTableAndCells||!kt.test(t.nodeName))&&(h+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),n=s,s=t.offsetParent),H.support.subtractsBorderForOverflowNotVisible&&"visible"!==i.overflow&&(h+=parseFloat(i.borderTopWidth)||0,u+=parseFloat(i.borderLeftWidth)||0),c=i;return"relative"!==c.position&&"static"!==c.position||(h+=o.offsetTop,u+=o.offsetLeft),H.support.fixedPosition&&"fixed"===c.position&&(h+=Math.max(r.scrollTop,o.scrollTop),u+=Math.max(r.scrollLeft,o.scrollLeft)),{top:h,left:u}},H.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return H.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(H.css(e,"marginTop"))||0,i+=parseFloat(H.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=H.css(e,"position");"static"===s&&(e.style.position="relative");var n,a,r=H(e),o=r.offset(),l=H.css(e,"top"),c=H.css(e,"left"),h=("absolute"===s||"fixed"===s)&&H.inArray("auto",[l,c])>-1,u={},d={};h?(d=r.position(),n=d.top,a=d.left):(n=parseFloat(l)||0,a=parseFloat(c)||0),H.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(u.top=t.top-o.top+n),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):r.css(u)}},H.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),s=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(H.css(e,"marginTop"))||0,i.left-=parseFloat(H.css(e,"marginLeft"))||0,s.top+=parseFloat(H.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(H.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||P.body;e&&!xt.test(e.nodeName)&&"static"===H.css(e,"position");)e=e.offsetParent;return e})}}),H.each(["Left","Top"],function(e,s){var n="scroll"+s;H.fn[n]=function(s){var a,r;return s===t?(a=this[0])?(r=i(a),r?"pageXOffset"in r?r[e?"pageYOffset":"pageXOffset"]:H.support.boxModel&&r.document.documentElement[n]||r.document.body[n]:a[n]):null:this.each(function(){r=i(this),r?r.scrollTo(e?H(r).scrollLeft():s,e?s:H(r).scrollTop()):this[n]=s})}}),H.each(["Height","Width"],function(e,i){var s=i.toLowerCase();H.fn["inner"+i]=function(){var e=this[0];return e?e.style?parseFloat(H.css(e,s,"padding")):this[s]():null},H.fn["outer"+i]=function(e){var t=this[0];return t?t.style?parseFloat(H.css(t,s,e?"margin":"border")):this[s]():null},H.fn[s]=function(e){var n=this[0];if(!n)return null==e?null:this;if(H.isFunction(e))return this.each(function(t){var i=H(this);i[s](e.call(this,t,i[s]()))});if(H.isWindow(n)){var a=n.document.documentElement["client"+i],r=n.document.body;
return"CSS1Compat"===n.document.compatMode&&a||r&&r["client"+i]||a}if(9===n.nodeType)return Math.max(n.documentElement["client"+i],n.body["scroll"+i],n.documentElement["scroll"+i],n.body["offset"+i],n.documentElement["offset"+i]);if(e===t){var o=H.css(n,s),l=parseFloat(o);return H.isNumeric(l)?l:o}return this.css(s,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=H,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return H})}(window),function(e,t){function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.4",plugin:{add:function(t,i,s){t=e.ui[t].prototype;for(var n in s)t.plugins[n]=t.plugins[n]||[],t.plugins[n].push([i,s[n]])},call:function(e,t,i){if((t=e.plugins[t])&&e.element[0].parentNode)for(var s=0;s<t.length;s++)e.options[t[s][0]]&&t[s][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;i=i&&"left"===i?"scrollLeft":"scrollTop";var s=!1;return t[i]>0||(t[i]=1,s=t[i]>0,t[i]=0,s)},isOverAxis:function(e,t,i){return e>t&&e<t+i},isOver:function(t,i,s,n,a,r){return e.ui.isOverAxis(t,s,a)&&e.ui.isOverAxis(i,n,r)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var s=this;setTimeout(function(){e(s).focus(),i&&i.call(s)},t)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length){i=e(this[0]);for(var s;i.length&&i[0]!==document;){if(s=i.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(s=parseInt(i.css("zIndex")),!isNaN(s)&&0!=s))return s;i=i.parent()}}return 0}}),e.each(["Width","Height"],function(i,s){function n(t,i,s,n){return e.each(a,function(){i-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,s&&(i-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),n&&(i-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),i}var a="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e.style(this,r,n(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e.style(this,r,n(this,t,!0,i)+"px")})}}),e.extend(e.expr[":"],{data:function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){var s=t.nodeName.toLowerCase(),n=e.attr(t,"tabindex");return"area"===s?(s=t.parentNode,n=s.name,!(!t.href||!n||"map"!==s.nodeName.toLowerCase())&&(t=e("img[usemap=#"+n+"]")[0],!!t&&i(t))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||!isNaN(n):!isNaN(n))&&i(t)},tabbable:function(t){var i=e.attr(t,"tabindex");return(isNaN(i)||i>=0)&&e(t).is(":focusable")}}))}(jQuery),function(e,t){var i=e.fn.remove;e.fn.remove=function(t,s){return this.each(function(){return s||t&&!e.filter(t,[this]).length||e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")}),i.call(e(this),t,s)})},e.widget=function(t,i,s){var n,a=t.split(".")[0];t=t.split(".")[1],n=a+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n]=function(i){return!!e.data(i,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)},i=new i,i.options=e.extend(!0,{},i.options),e[a][t].prototype=e.extend(!0,i,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:n},s),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(i,s){e.fn[i]=function(n){var a="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=this;return n=!a&&r.length?e.extend.apply(null,[!0,n].concat(r)):n,a&&"_"===n.substring(0,1)?o:(a?this.each(function(){var s=e.data(this,i),a=s&&e.isFunction(s[n])?s[n].apply(s,r):s;if(a!==s&&a!==t)return o=a,!1}):this.each(function(){var t=e.data(this,i);t?(n&&t.option(n),t._init()):e.data(this,i,new s(n,this))}),o)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){e.data(i,this.widgetName,this),this.element=e(i),this.options=e.extend(!0,{},this.options,e.metadata&&e.metadata.get(i)[this.widgetName],t);var s=this;this.element.bind("remove."+this.widgetName,function(){s.destroy()}),this._create(),this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,s){var n=i,a=this;if(0===arguments.length)return e.extend({},a.options);if("string"==typeof i){if(s===t)return this.options[i];n={},n[i]=s}return e.each(n,function(e,t){a._setOption(e,t)}),a},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,s){var n=this.options[t];if(i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),s=s||{},i.originalEvent){t=e.event.props.length;for(var a;t;)a=e.event.props[--t],i[a]=i.originalEvent[a]}return this.element.trigger(i,s),!(e.isFunction(n)&&n.call(this.element[0],i,s)===!1||i.isDefaultPrevented())}}}(jQuery),function(e){e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(e._preventClickEvent)return e._preventClickEvent=!1,t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1==t.which,n="string"==typeof this.options.cancel&&e(t.target).parents().add(t.target).filter(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.browser.safari||t.preventDefault(),t.originalEvent.mouseHandled=!0))}},_mouseMove:function(t){return e.browser.msie&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this._preventClickEvent=t.target==this._mouseDownEvent.target,this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!this.element[0]||!this.element[0].parentNode)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options;return t=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone():this.element,t.parents("body").length||t.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),t[0]!=this.element[0]&&!/(fixed|absolute)/.test(t.css("position"))&&t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment)[0];if(i){t=e(t.containment).offset();var s="hidden"!=e(i).css("overflow");this.containment=[t.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,t.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}},_convertPositionTo:function(t,i){i||(i=this.position),t="absolute"==t?1:-1;var s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*t)}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName),a=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r,a=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0],a=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+i.grid[0]:a-i.grid[0]:a)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.4"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("draggable"),n=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(n.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i._refreshItems(),i._trigger("activate",t,a))})},stop:function(t,i){var s=e(this).data("draggable"),n=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,i){var s=e(this).data("draggable"),n=this;e.each(s.sortables,function(){this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","iframeFix",{start:function(){var t=e(this).data("draggable").options;e(t.iframeFix===!0?"iframe":t.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})},stop:function(){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){t=e(i.helper),i=e(this).data("draggable").options,t.css("opacity")&&(i._opacity=t.css("opacity")),t.css("opacity",i.opacity)},stop:function(t,i){t=e(this).data("draggable").options,t._opacity&&e(i.helper).css("opacity",t._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),s=i.options,n=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(s.axis&&"x"==s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"==s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"==s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"==s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),s=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(t,i){for(var s=e(this).data("draggable"),n=s.options,a=n.snapTolerance,r=i.offset.left,o=r+s.helperProportions.width,l=i.offset.top,c=l+s.helperProportions.height,h=s.snapElements.length-1;h>=0;h--){var u=s.snapElements[h].left,d=u+s.snapElements[h].width,p=s.snapElements[h].top,f=p+s.snapElements[h].height;if(u-a<r&&r<d+a&&p-a<l&&l<f+a||u-a<r&&r<d+a&&p-a<c&&c<f+a||u-a<o&&o<d+a&&p-a<l&&l<f+a||u-a<o&&o<d+a&&p-a<c&&c<f+a){if("inner"!=n.snapMode){var g=Math.abs(p-c)<=a,m=Math.abs(f-l)<=a,v=Math.abs(u-o)<=a,b=Math.abs(d-r)<=a;g&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u-s.helperProportions.width}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:d}).left-s.margins.left)}var y=g||m||v||b;"outer"!=n.snapMode&&(g=Math.abs(p-l)<=a,m=Math.abs(f-c)<=a,v=Math.abs(u-r)<=a,b=Math.abs(d-o)<=a,g&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f-s.helperProportions.height,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:d-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[h].snapping&&(g||m||v||b||y)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[h].item})),s.snapElements[h].snapping=g||m||v||b||y}else s.snapElements[h].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[h].item})),s.snapElements[h].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options;if(t=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}),t.length){var i=parseInt(t[0].style.zIndex)||0;e(t).each(function(e){this.style.zIndex=i+e}),this[0].style.zIndex=i+t.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){t=e(i.helper),i=e(this).data("draggable").options,t.css("zIndex")&&(i._zIndex=t.css("zIndex")),t.css("zIndex",i.zIndex)},stop:function(t,i){t=e(this).data("draggable").options,t._zIndex&&e(i.helper).css("zIndex",t._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current;if(!s||(s.currentItem||s.element)[0]==this.element[0])return!1;var n=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.4"}),e.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left,a=n+t.helperProportions.width,r=(t.positionAbs||t.position.absolute).top,o=r+t.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,h=i.offset.top,u=h+i.proportions.height;switch(s){case"fit":return l<=n&&a<=c&&h<=r&&o<=u;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&h<r+t.helperProportions.height/2&&o-t.helperProportions.height/2<u;case"pointer":return e.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,h,l,i.proportions.height,i.proportions.width);case"touch":return(r>=h&&r<=u||o>=h&&o<=u||r<h&&o>u)&&(n>=l&&n<=c||a>=l&&a<=c||n<l&&a>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s=e.ui.ddmanager.droppables[t.options.scope]||[],n=i?i.type:null,a=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r=0;e:for(;r<s.length;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(var o=0;o<a.length;o++)if(a[o]==s[r].element[0]){s[r].proportions.height=0;continue e}s[r].visible="none"!=s[r].element.css("display"),s[r].visible&&(s[r].offset=s[r].element.offset(),s[r].proportions={width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight},"mousedown"==n&&s[r]._activate.call(s[r],i))}},drop:function(t,i){var s=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=s||this._drop.call(this,i)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),s},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s=e.ui.intersect(t,this,this.options.tolerance);if(s=s||1!=this.isover?s&&0==this.isover?"isover":null:"isout"){var n;if(this.options.greedy){var a=this.element.parents(":data(droppable):eq(0)");a.length&&(n=e.data(a[0],"droppable"),n.greedyChild="isover"==s?1:0)}n&&"isover"==s&&(n.isover=0,n.isout=1,n._out.call(n,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),n&&"isout"==s&&(n.isout=0,n.isover=1,n._over.call(n,i))}}})}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null
}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var n=0;n<s.length;n++){var a=e.trim(s[n]),r=e('<div class="ui-resizable-handle ui-resizable-'+a+'"></div>');/sw|se|ne|nw/.test(a)&&r.css({zIndex:++i.zIndex}),"se"==a&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(r)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s=e(this.handles[i],this.element),n=0;n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,n),this._proportionallyResize()}e(this.handles[i])}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide"),t._handles.show()},function(){t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var s in this.handles)e(this.handles[s])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var s=this.options,n=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:n.top,left:n.left}),e.browser.opera&&/relative/.test(a.css("position"))&&a.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),n=t(this.helper.css("left"));var r=t(this.helper.css("top"));return s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"==s?this.axis+"-resize":s),a.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var t=this.helper,i=this.originalMousePosition,s=this._change[this.axis];return!!s&&(i=s.apply(this,[e,e.pageX-i.left||0,e.pageY-i.top||0]),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(i),this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var i=this.options,s=this;if(this._helper){var n=this._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName);n=a&&e.ui.hasScroll(n[0],"left")?0:s.sizeDiff.height,a={width:s.size.width-(a?0:s.sizeDiff.width),height:s.size.height-n},n=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null;var r=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;i.animate||this.element.css(e.extend(a,{top:r,left:n})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return e.height?e.width=i.height*this.aspectRatio:e.width&&(e.height=i.width/this.aspectRatio),"sw"==s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"==s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this.options,s=this.axis,n=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,o=i(e.height)&&t.minHeight&&t.minHeight>e.height;r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(s);return s=/nw|ne|n/.test(s),r&&h&&(e.left=l-t.minWidth),n&&h&&(e.left=l-t.maxWidth),o&&s&&(e.top=c-t.minHeight),a&&s&&(e.top=c-t.maxHeight),(t=!e.width&&!e.height)&&!e.left&&e.top?e.top=null:t&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var s=this._proportionallyResizeElements[i];if(!this.borderDif){var n=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],a=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=e.map(n,function(e,t){return e=parseInt(e,10)||0,t=parseInt(a[t],10)||0,e+t})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||s.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.options;if(this.elementOffset=this.element.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.browser.msie&&e.browser.version<7,s=i?1:0;i=i?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(e,t,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.4"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable").options,i=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):e.each(t.alsoResize,function(e){i(e)})},resize:function(t,i){var s=e(this).data("resizable");t=s.options;var n=s.originalSize,a=s.originalPosition,r={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},o=function(t,n){e(t).each(function(){var t=e(this),a=e(this).data("resizable-alsoresize"),o={},l=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(l,function(e,t){(e=(a[t]||0)+(r[t]||0))&&e>=0&&(o[t]=e||null)}),e.browser.opera&&/relative/.test(t.css("position"))&&(s._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(o)})};"object"!=typeof t.alsoResize||t.alsoResize.nodeType?o(t.alsoResize):e.each(t.alsoResize,function(e,t){o(e,t)})},stop:function(){var t=e(this).data("resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.css({position:t.data("resizable-alsoresize").position})})};t._revertToRelativePosition&&(t._revertToRelativePosition=!1,"object"!=typeof i.alsoResize||i.alsoResize.nodeType?s(i.alsoResize):e.each(i.alsoResize,function(e){s(e)})),e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),r=a&&e.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height;a={width:i.size.width-(a?0:i.sizeDiff.width),height:i.size.height-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;var o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(a,o&&r?{top:o,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i=e(this).data("resizable"),s=i.element,n=i.options.containment;if(s=n instanceof e?n.get(0):/parent/.test(n)?s.parent().get(0):n)if(i.containerElement=e(s),/document/.test(n)||n==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var a=e(s),r=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=t(a.css("padding"+i))}),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-r[3],width:a.innerWidth()-r[1]},n=i.containerOffset;var o=i.containerSize.height,l=i.containerSize.width;l=e.ui.hasScroll(s,"left")?s.scrollWidth:l,o=e.ui.hasScroll(s)?s.scrollHeight:o,i.parentData={element:s,left:n.left,top:n.top,width:l,height:o}}},resize:function(t){var i=e(this).data("resizable"),s=i.options,n=i.containerOffset,a=i.position;t=i._aspectRatio||t.shiftKey;var r={top:0,left:0},o=i.containerElement;o[0]!=document&&/static/.test(o.css("position"))&&(r=n),a.left<(i._helper?n.left:0)&&(i.size.width+=i._helper?i.position.left-n.left:i.position.left-r.left,t&&(i.size.height=i.size.width/s.aspectRatio),i.position.left=s.helper?n.left:0),a.top<(i._helper?n.top:0)&&(i.size.height+=i._helper?i.position.top-n.top:i.position.top,t&&(i.size.width=i.size.height*s.aspectRatio),i.position.top=i._helper?n.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top,s=Math.abs((i._helper?i.offset.left-r.left:i.offset.left-r.left)+i.sizeDiff.width),n=Math.abs((i._helper?i.offset.top-r.top:i.offset.top-n.top)+i.sizeDiff.height),a=i.containerElement.get(0)==i.element.parent().get(0),r=/relative|absolute/.test(i.containerElement.css("position")),a&&r&&(s-=i.parentData.left),s+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-s,t&&(i.size.height=i.size.width/i.aspectRatio)),n+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-n,t&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=e(this).data("resizable"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,r=e(t.helper),o=r.offset(),l=r.outerWidth()-t.sizeDiff.width;r=r.outerHeight()-t.sizeDiff.height,t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:r}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:r})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("resizable"),i=t.options,s=t.size,n=t.originalSize,a=t.originalPosition,r=t.axis;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var o=Math.round((s.width-n.width)/(i.grid[0]||1))*(i.grid[0]||1);i=Math.round((s.height-n.height)/(i.grid[1]||1))*(i.grid[1]||1),/^(se|s|e)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i):/^(ne)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i,t.position.top=a.top-i):(/^(sw)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i):(t.size.width=n.width+o,t.size.height=n.height+i,t.position.top=a.top-i),t.position.left=a.left-o)}});var t=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var s=this.options;this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().andSelf().each(function(){var s=e.data(this,"selectable-item");if(s){var n=!t.metaKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,(s.selected=n)?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,n=this.opos[0],a=this.opos[1],r=t.pageX,o=t.pageY;if(n>r){var l=r;r=n,n=l}return a>o&&(l=o,o=a,a=l),this.helper.css({left:n,top:a,width:r-n,height:o-a}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==s.tolerance?c=!(l.left>r||l.right<n||l.top>o||l.bottom<a):"fit"==s.tolerance&&(c=l.left>n&&l.right<r&&l.top>a&&l.bottom<o),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&(t.metaKey&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.4"})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&/left|right/.test(this.items[0].item.css("float")),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData("sortable-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null,n=this;if(e(t.target).parents().each(function(){if(e.data(this,"sortable-item")==n)return s=e(this),!1}),e.data(t.target,"sortable-item")==n&&(s=e(t.target)),!s)return!1;if(this.options.handle&&!i){var a=!1;if(e(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(a=!0)}),!a)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,s){i=this.options;var n=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,n._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}for(this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--){s=this.items[i];var n=s.item[0],a=this._intersectsWithPointer(s);if(a&&!(n==this.currentItem[0]||this.placeholder[1==a?"next":"prev"]()[0]==n||e.ui.contains(this.placeholder[0],n)||"semi-dynamic"==this.options.type&&e.ui.contains(this.element[0],n))){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this;i=s.placeholder.offset(),s.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-s.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-s.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp(),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,t._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,t._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,r=a+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,h=this.offset.click.left;return c=s+c>o&&s+c<l&&t+h>a&&t+h<r,"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&o<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=i&&t,t=this._getDragVerticalDirection();var s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"==s||"down"==t?2:1:t&&("down"==t?2:1))},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width);var s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"==n&&t||"left"==n&&!t:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],s=[],n=this._connectWith();if(n&&t)for(t=n.length-1;t>=0;t--)for(var a=e(n[t]),r=a.length-1;r>=0;r--){var o=e.data(a[r],"sortable");o&&o!=this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;t>=0;t--)s[t][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),t=0;t<this.items.length;t++)for(var i=0;i<e.length;i++)e[i]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,s=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],n=this._connectWith();if(n)for(var a=n.length-1;a>=0;a--)for(var r=e(n[a]),o=r.length-1;o>=0;o--){var l=e.data(r[o],"sortable");l&&l!=this&&!l.options.disabled&&(s.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(a=s.length-1;a>=0;a--)for(t=s[a][1],n=s[a][0],o=0,r=n.length;o<r;o++)l=e(n[o]),l.data("sortable-item",t),i.push({item:l,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item;t||(s.width=n.outerWidth(),s.height=n.outerHeight()),n=n.offset(),s.left=n.left,s.top=n.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,s=i.options;if(!s.placeholder||s.placeholder.constructor==String){var n=s.placeholder;s.placeholder={element:function(){var t=e(document.createElement(i.currentItem[0].nodeName)).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(t.style.visibility="hidden"),t},update:function(e,t){n&&!s.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=e(s.placeholder.element.call(i.element,i.currentItem)),
i.currentItem.after(i.placeholder),s.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var i=null,s=null,n=this.containers.length-1;n>=0;n--)e.ui.contains(this.currentItem[0],this.containers[n].element[0])||(this._intersectsWith(this.containers[n].containerCache)?i&&e.ui.contains(this.containers[n].element[0],i.element[0])||(i=this.containers[n],s=n):this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0));if(i)if(1===this.containers.length)this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1;else if(this.currentContainer!=this.containers[s]){i=1e4,n=null;for(var a=this.positionAbs[this.containers[s].floating?"left":"top"],r=this.items.length-1;r>=0;r--)if(e.ui.contains(this.containers[s].element[0],this.items[r].item[0])){var o=this.items[r][this.containers[s].floating?"left":"top"];Math.abs(o-a)<i&&(i=Math.abs(o-a),n=this.items[r])}(n||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[s],n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[s].element,!0),this._trigger("change",t,this._uiHash()),this.containers[s]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1)}},_createHelper:function(t){var i=this.options;return t=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem,t.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==t[0].style.width||i.forceHelperSize)&&t.width(this.currentItem.width()),(""==t[0].style.height||i.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0];t=e(t.containment).offset();var s="hidden"!=e(i).css("overflow");this.containment=[t.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,t.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position),t="absolute"==t?1:-1;var s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*t)}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r,a=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0],a=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+i.grid[0]:a-i.grid[0]:a)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this,a=this.counter;window.setTimeout(function(){a==n.counter&&n.refreshPositions(!s)},0)},_clear:function(t,i){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)"auto"!=this._storedCSS[n]&&"static"!=this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||s.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0]))for(i||s.push(function(e){this._trigger("remove",e,this._uiHash())}),n=this.containers.length-1;n>=0;n--)e.ui.contains(this.containers[n].element[0],this.currentItem[0])&&!i&&(s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[n])),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[n])));for(n=this.containers.length-1;n>=0;n--)i||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.4"})}(jQuery),jQuery.effects||function(e,t){function i(t){var i;return t&&t.constructor==Array&&3==t.length?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?l.transparent:l[e.trim(t).toLowerCase()]}function s(t,s){var n;do{if(n=e.curCSS(t,s),""!=n&&"transparent"!=n||e.nodeName(t,"body"))break;s="backgroundColor"}while(t=t.parentNode);return i(n)}function n(){var e,t,i=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(var n=i.length;n--;)e=i[n],"string"==typeof i[e]&&(t=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),s[t]=i[e]);else for(e in i)"string"==typeof i[e]&&(s[e]=i[e]);return s}function a(t){var i,s;for(i in t)s=t[i],(null==s||e.isFunction(s)||i in h||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(s)))&&delete t[i];return t}function r(e,t){var i,s={_:0};for(i in t)e[i]!=t[i]&&(s[i]=t[i]);return s}function o(t,i,s,n){return"object"==typeof t&&(n=i,s=null,i=t,t=i.effect),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i=i||{},s=s||i.duration,s=e.fx.off?0:"number"==typeof s?s:e.fx.speeds[s]||e.fx.speeds._default,n=n||i.complete,[t,i,s,n]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(t,n){e.fx.step[n]=function(e){e.colorInit||(e.start=s(e.elem,n),e.end=i(e.end),e.colorInit=!0),e.elem.style[n]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var l={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},c=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,i,s,o){return e.isFunction(s)&&(o=s,s=null),this.each(function(){var l,h=e(this),u=h.attr("style")||" ",d=a(n.call(this)),p=h.attr("className");e.each(c,function(e,i){t[i]&&h[i+"Class"](t[i])}),l=a(n.call(this)),h.attr("className",p),h.animate(r(d,l),i,s,function(){e.each(c,function(e,i){t[i]&&h[i+"Class"](t[i])}),"object"==typeof h.attr("style")?(h.attr("style").cssText="",h.attr("style").cssText=u):h.attr("style",u),o&&o.apply(this,arguments)})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,s,n){return i?e.effects.animateClass.apply(this,[{add:t},i,s,n]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,s,n){return i?e.effects.animateClass.apply(this,[{remove:t},i,s,n]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,s,n,a,r){return"boolean"==typeof s||s===t?n?e.effects.animateClass.apply(this,[s?{add:i}:{remove:i},n,a,r]):this._toggleClass(i,s):e.effects.animateClass.apply(this,[{toggle:i},s,n,a])},switchClass:function(t,i,s,n,a){return e.effects.animateClass.apply(this,[{add:i,remove:t},s,n,a])}}),e.extend(e.effects,{version:"1.8.4",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":e=0;break;case"center":e=.5;break;case"right":e=1;break;default:e=e[1]/t.width}return{x:e,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(s),s=t.parent(),"static"==t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0})),s.css(i).show()},removeWrapper:function(e){return e.parent().is(".ui-effects-wrapper")?e.parent().replaceWith(e):e},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){unit=t.cssUnit(i),unit[0]>0&&(n[i]=unit[0]*s+unit[1])}),n}}),e.fn.extend({effect:function(t){var i=o.apply(this,arguments);i={options:i[1],duration:i[2],callback:i[3]};var s=e.effects[t];return s&&!e.fx.off?s.call(this,i):this},_show:e.fn.show,show:function(t){if(!t||"number"==typeof t||e.fx.speeds[t])return this._show.apply(this,arguments);var i=o.apply(this,arguments);return i[1].mode="show",this.effect.apply(this,i)},_hide:e.fn.hide,hide:function(t){if(!t||"number"==typeof t||e.fx.speeds[t])return this._hide.apply(this,arguments);var i=o.apply(this,arguments);return i[1].mode="hide",this.effect.apply(this,i)},__toggle:e.fn.toggle,toggle:function(t){if(!t||"number"==typeof t||e.fx.speeds[t]||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=o.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,i,s,n,a){return e.easing[e.easing.def](t,i,s,n,a)},easeInQuad:function(e,t,i,s,n){return s*(t/=n)*t+i},easeOutQuad:function(e,t,i,s,n){return-s*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,s,n){return s*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,s,n){return s*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,s,n){return s*(t/=n)*t*t*t+i},easeOutQuart:function(e,t,i,s,n){return-s*((t=t/n-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t+i:-s/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,s,n){return s*(t/=n)*t*t*t*t+i},easeOutQuint:function(e,t,i,s,n){return s*((t=t/n-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+i:s/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,s,n){return-s*Math.cos(t/n*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,n){return s*Math.sin(t/n*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,n){return-s/2*(Math.cos(Math.PI*t/n)-1)+i},easeInExpo:function(e,t,i,s,n){return 0==t?i:s*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,s,n){return t==n?i+s:s*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,s,n){return 0==t?i:t==n?i+s:(t/=n/2)<1?s/2*Math.pow(2,10*(t-1))+i:s/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,s,n){return-s*(Math.sqrt(1-(t/=n)*t)-1)+i},easeOutCirc:function(e,t,i,s,n){return s*Math.sqrt(1-(t=t/n-1)*t)+i},easeInOutCirc:function(e,t,i,s,n){return(t/=n/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:1==(t/=n)?i+s:(a||(a=.3*n),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a))+i)},easeOutElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:1==(t/=n)?i+s:(a||(a=.3*n),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),r*Math.pow(2,-10*t)*Math.sin(2*(t*n-e)*Math.PI/a)+s+i)},easeInOutElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:2==(t/=n/2)?i+s:(a||(a=.3*n*1.5),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),t<1?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a)+i:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a)*.5+s+i)},easeInBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),n*(i/=a)*i*((r+1)*i-r)+s},easeOutBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),n*((i=i/a-1)*i*((r+1)*i+r)+1)+s},easeInOutBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),(i/=a/2)<1?n/2*i*i*(((r*=1.525)+1)*i-r)+s:n/2*((i-=2)*i*(((r*=1.525)+1)*i+r)+2)+s},easeInBounce:function(t,i,s,n,a){return n-e.easing.easeOutBounce(t,a-i,0,n,a)+s},easeOutBounce:function(e,t,i,s,n){return(t/=n)<1/2.75?7.5625*s*t*t+i:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+i:s*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,s,n,a){return i<a/2?.5*e.easing.easeInBounce(t,2*i,0,n,a)+s:.5*e.easing.easeOutBounce(t,2*i-a,0,n,a)+.5*n+s}})}(jQuery),function(e){e.effects.blind=function(t){return this.queue(function(){var i=e(this),s=["position","top","left"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,s),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"}),o="vertical"==a?"height":"width";a="vertical"==a?r.height():r.width(),"show"==n&&r.css(o,0);var l={};l[o]="show"==n?a:0,r.animate(l,t.duration,t.options.easing,function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.effects.bounce=function(t){return this.queue(function(){var i=e(this),s=["position","top","left"],n=e.effects.setMode(i,t.options.mode||"effect"),a=t.options.direction||"up",r=t.options.distance||20,o=t.options.times||5,l=t.duration||250;/show|hide/.test(n)&&s.push("opacity"),e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var c="up"==a||"down"==a?"top":"left";if(a="up"==a||"left"==a?"pos":"neg",r=t.options.distance||("top"==c?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3),"show"==n&&i.css("opacity",0).css(c,"pos"==a?-r:r),"hide"==n&&(r/=2*o),"hide"!=n&&o--,"show"==n){var h={opacity:1};h[c]=("pos"==a?"+=":"-=")+r,i.animate(h,l/2,t.options.easing),r/=2,o--}for(h=0;h<o;h++){var u={},d={};u[c]=("pos"==a?"-=":"+=")+r,d[c]=("pos"==a?"+=":"-=")+r,i.animate(u,l/2,t.options.easing).animate(d,l/2,t.options.easing),r="hide"==n?2*r:r/2}"hide"==n?(h={opacity:0},h[c]=("pos"==a?"-=":"+=")+r,i.animate(h,l/2,t.options.easing,function(){i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})):(u={},d={},u[c]=("pos"==a?"-=":"+=")+r,d[c]=("pos"==a?"+=":"-=")+r,i.animate(u,l/2,t.options.easing).animate(d,l/2,t.options.easing,function(){e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(e){e.effects.clip=function(t){return this.queue(function(){var i=e(this),s=["position","top","left","height","width"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,s),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"});r="IMG"==i[0].tagName?r:i;var o={size:"vertical"==a?"height":"width",position:"vertical"==a?"top":"left"};a="vertical"==a?r.height():r.width(),"show"==n&&(r.css(o.size,0),r.css(o.position,a/2));var l={};l[o.size]="show"==n?a:0,l[o.position]="show"==n?0:a/2,r.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.drop=function(t){return this.queue(function(){var i=e(this),s=["position","top","left","opacity"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"left";e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var r="up"==a||"down"==a?"top":"left";a="up"==a||"left"==a?"pos":"neg";var o=t.options.distance||("top"==r?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);"show"==n&&i.css("opacity",0).css(r,"pos"==a?-o:o);var l={opacity:"show"==n?1:0};l[r]=("show"==n?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+o,i.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.explode=function(t){return this.queue(function(){var i=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,s=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var n=e(this).show().css("visibility","hidden"),a=n.offset();a.top-=parseInt(n.css("marginTop"),10)||0,a.left-=parseInt(n.css("marginLeft"),10)||0;for(var r=n.outerWidth(!0),o=n.outerHeight(!0),l=0;l<i;l++)for(var c=0;c<s;c++)n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(r/s),top:-l*(o/i)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r/s,height:o/i,left:a.left+c*(r/s)+("show"==t.options.mode?(c-Math.floor(s/2))*(r/s):0),top:a.top+l*(o/i)+("show"==t.options.mode?(l-Math.floor(i/2))*(o/i):0),opacity:"show"==t.options.mode?0:1}).animate({left:a.left+c*(r/s)+("show"==t.options.mode?0:(c-Math.floor(s/2))*(r/s)),top:a.top+l*(o/i)+("show"==t.options.mode?0:(l-Math.floor(i/2))*(o/i)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?n.css({visibility:"visible"}):n.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(n[0]),n.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(e){e.effects.fade=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.fold=function(t){return this.queue(function(){var i=e(this),s=["position","top","left"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.size||15,r=!!t.options.horizFirst,o=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(i,s),i.show();var l=e.effects.createWrapper(i).css({overflow:"hidden"}),c="show"==n!=r,h=c?["width","height"]:["height","width"];c=c?[l.width(),l.height()]:[l.height(),l.width()];var u=/([0-9]+)%/.exec(a);u&&(a=parseInt(u[1],10)/100*c["hide"==n?0:1]),"show"==n&&l.css(r?{height:0,width:a}:{height:a,width:0}),r={},u={},r[h[0]]="show"==n?c[0]:a,u[h[1]]="show"==n?c[1]:0,l.animate(r,o,t.options.easing).animate(u,o,t.options.easing,function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.effects.highlight=function(t){return this.queue(function(){var i=e(this),s=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(i,t.options.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"==n&&(a.opacity=0),e.effects.save(i,s),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),"show"==n&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.pulsate=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"show");for(times=2*(t.options.times||5)-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),("hide"==s&&isVisible||"show"==s&&!isVisible)&&times--,s=0;s<times;s++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){0==animateTo&&i.hide(),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(e){e.effects.puff=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"hide"),n=parseInt(t.options.percent,10)||150,a=n/100,r={height:i.height(),width:i.width()};e.extend(t.options,{fade:!0,mode:s,percent:"hide"==s?n:100,from:"hide"==s?r:{height:r.height*a,width:r.width*a}}),i.effect("scale",t.options,t.duration,t.callback),i.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var i=e(this),s=e.extend(!0,{},t.options),n=e.effects.setMode(i,t.options.mode||"effect"),a=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==n?0:100),r=t.options.direction||"both",o=t.options.origin;"effect"!=n&&(s.origin=o||["middle","center"],s.restore=!0),o={height:i.height(),width:i.width()},i.from=t.options.from||("show"==n?{height:0,width:0}:o),a={y:"horizontal"!=r?a/100:1,x:"vertical"!=r?a/100:1},i.to={height:o.height*a.y,width:o.width*a.x},t.options.fade&&("show"==n&&(i.from.opacity=0,i.to.opacity=1),"hide"==n&&(i.from.opacity=1,i.to.opacity=0)),s.from=i.from,s.to=i.to,s.mode=n,i.effect("size",s,t.duration,t.callback),i.dequeue()})},e.effects.size=function(t){return this.queue(function(){var i=e(this),s=["position","top","left","width","height","overflow","opacity"],n=["position","top","left","overflow","opacity"],a=["width","height","overflow"],r=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(i,t.options.mode||"effect"),h=t.options.restore||!1,u=t.options.scale||"both",d=t.options.origin,p={height:i.height(),width:i.width()};i.from=t.options.from||p,i.to=t.options.to||p,d&&(d=e.effects.getBaseline(d,p),i.from.top=(p.height-i.from.height)*d.y,i.from.left=(p.width-i.from.width)*d.x,i.to.top=(p.height-i.to.height)*d.y,i.to.left=(p.width-i.to.width)*d.x);var f={from:{y:i.from.height/p.height,x:i.from.width/p.width},to:{y:i.to.height/p.height,x:i.to.width/p.width}};"box"!=u&&"both"!=u||(f.from.y!=f.to.y&&(s=s.concat(o),i.from=e.effects.setTransition(i,o,f.from.y,i.from),i.to=e.effects.setTransition(i,o,f.to.y,i.to)),f.from.x!=f.to.x&&(s=s.concat(l),i.from=e.effects.setTransition(i,l,f.from.x,i.from),i.to=e.effects.setTransition(i,l,f.to.x,i.to))),"content"!=u&&"both"!=u||f.from.y!=f.to.y&&(s=s.concat(r),i.from=e.effects.setTransition(i,r,f.from.y,i.from),i.to=e.effects.setTransition(i,r,f.to.y,i.to)),e.effects.save(i,h?s:n),i.show(),e.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),"content"!=u&&"both"!=u||(o=o.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a=s.concat(o).concat(l),i.find("*[width]").each(function(){child=e(this),h&&e.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*f.from.y,width:i.width*f.from.x},child.to={height:i.height*f.to.y,width:i.width*f.to.x},f.from.y!=f.to.y&&(child.from=e.effects.setTransition(child,o,f.from.y,child.from),child.to=e.effects.setTransition(child,o,f.to.y,child.to)),f.from.x!=f.to.x&&(child.from=e.effects.setTransition(child,l,f.from.x,child.from),child.to=e.effects.setTransition(child,l,f.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){h&&e.effects.restore(child,a)})})),i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===i.to.opacity&&i.css("opacity",i.from.opacity),"hide"==c&&i.hide(),e.effects.restore(i,h?s:n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.shake=function(t){return this.queue(function(){var i=e(this),s=["position","top","left"];e.effects.setMode(i,t.options.mode||"effect");var n=t.options.direction||"left",a=t.options.distance||20,r=t.options.times||3,o=t.duration||t.options.duration||140;e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var l="up"==n||"down"==n?"top":"left",c="up"==n||"left"==n?"pos":"neg";n={};var h={},u={};for(n[l]=("pos"==c?"-=":"+=")+a,h[l]=("pos"==c?"+=":"-=")+2*a,u[l]=("pos"==c?"-=":"+=")+2*a,i.animate(n,o,t.options.easing),a=1;a<r;a++)i.animate(h,o,t.options.easing).animate(u,o,t.options.easing);i.animate(h,o,t.options.easing).animate(n,o/2,t.options.easing,function(){e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(e){e.effects.slide=function(t){return this.queue(function(){var i=e(this),s=["position","top","left"],n=e.effects.setMode(i,t.options.mode||"show"),a=t.options.direction||"left";e.effects.save(i,s),i.show(),e.effects.createWrapper(i).css({overflow:"hidden"});var r="up"==a||"down"==a?"top":"left";a="up"==a||"left"==a?"pos":"neg";var o=t.options.distance||("top"==r?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));"show"==n&&i.css(r,"pos"==a?-o:o);var l={};l[r]=("show"==n?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+o,i.animate(l,{queue:!1,duration:t.duration,
easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.transfer=function(t){return this.queue(function(){var i=e(this),s=e(t.options.to),n=s.offset();s={top:n.top,left:n.left,height:s.innerHeight(),width:s.innerWidth()},n=i.offset();var a=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:n.top,left:n.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(s,t.duration,t.options.easing,function(){a.remove(),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var s=t.element.find("a").filter(i.navigationFilter).eq(0);if(s.length){var n=s.closest(".ui-accordion-header");t.active=n.length?n:s.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&i.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(i),"icons"==t&&(this._destroyIcons(),i&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return!a||(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),!1)}},resize:function(){var t,i=this.options;if(i.fillSpace){if(e.browser.msie){var s=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",s),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){return this.options.active=e,e=this._findActive(e)[0],this._clickHandler({target:e},e),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var s=this.options;if(!s.disabled)if(t.target)t=e(t.currentTarget||i),i=t[0]===this.active[0],s.active=(!s.collapsible||!i)&&this.headers.index(t),this.running||!s.collapsible&&i||(this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),i||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(s.icons.header).addClass(s.icons.headerSelected),t.next().addClass("ui-accordion-content-active")),r=t.next(),n=this.active.next(),a={options:s,newHeader:i&&s.collapsible?e([]):t,oldHeader:this.active,newContent:i&&s.collapsible?e([]):r,oldContent:n},s=this.headers.index(this.active[0])>this.headers.index(t[0]),this.active=i?e([]):t,this._toggle(r,n,a,i,s));else if(s.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),this.active.next().addClass("ui-accordion-content-active");var n=this.active.next(),a={options:s,newHeader:e([]),oldHeader:s.active,newContent:e([]),oldContent:n},r=this.active=e([]);this._toggle(r,n,a)}},_toggle:function(t,i,s,n,a){var r=this,o=r.options;r.toShow=t,r.toHide=i,r.data=s;var l=function(){if(r)return r._completed.apply(r,arguments)};if(r._trigger("changestart",null,r.data),r.running=0===i.size()?t.size():i.size(),o.animated){s={},s=o.collapsible&&n?{toShow:e([]),toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace}:{toShow:t,toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace},o.proxied||(o.proxied=o.animated),o.proxiedDuration||(o.proxiedDuration=o.duration),o.animated=e.isFunction(o.proxied)?o.proxied(s):o.proxied,o.duration=e.isFunction(o.proxiedDuration)?o.proxiedDuration(s):o.proxiedDuration,n=e.ui.accordion.animations;var c=o.duration,h=o.animated;!h||n[h]||e.easing[h]||(h="slide"),n[h]||(n[h]=function(e){this.slide(e,{easing:h,duration:c||700})}),n[h](s)}else o.collapsible&&n?t.toggle():(i.hide(),t.show()),l(!0);i.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.4",animations:{slide:function(t,i){if(t=e.extend({easing:"swing",duration:300},t,i),t.toHide.size())if(t.toShow.size()){var s,n=t.toShow.css("overflow"),a=0,r={},o={};i=t.toShow,s=i[0].style.width,i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0)),e.each(["height","paddingTop","paddingBottom"],function(i,s){o[s]="hide",i=(""+e.css(t.toShow[0],s)).match(/^([\d+-.]+)(.*)$/),r[s]={value:i[1],unit:i[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(o,{step:function(e,i){"height"==i.prop&&(a=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start)),t.toShow[0].style[i.prop]=a*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:s,overflow:n}),t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e){e.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var t=this,i=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(!t.options.disabled){var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t._move("previousPage",i);break;case s.PAGE_DOWN:t._move("nextPage",i);break;case s.UP:t._move("previous",i),i.preventDefault();break;case s.DOWN:t._move("next",i),i.preventDefault();break;case s.ENTER:case s.NUMPAD_ENTER:t.menu.element.is(":visible")&&i.preventDefault();case s.TAB:if(!t.menu.active)return;t.menu.select(i);break;case s.ESCAPE:t.element.val(t.term),t.close(i);break;default:clearTimeout(t.searching),t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,i))},t.options.delay)}}}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(e){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(e),t._change(e)},150))}),this._initSource(),this.response=function(){return t._response.apply(t,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",i)[0]).mousedown(function(i){var s=t.menu.element[0];i.target===s&&setTimeout(function(){e(document).one("mousedown",function(i){i.target!==t.element[0]&&i.target!==s&&!e.ui.contains(s,i.target)&&t.close()})},1),setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(e,i){i=i.item.data("item.autocomplete"),!1!==t._trigger("focus",null,{item:i})&&/^key/.test(e.originalEvent.type)&&t.element.val(i.value)},selected:function(e,s){s=s.item.data("item.autocomplete");var n=t.previous;t.element[0]!==i.activeElement&&(t.element.focus(),t.previous=n),!1!==t._trigger("select",e,{item:s})&&t.element.val(s.value),t.close(e),t.selectedItem=s},blur:function(){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(i||"body",this.element[0].ownerDocument)[0])},_initSource:function(){var t,i;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){e.getJSON(i,t,s)}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),this._trigger("search")!==!1?this._search(e):void 0)},_search:function(e){this.term=this.element.addClass("ui-autocomplete-loading").val(),this.source({term:e},this.response)},_response:function(e){e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this._trigger("close",e),this.menu.element.hide(),this.menu.deactivate())},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i,s=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(s,t),this.menu.deactivate(),this.menu.refresh(),this.menu.element.show().position(e.extend({of:this.element},this.options.position)),t=s.width("").outerWidth(),i=this.element.outerWidth(),s.outerWidth(Math.max(t,i))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItem(t,i)})},_renderItem:function(t,i){return e("<li></li>").data("item.autocomplete",i).append(e("<a></a>").text(i.label)).appendTo(t)},_move:function(e,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate()):this.menu[e](t):this.search(null,t)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){e(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,s=this.element.attr("scrollTop"),n=this.element.height();i<0?this.element.attr("scrollTop",s+i):i>n&&this.element.attr("scrollTop",s+i-n+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,i){this.active?(e=this.active[e+"All"](".ui-menu-item").eq(0),e.length?this.activate(i,e):this.activate(i,this.element.children(t))):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(":first"));else{var i=this.active.offset().top,s=this.element.height(),n=this.element.children("li").filter(function(){var t=e(this).offset().top-i-s+e(this).height();return t<10&&t>-10});n.length||(n=this.element.children(":last")),this.activate(t,n)}else this.activate(t,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(":last"));else{var i=this.active.offset().top,s=this.element.height();result=this.element.children("li").filter(function(){var t=e(this).offset().top-i+s-e(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(":first")),this.activate(t,result)}else this.activate(t,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e){var t,i=function(t){e(":ui-button",t.target.form).each(function(){var t=e(this).data("button");setTimeout(function(){t.refresh()},1)})},s=function(t){var i=t.name,s=t.form,n=e([]);return i&&(n=s?e(s).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{options:{text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,a=this.options,r="checkbox"===this.type||"radio"===this.type,o="ui-state-hover"+(r?"":" ui-state-active");null===a.label&&(a.label=this.buttonElement.html()),this.element.is(":disabled")&&(a.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){a.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){a.disabled||e(this).removeClass(o)}).bind("focus.button",function(){e(this).addClass("ui-state-focus")}).bind("blur.button",function(){e(this).removeClass("ui-state-focus")}),r&&this.element.bind("change.button",function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return!a.disabled&&(e(this).toggleClass("ui-state-active"),void n.buttonElement.attr("aria-pressed",n.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed",!0);var t=n.element[0];s(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){return!a.disabled&&(e(this).addClass("ui-state-active"),t=this,void e(document).one("mouseup",function(){t=null}))}).bind("mouseup.button",function(){return!a.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){return!a.disabled&&void(t.keyCode!=e.ui.keyCode.SPACE&&t.keyCode!=e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled)},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]"),this.element.addClass("ui-helper-hidden-accessible");var e=this.element.is(":checked");e&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",e)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t&&(i?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?s(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var t=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),i=e("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary;s.primary||s.secondary?(t.addClass("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(t.addClass(n?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary"),this.hasTitle||t.attr("title",i))):t.addClass("ui-button-text-only")}}}),e.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset"),this._init()},_init:function(){this.refresh()},_setOption:function(t,i){"disabled"===t&&this.buttons.button("option",t,i),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),function(d,G){function L(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function E(e,t){d.extend(e,t);for(var i in t)null!=t[i]&&t[i]!=G||(e[i]=t[i]);return e}d.extend(d.ui,{datepicker:{version:"1.8.4"}});var y=(new Date).getTime();d.extend(L.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return E(this._defaults,e||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(t){c[e]=f}}}e=a.nodeName.toLowerCase(),f="div"==e||"span"==e,a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),"input"==e?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'):this.dpDiv}},_connectDatepicker:function(e,t){var i=d(e);t.append=d([]),t.trigger=d([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),d.data(e,"datepicker",t))},_attachments:function(e,t){var i=this._get(t,"appendText"),s=this._get(t,"isRTL");if(t.append&&t.append.remove(),i&&(t.append=d('<span class="'+this._appendClass+'">'+i+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),i=this._get(t,"showOn"),"focus"!=i&&"both"!=i||e.focus(this._showDatepicker),"button"==i||"both"==i){i=this._get(t,"buttonText");var n=this._get(t,"buttonImage");t.trigger=d(this._get(t,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:n,alt:i,title:i}):d('<button type="button"></button>').addClass(this._triggerClass).html(""==n?i:d("<img/>").attr({src:n,alt:i,title:i}))),e[s?"before":"after"](t.trigger),t.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==e[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var s=function(e){for(var t=0,i=0,s=0;s<e.length;s++)e[s].length>t&&(t=e[s].length,i=s);return i};t.setMonth(s(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(s(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=d(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),d.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t))},_dialogDatepicker:function(e,t,i,s,n){return e=this._dialogInst,e||(this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),e=this._dialogInst=this._newInst(this._dialogInput,!1),e.settings={},d.data(this._dialogInput[0],"datepicker",e)),E(e.settings,s||{}),t=t&&t.constructor==Date?this._formatDate(e,t):t,this._dialogInput.val(t),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",e),this},_destroyDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();d.removeData(e,"datepicker"),"input"==s?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=s&&"span"!=s||t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();"input"==s?(e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!=s&&"span"!=s||t.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();"input"==s?(e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!=s&&"span"!=s||t.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return d.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var s=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?d.extend({},d.datepicker._defaults):s?"all"==t?d.extend({},s.settings):this._get(s,t):null;var n=t||{};if("string"==typeof t&&(n={},n[t]=i),s){this._curInst==s&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0);E(s.settings,n),this._attachments(d(e),s),this._autoSize(s),this._setDateDatepicker(e,a),this._updateDatepicker(s)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){(e=this._getInst(e))&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t=d.datepicker._getInst(e.target),i=!0,s=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,d.datepicker._datepickerShowing)switch(e.keyCode){case 9:d.datepicker._hideDatepicker(),i=!1;break;case 13:return i=d("td."+d.datepicker._dayOverClass,t.dpDiv).add(d("td."+d.datepicker._currentClass,t.dpDiv)),i[0]?d.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&d.datepicker._clearDate(e.target),
i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&d.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,s?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,s?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?d.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=d.datepicker._getInst(e.target);if(d.datepicker._get(t,"constrainInput")){t=d.datepicker._possibleChars(d.datepicker._get(t,"dateFormat"));var i=String.fromCharCode(e.charCode==G?e.keyCode:e.charCode);return e.ctrlKey||i<" "||!t||t.indexOf(i)>-1}},_doKeyUp:function(e){if(e=d.datepicker._getInst(e.target),e.input.val()!=e.lastVal)try{d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,d.datepicker._getFormatConfig(e))&&(d.datepicker._setDateFromField(e),d.datepicker._updateAlternate(e),d.datepicker._updateDatepicker(e))}catch(e){d.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=d("input",e.parentNode)[0]),!d.datepicker._isDisabledDatepicker(e)&&d.datepicker._lastInput!=e){var t=d.datepicker._getInst(e);d.datepicker._curInst&&d.datepicker._curInst!=t&&d.datepicker._curInst.dpDiv.stop(!0,!0);var i=d.datepicker._get(t,"beforeShow");E(t.settings,i?i.apply(e,[e,t]):{}),t.lastVal=null,d.datepicker._lastInput=e,d.datepicker._setDateFromField(t),d.datepicker._inDialog&&(e.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(e),d.datepicker._pos[1]+=e.offsetHeight);var s=!1;if(d(e).parents().each(function(){return s|="fixed"==d(this).css("position"),!s}),s&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),i={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(t),i=d.datepicker._checkOffset(t,i,s),t.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":s?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),!t.inline){i=d.datepicker._get(t,"showAnim");var n=d.datepicker._get(t,"duration"),a=function(){d.datepicker._datepickerShowing=!0;var e=d.datepicker._getBorders(t.dpDiv);t.dpDiv.find("iframe.ui-datepicker-cover").css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})};t.dpDiv.zIndex(d(e).zIndex()+1),d.effects&&d.effects[i]?t.dpDiv.show(i,d.datepicker._get(t,"showOptions"),n,a):t.dpDiv[i||"show"](i?n:null,a),i&&n||a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),d.datepicker._curInst=t}}},_updateDatepicker:function(e){var t=this,i=d.datepicker._getBorders(e.dpDiv);e.dpDiv.empty().append(this._generateHTML(e)).find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){t._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end(),i=this._getNumberOfMonths(e);var s=i[1];s>1?e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"):e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==d.datepicker._curInst&&d.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus()},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var s=e.dpDiv.outerWidth(),n=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+d(document).scrollLeft(),l=document.documentElement.clientHeight+d(document).scrollTop();return t.left-=this._get(e,"isRTL")?s-a:0,t.left-=i&&t.left==e.input.offset().left?d(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?d(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>o&&o>s?Math.abs(t.left+s-o):0),t.top-=Math.min(t.top,t.top+n>l&&l>n?Math.abs(n+r):0),t},_findPos:function(e){for(var t=this._get(this._getInst(e),"isRTL");e&&("hidden"==e.type||1!=e.nodeType);)e=e[t?"previousSibling":"nextSibling"];return e=d(e).offset(),[e.left,e.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==d.data(e,"datepicker"))&&this._datepickerShowing){e=this._get(t,"showAnim");var i=this._get(t,"duration"),s=function(){d.datepicker._tidyDialog(t),this._curInst=null};d.effects&&d.effects[e]?t.dpDiv.hide(e,d.datepicker._get(t,"showOptions"),i,s):t.dpDiv["slideDown"==e?"slideUp":"fadeIn"==e?"fadeOut":"hide"](e?i:null,s),e||s(),(e=this._get(t,"onClose"))&&e.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){d.datepicker._curInst&&(e=d(e.target),e[0].id!=d.datepicker._mainDivId&&0==e.parents("#"+d.datepicker._mainDivId).length&&!e.hasClass(d.datepicker.markerClassName)&&!e.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker())},_adjustDate:function(e,t,i){e=d(e);var s=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){e=d(e);var t=this._getInst(e[0]);if(this._get(t,"gotoCurrent")&&t.currentDay)t.selectedDay=t.currentDay,t.drawMonth=t.selectedMonth=t.currentMonth,t.drawYear=t.selectedYear=t.currentYear;else{var i=new Date;t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear()}this._notifyChange(t),this._adjustDate(e)},_selectMonthYear:function(e,t,i){e=d(e);var s=this._getInst(e[0]);s._selectingMonthYear=!1,s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(e)},_clickMonthYear:function(e){var t=this._getInst(d(e)[0]);t.input&&t._selectingMonthYear&&setTimeout(function(){t.input.focus()},0),t._selectingMonthYear=!t._selectingMonthYear},_selectDay:function(e,t,i,s){var n=d(e);d(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||(n=this._getInst(n[0]),n.selectedDay=n.currentDay=d("a",s).html(),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(e){e=d(e),this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(e,t){e=this._getInst(d(e)[0]),t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e);var i=this._get(e,"onSelect");i?i.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e));d(t).each(function(){d(this).val(n)})}},noWeekends:function(e){return e=e.getDay(),[e>0&&e<6,""]},iso8601Week:function(e){e=new Date(e.getTime()),e.setDate(e.getDate()+4-(e.getDay()||7));var t=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;for(var s=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=i=-1,c=-1,h=-1,u=!1,d=function(t){return(t=v+1<e.length&&e.charAt(v+1)==t)&&v++,t},p=function(e){if(d(e),e=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}"),e=t.substring(m).match(e),!e)throw"Missing number at position "+m;return m+=e[0].length,parseInt(e[0],10)},f=function(e,i,s){for(e=d(e)?s:i,i=0;i<e.length;i++)if(t.substr(m,e[i].length)==e[i])return m+=e[i].length,i+1;throw"Unknown name at position "+m},g=function(){if(t.charAt(m)!=e.charAt(v))throw"Unexpected literal at position "+m;m++},m=0,v=0;v<e.length;v++)if(u)"'"!=e.charAt(v)||d("'")?g():u=!1;else switch(e.charAt(v)){case"d":c=p("d");break;case"D":f("D",n,a);break;case"o":h=p("o");break;case"m":l=p("m");break;case"M":l=f("M",r,o);break;case"y":i=p("y");break;case"@":var b=new Date(p("@"));i=b.getFullYear(),l=b.getMonth()+1,c=b.getDate();break;case"!":b=new Date((p("!")-this._ticksTo1970)/1e4),i=b.getFullYear(),l=b.getMonth()+1,c=b.getDate();break;case"'":d("'")?g():u=!0;break;default:g()}if(i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=s?0:-100)),h>-1)for(l=1,c=h;;){if(s=this._getDaysInMonth(i,l-1),c<=s)break;l++,c-=s}if(b=this._daylightSavingAdjust(new Date(i,l-1,c)),b.getFullYear()!=i||b.getMonth()+1!=l||b.getDate()!=c)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var r=function(t){return(t=u+1<e.length&&e.charAt(u+1)==t)&&u++,t},o=function(e,t,i){if(t=""+t,r(e))for(;t.length<i;)t="0"+t;return t},l=function(e,t,i,s){return r(e)?s[t]:i[t]},c="",h=!1;if(t)for(var u=0;u<e.length;u++)if(h)"'"!=e.charAt(u)||r("'")?c+=e.charAt(u):h=!1;else switch(e.charAt(u)){case"d":c+=o("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),s,n);break;case"o":c+=o("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=o("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),a,i);break;case"y":c+=r("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?c+="'":h=!0;break;default:c+=e.charAt(u)}return c},_possibleChars:function(e){for(var t="",i=!1,s=function(t){return(t=n+1<e.length&&e.charAt(n+1)==t)&&n++,t},n=0;n<e.length;n++)if(i)"'"!=e.charAt(n)||s("'")?t+=e.charAt(n):i=!1;else switch(e.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(n)}return t},_get:function(e,t){return e.settings[t]!==G?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,s,n=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;i=s=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(n,a,r)||s}catch(e){this.log(e),a=t?"":a}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=a?i.getDate():0,e.currentMonth=a?i.getMonth():0,e.currentYear=a?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(t){try{return d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),t,d.datepicker._getFormatConfig(e))}catch(e){}var i=(t.toLowerCase().match(/^c/)?d.datepicker._getDate(e):null)||new Date,s=i.getFullYear(),n=i.getMonth();i=i.getDate();for(var a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=a.exec(t);r;){switch(r[2]||"d"){case"d":case"D":i+=parseInt(r[1],10);break;case"w":case"W":i+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),i=Math.min(i,d.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(r[1],10),i=Math.min(i,d.datepicker._getDaysInMonth(s,n))}r=a.exec(t)}return new Date(s,n,i)};return(t=(t=null==t?i:"string"==typeof t?n(t):"number"==typeof t?isNaN(t)?i:s(t):t)&&"Invalid Date"==t.toString()?i:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear;t=this._restrictMinMax(e,this._determineDate(e,t,new Date)),e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),n==e.selectedMonth&&a==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),s=this._get(e,"showButtonPanel"),n=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=r[0]||1!=r[1],h=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),p=this._getMinMaxDate(e,"max");o=e.drawMonth-o;var f=e.drawYear;if(o<0&&(o+=12,f--),p){var g=this._daylightSavingAdjust(new Date(p.getFullYear(),p.getMonth()-r[0]*r[1]+1,p.getDate()));for(g=u&&g<u?u:g;this._daylightSavingAdjust(new Date(f,o,1))>g;)o--,o<0&&(o=11,f--)}e.drawMonth=o,e.drawYear=f,g=this._get(e,"prevText"),g=a?this.formatDate(g,this._daylightSavingAdjust(new Date(f,o-l,1)),this._getFormatConfig(e)):g,g=this._canAdjustMonth(e,-1,f,o)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\" title=\""+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":n?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>";var m=this._get(e,"nextText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(f,o+l,1)),this._getFormatConfig(e)):m,n=this._canAdjustMonth(e,1,f,o)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+m+"</span></a>":n?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+m+"</span></a>",l=this._get(e,"currentText"),m=this._get(e,"gotoCurrent")&&e.currentDay?h:t,l=a?this.formatDate(l,m,this._getFormatConfig(e)):l,a=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",s=s?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?a:"")+(this._isInRange(e,m)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+e.id+"');\">"+l+"</button>":"")+(i?"":a)+"</div>":"",a=parseInt(this._get(e,"firstDay"),10),a=isNaN(a)?0:a,l=this._get(e,"showWeek"),m=this._get(e,"dayNames"),this._get(e,"dayNamesShort");var v=this._get(e,"dayNamesMin"),b=this._get(e,"monthNames"),_=this._get(e,"monthNamesShort"),w=this._get(e,"beforeShowDay"),k=this._get(e,"showOtherMonths"),x=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek");for(var C=this._getDefaultDate(e),S="",D=0;D<r[0];D++){for(var A="",T=0;T<r[1];T++){var $=this._daylightSavingAdjust(new Date(f,o,e.selectedDay)),I=" ui-corner-all",E="";if(c){if(E+='<div class="ui-datepicker-group',r[1]>1)switch(T){case 0:E+=" ui-datepicker-group-first",I=" ui-corner-"+(i?"right":"left");break;case r[1]-1:E+=" ui-datepicker-group-last",I=" ui-corner-"+(i?"left":"right");break;default:E+=" ui-datepicker-group-middle",I=""}E+='">'}E+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+I+'">'+(/all|left/.test(I)&&0==D?i?n:g:"")+(/all|right/.test(I)&&0==D?i?g:n:"")+this._generateMonthYearHeader(e,o,f,u,p,D>0||T>0,b,_)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var M=l?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(I=0;I<7;I++){var P=(I+a)%7;M+="<th"+((I+a+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+m[P]+'">'+v[P]+"</span></th>"}E+=M+"</tr></thead><tbody>",M=this._getDaysInMonth(f,o),f==e.selectedYear&&o==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),I=(this._getFirstDayOfMonth(f,o)-a+7)%7,M=c?6:Math.ceil((I+M)/7),P=this._daylightSavingAdjust(new Date(f,o,1-I));for(var N=0;N<M;N++){E+="<tr>";var F=l?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(P)+"</td>":"";for(I=0;I<7;I++){var H=w?w.apply(e.input?e.input[0]:null,[P]):[!0,""],z=P.getMonth()!=o,O=z&&!x||!H[0]||u&&P<u||p&&P>p;F+='<td class="'+((I+a+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(P.getTime()==$.getTime()&&o==e.selectedMonth&&e._keyEvent||C.getTime()==P.getTime()&&C.getTime()==$.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!k?"":" "+H[1]+(P.getTime()==h.getTime()?" "+this._currentClass:"")+(P.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(z&&!k||!H[2]?"":' title="'+H[2]+'"')+(O?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+e.id+"',"+P.getMonth()+","+P.getFullYear()+', this);return false;"')+">"+(z&&!k?"&#xa0;":O?'<span class="ui-state-default">'+P.getDate()+"</span>":'<a class="ui-state-default'+(P.getTime()==t.getTime()?" ui-state-highlight":"")+(P.getTime()==$.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+'" href="#">'+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P)}E+=F+"</tr>"}o++,o>11&&(o=0,f++),E+="</tbody></table>"+(c?"</div>"+(r[0]>0&&T==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),A+=E}S+=A}return S+=s+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,S},_generateMonthYearHeader:function(e,t,i,s,n,a,r,o){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),h=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(a||!l)d+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{r=s&&s.getFullYear()==i;var p=n&&n.getFullYear()==i;d+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+e.id+"');\">";for(var f=0;f<12;f++)(!r||f>=s.getMonth())&&(!p||f<=n.getMonth())&&(d+='<option value="'+f+'"'+(f==t?' selected="selected"':"")+">"+o[f]+"</option>");d+="</select>"}if(h||(u+=d+(!a&&l&&c?"":"&#xa0;")),a||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{o=this._get(e,"yearRange").split(":");var g=(new Date).getFullYear();for(r=function(e){return e=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10),isNaN(e)?g:e},t=r(o[0]),o=Math.max(t,r(o[1]||"")),t=s?Math.max(t,s.getFullYear()):t,o=n?Math.min(o,n.getFullYear()):o,u+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+e.id+"');\">";t<=o;t++)u+='<option value="'+t+'"'+(t==i?' selected="selected"':"")+">"+t+"</option>";u+="</select>"}return u+=this._get(e,"yearSuffix"),h&&(u+=(!a&&l&&c?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"==i?t:0),n=e.drawMonth+("M"==i?t:0);t=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"==i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,t))),e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min");return e=this._getMinMaxDate(e,"max"),t=i&&t<i?i:t,t=e&&t>e?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return e=this._get(e,"numberOfMonths"),null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e);return i=this._daylightSavingAdjust(new Date(i,s+(t<0?t:n[0]*n[1]),1)),t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(e,i)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min");return e=this._getMinMaxDate(e,"max"),(!i||t.getTime()>=i.getTime())&&(!e||t.getTime()<=e.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){return t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),d.fn.datepicker=function(e){d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this].concat(t)):d.datepicker._attachDatepicker(this,e)}):d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t))},d.datepicker=new L,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.4",window["DP_jQuery_"+y]=d}(jQuery),function(e,t){e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle="");var t=this,i=t.options,s=i.title||t.originalTitle||"&#160;",n=e.ui.dialog.getTitleId(t.element),a=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(s){i.closeOnEscape&&s.keyCode&&s.keyCode===e.ui.keyCode.ESCAPE&&(t.close(s),s.preventDefault())}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(e){t.moveToTop(!1,e)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a);var r=(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(a),o=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){o.addClass("ui-state-hover")},function(){o.removeClass("ui-state-hover")}).focus(function(){o.addClass("ui-state-focus")}).blur(function(){o.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(r);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(o),e("<span></span>").addClass("ui-dialog-title").attr("id",n).html(s).prependTo(r),e.isFunction(i.beforeclose)&&!e.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),r.find("*").add(r).disableSelection(),i.draggable&&e.fn.draggable&&t._makeDraggable(),i.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(i.buttons),t._isOpen=!1,e.fn.bgiframe&&a.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var i,s=this;if(!1!==s._trigger("beforeClose",t))return s.overlay&&s.overlay.destroy(),s.uiDialog.unbind("keypress.ui-dialog"),s._isOpen=!1,s.options.hide?s.uiDialog.hide(s.options.hide,function(){s._trigger("close",t)}):(s.uiDialog.hide(),s._trigger("close",t)),e.ui.dialog.overlay.resize(),s.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(i=Math.max(i,e(this).css("z-index")))}),e.ui.dialog.maxZ=i),s},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var s=this,n=s.options;return n.modal&&!t||!n.stack&&!n.modal?s._trigger("focus",i):(n.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=n.zIndex),s.overlay&&(e.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),t={scrollTop:s.element.attr("scrollTop"),scrollLeft:s.element.attr("scrollLeft")},e.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",e.ui.dialog.maxZ),s.element.attr(t),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var t=this,i=t.options,s=t.uiDialog;return t.overlay=i.modal?new e.ui.dialog.overlay(t):null,s.next().length&&s.appendTo("body"),t._size(),t._position(i.position),s.show(i.show),t.moveToTop(!0),i.modal&&s.bind("keypress.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",this),s=i.filter(":first");if(i=i.filter(":last"),t.target===i[0]&&!t.shiftKey)return s.focus(1),!1;if(t.target===s[0]&&t.shiftKey)return i.focus(1),!1}}),e(t.element.find(":tabbable").get().concat(s.find(".ui-dialog-buttonpane :tabbable").get().concat(s.get()))).eq(0).focus(),t._trigger("open"),t._isOpen=!0,t}},_createButtons:function(t){var i=this,s=!1,n=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),a=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(n);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(s=!0)}),s&&(e.each(t,function(t,s){t=e('<button type="button"></button>').text(t).click(function(){s.apply(i.element[0],arguments)}).appendTo(a),e.fn.button&&t.button()}),n.appendTo(i.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i,s=this,n=s.options,a=e(document);s.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,r){i="auto"===n.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),s._trigger("dragStart",a,t(r))},drag:function(e,i){s._trigger("drag",e,t(i))},stop:function(r,o){n.position=[o.position.left-a.scrollLeft(),o.position.top-a.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(i),s._trigger("dragStop",r,t(o)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i=i===t?this.options.resizable:i;var n=this,a=n.options,r=n.uiDialog.css("position");i="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw",n.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:n.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:n._minHeight(),handles:i,start:function(t,i){e(this).addClass("ui-dialog-resizing"),n._trigger("resizeStart",t,s(i))},resize:function(e,t){n._trigger("resize",e,s(t))},stop:function(t,i){e(this).removeClass("ui-dialog-resizing"),a.height=e(this).height(),a.width=e(this).width(),n._trigger("resizeStop",t,s(i)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,s=[],n=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(s=t.split?t.split(" "):[t[0],t[1]],1===s.length&&(s[1]=s[0]),e.each(["left","top"],function(e,t){+s[e]===s[e]&&(n[e]=s[e],s[e]=t)}),t={my:s.join(" "),at:s.join(" "),offset:n.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(i=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(t),i||this.uiDialog.hide()},_setOption:function(t,i){var s=this,n=s.uiDialog,a=n.is(":data(resizable)"),r=!1;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":s._createButtons(i),r=!0;break;case"closeText":s.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":n.removeClass(s.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i);break;case"disabled":i?n.addClass("ui-dialog-disabled"):n.removeClass("ui-dialog-disabled");break;case"draggable":i?s._makeDraggable():n.draggable("destroy");break;case"height":r=!0;break;case"maxHeight":a&&n.resizable("option","maxHeight",i),r=!0;break;case"maxWidth":a&&n.resizable("option","maxWidth",i),r=!0;break;case"minHeight":a&&n.resizable("option","minHeight",i),r=!0;break;case"minWidth":a&&n.resizable("option","minWidth",i),r=!0;break;case"position":s._position(i);break;case"resizable":a&&!i&&n.resizable("destroy"),a&&"string"==typeof i&&n.resizable("option","handles",i),!a&&i!==!1&&s._makeResizable(i);break;case"title":e(".ui-dialog-title",s.uiDialogTitlebar).html(""+(i||"&#160;"));break;case"width":r=!0}e.Widget.prototype._setOption.apply(s,arguments),r&&s._size()},_size:function(){var e,t=this.options;this.element.css({width:"auto",minHeight:0,height:0}),t.minWidth>t.width&&(t.width=t.minWidth),
e=this.uiDialog.css({height:"auto",width:t.width}).height(),this.element.css("auto"===t.height?{minHeight:Math.max(t.minHeight-e,0),height:"auto"}:{minHeight:0,height:Math.max(t.height-e,0)}).show(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.4",uuid:0,maxZ:0,getTitleId:function(e){return e=e.attr("id"),e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()>=e.ui.dialog.overlay.maxZ})},1),e(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){this.oldInstances.push(this.instances.splice(e.inArray(t,this.instances),1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var i=0;e.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,i;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,i=/top|center|bottom/,s=e.fn.position,n=e.fn.offset;e.fn.position=function(n){if(!n||!n.of)return s.apply(this,arguments);n=e.extend({},n);var a,r,o,l=e(n.of),c=(n.collision||"flip").split(" "),h=n.offset?n.offset.split(" "):[0,0];return 9===n.of.nodeType?(a=l.width(),r=l.height(),o={top:0,left:0}):n.of.scrollTo&&n.of.document?(a=l.width(),r=l.height(),o={top:l.scrollTop(),left:l.scrollLeft()}):n.of.preventDefault?(n.at="left top",a=r=0,o={top:n.of.pageY,left:n.of.pageX}):(a=l.outerWidth(),r=l.outerHeight(),o=l.offset()),e.each(["my","at"],function(){var e=(n[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat(["center"]):i.test(e[0])?["center"].concat(e):["center","center"]),e[0]=t.test(e[0])?e[0]:"center",e[1]=i.test(e[1])?e[1]:"center",n[this]=e}),1===c.length&&(c[1]=c[0]),h[0]=parseInt(h[0],10)||0,1===h.length&&(h[1]=h[0]),h[1]=parseInt(h[1],10)||0,"right"===n.at[0]?o.left+=a:"center"===n.at[0]&&(o.left+=a/2),"bottom"===n.at[1]?o.top+=r:"center"===n.at[1]&&(o.top+=r/2),o.left+=h[0],o.top+=h[1],this.each(function(){var t=e(this),i=t.outerWidth(),s=t.outerHeight(),l=e.extend({},o);"right"===n.my[0]?l.left-=i:"center"===n.my[0]&&(l.left-=i/2),"bottom"===n.my[1]?l.top-=s:"center"===n.my[1]&&(l.top-=s/2),l.left=parseInt(l.left),l.top=parseInt(l.top),e.each(["left","top"],function(t,o){e.ui.position[c[t]]&&e.ui.position[c[t]][o](l,{targetWidth:a,targetHeight:r,elemWidth:i,elemHeight:s,offset:h,my:n.my,at:n.at})}),e.fn.bgiframe&&t.bgiframe(),t.offset(e.extend(l,{using:n.using}))})},e.ui.position={fit:{left:function(t,i){var s=e(window);i=t.left+i.elemWidth-s.width()-s.scrollLeft(),t.left=i>0?t.left-i:Math.max(0,t.left)},top:function(t,i){var s=e(window);i=t.top+i.elemHeight-s.height()-s.scrollTop(),t.top=i>0?t.top-i:Math.max(0,t.top)}},flip:{left:function(t,i){if("center"!==i.at[0]){var s=e(window);s=t.left+i.elemWidth-s.width()-s.scrollLeft();var n="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,a=-2*i.offset[0];t.left+=t.left<0?n+i.targetWidth+a:s>0?n-i.targetWidth+a:0}},top:function(t,i){if("center"!==i.at[1]){var s=e(window);s=t.top+i.elemHeight-s.height()-s.scrollTop();var n="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,a="top"===i.at[1]?i.targetHeight:-i.targetHeight,r=-2*i.offset[1];t.top+=t.top<0?n+i.targetHeight+r:s>0?n+a+r:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,i){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var s=e(t),n=s.offset(),a=parseInt(e.curCSS(t,"top",!0),10)||0,r=parseInt(e.curCSS(t,"left",!0),10)||0;n={top:i.top-n.top+a,left:i.left-n.left+r},"using"in i?i.using.call(t,n):s.css(n)},e.fn.offset=function(t){var i=this[0];return i&&i.ownerDocument?t?this.each(function(){e.offset.setOffset(this,t)}):n.call(this):null})}(jQuery),function(e,t){e.widget("ui.progressbar",{options:{value:0},min:0,max:100,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(t,i){"value"===t&&(this.options.value=i,this._refreshValue(),this._trigger("change")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.max,Math.max(this.min,e))},_refreshValue:function(){var e=this.value();this.valueDiv.toggleClass("ui-corner-right",e===this.max).width(e+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.4"})}(jQuery),function(e){e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,i=this.options;if(this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),i.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=e([]),i.range&&(i.range===!0?(this.range=e("<div></div>"),i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])):this.range=e("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),"min"!==i.range&&"max"!==i.range||this.range.addClass("ui-slider-range-"+i.range),this.range.addClass("ui-widget-header")),0===e(".ui-slider-handle",this.element).length&&e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle"),i.values&&i.values.length)for(;e(".ui-slider-handle",this.element).length<i.values.length;)e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=e(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all"),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){i.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(i){var s,n,a,r=!0,o=e(this).data("index.ui-slider-handle");if(!t.options.disabled){switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r=!1,!t._keySliding&&(t._keySliding=!0,e(this).addClass("ui-state-active"),s=t._start(i,o),s===!1))return}switch(a=t.options.step,s=n=t.options.values&&t.options.values.length?t.values(o):t.value(),i.keyCode){case e.ui.keyCode.HOME:n=t._valueMin();break;case e.ui.keyCode.END:n=t._valueMax();break;case e.ui.keyCode.PAGE_UP:n=t._trimAlignValue(s+(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:n=t._trimAlignValue(s-(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===t._valueMax())return;n=t._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===t._valueMin())return;n=t._trimAlignValue(s-a)}return t._slide(i,o,n),r}}).keyup(function(i){var s=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,s),t._change(i,s),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var i,s,n,a,r,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i=this._normValueFromMouse({x:t.pageX,y:t.pageY}),s=this._valueMax()-this._valueMin()+1,a=this,this.handles.each(function(t){var o=Math.abs(i-a.values(t));s>o&&(s=o,n=e(this),r=t)}),o.range===!0&&this.values(1)===o.min&&(r+=1,n=e(this.handles[r])),this._start(t,r)!==!1&&(this._mouseSliding=!0,a._handleIndex=r,n.addClass("ui-state-active").focus(),o=n.offset(),this._clickOffset=e(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-o.left-n.width()/2,top:t.pageY-o.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)}:{left:0,top:0},this._slide(t,r,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t=this._normValueFromMouse({x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t;return"horizontal"===this.orientation?(t=this.elementSize.width,e=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=e/t,t>1&&(t=1),t<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*e)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&i<s)&&(i=s),i!==this.values(t)&&(s=this.values(),s[t]=i,e=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),this.values(t?0:1),e!==!1&&this.values(t,i,!0))):i!==this.value()&&(e=this._trigger("slide",e,{handle:this.handles[t],value:i}),e!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length&&(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0)),this._value()},values:function(t,i){var s,n,a;if(arguments.length>1&&(this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t)),!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;a<s.length;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch(e.isArray(this.options.values)&&(n=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<n;s+=1)this._change(null,s);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(e){if(e<this._valueMin())return this._valueMin();if(e>this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=e%t;return e-=i,2*Math.abs(i)>=t&&(e+=i>0?t:-t),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,n,a,r=this.options.range,o=this.options,l=this,c=!this._animateOff&&o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(s){t=(l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},o.animate),1===s&&l.range[c?"animate":"css"]({width:t-i+"%"},{queue:!1,duration:o.animate})):(0===s&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},o.animate),1===s&&l.range[c?"animate":"css"]({height:t-i+"%"},{queue:!1,duration:o.animate}))),i=t}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),t=a!==n?(s-n)/(a-n)*100:0,h["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:o.animate}))}}),e.extend(e.ui.slider,{version:"1.8.4"})}(jQuery),function(e,i){function s(){return++a}function n(){return++r}var a=0,r=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){"selected"==e?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[e]=t,this._tabify())},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+s()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+n());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function s(t,i){t.css("display",""),!e.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var n=this,a=this.options,r=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e("li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,i){var s,o=e(i).attr("href"),l=o.split("#")[0];l&&(l===location.toString().split("#")[0]||(s=e("base")[0])&&l===s.href)&&(o=i.hash,i.href=o),r.test(o)?n.panels=n.panels.add(n._sanitizeSelector(o)):"#"!==o?(e.data(i,"href.tabs",o),e.data(i,"load.tabs",o.replace(/#.*$/,"")),o=n._tabId(i),i.href="#"+o,i=e("#"+o),i.length||(i=e(a.panelTemplate).attr("id",o).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(n.panels[t-1]||n.list),i.data("destroy.tabs",!0)),n.panels=n.panels.add(i)):a.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),a.selected===i?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return a.selected=e,!1}),"number"!=typeof a.selected&&a.cookie&&(a.selected=parseInt(n._cookie(),10)),"number"!=typeof a.selected&&this.lis.filter(".ui-tabs-selected").length&&(a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),a.selected=a.selected||(this.lis.length?0:-1)):null===a.selected&&(a.selected=-1),a.selected=a.selected>=0&&this.anchors[a.selected]||a.selected<0?a.selected:0,a.disabled=e.unique(a.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return n.lis.index(e)}))).sort(),e.inArray(a.selected,a.disabled)!=-1&&a.disabled.splice(e.inArray(a.selected,a.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),a.selected>=0&&this.anchors.length&&(this.panels.eq(a.selected).removeClass("ui-tabs-hide"),this.lis.eq(a.selected).addClass("ui-tabs-selected ui-state-active"),n.element.queue("tabs",function(){n._trigger("show",null,n._ui(n.anchors[a.selected],n.panels[a.selected]))}),this.load(a.selected)),e(window).bind("unload",function(){n.lis.add(n.anchors).unbind(".tabs"),n.lis=n.anchors=n.panels=null})):a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[a.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),a.cookie&&this._cookie(a.selected,a.cookie),t=0;for(var o;o=this.lis[t];t++)e(o)[e.inArray(t,a.disabled)==-1||e(o).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(a.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==a.event){var l=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},c=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){l("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){c("hover",e(this))}),this.anchors.bind("focus.tabs",function(){l("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){c("focus",e(this).closest("li"))})}var h,u;a.fx&&(e.isArray(a.fx)?(h=a.fx[0],u=a.fx[1]):h=u=a.fx);var d=u?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(u,u.duration||"normal",function(){s(i,u),n._trigger("show",null,n._ui(t,i[0]))})}:function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),n._trigger("show",null,n._ui(t,i[0]))},p=h?function(e,t){t.animate(h,h.duration||"normal",function(){n.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s(t,h),n.element.dequeue("tabs")})}:function(e,t){n.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),n.element.dequeue("tabs")};this.anchors.bind(a.event+".tabs",function(){var t=this,i=e(t).closest("li"),s=n.panels.filter(":not(.ui-tabs-hide)"),r=e(n._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!a.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||n._trigger("select",null,n._ui(this,r[0]))===!1)return this.blur(),!1;if(a.selected=n.anchors.index(this),n.abort(),a.collapsible){if(i.hasClass("ui-tabs-selected"))return a.selected=-1,a.cookie&&n._cookie(a.selected,a.cookie),n.element.queue("tabs",function(){p(t,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return a.cookie&&n._cookie(a.selected,a.cookie),n.element.queue("tabs",function(){d(t,r)}),n.load(n.anchors.index(this)),this.blur(),!1}if(a.cookie&&n._cookie(a.selected,a.cookie),!r.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&n.element.queue("tabs",function(){p(t,s)}),n.element.queue("tabs",function(){d(t,r)}),n.load(n.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var i=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,s,n){n===i&&(n=this.anchors.length);var a=this,r=this.options;s=e(r.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,s)),t=t.indexOf("#")?this._tabId(e("a",s)[0]):t.replace("#",""),s.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var o=e("#"+t);return o.length||(o=e(r.panelTemplate).attr("id",t).data("destroy.tabs",!0)),o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),n>=this.lis.length?(s.appendTo(this.list),o.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[n]),o.insertBefore(this.panels[n])),r.disabled=e.map(r.disabled,function(e){return e>=n?++e:e}),this._tabify(),1==this.anchors.length&&(r.selected=0,s.addClass("ui-tabs-selected ui-state-active"),o.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[0],a.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(t){t=this._getIndex(t);var i=this.options,s=this.lis.eq(t).remove(),n=this.panels.eq(t).remove();return s.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(s.find("a")[0],n[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(e.inArray(t,i.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=e.grep(i.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(e=this._getIndex(e),e==-1){if(!this.options.collapsible||this.options.selected==-1)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var i=this,s=this.options,n=this.anchors.eq(t)[0],a=e.data(n,"load.tabs");if(this.abort(),a&&(0===this.element.queue("tabs").length||!e.data(n,"cache.tabs"))){if(this.lis.eq(t).addClass("ui-state-processing"),s.spinner){var r=e("span",n);r.data("label.tabs",r.html()).html(s.spinner)}return this.xhr=e.ajax(e.extend({},s.ajaxOptions,{url:a,success:function(a,r){e(i._sanitizeSelector(n.hash)).html(a),i._cleanup(),s.cache&&e.data(n,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{s.ajaxOptions.success(a,r)}catch(e){}},error:function(e,a){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{s.ajaxOptions.error(e,a,t,n)}catch(e){}}})),i.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.4"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,i){var s=this,n=this.options,a=s._rotate||(s._rotate=function(t){clearTimeout(s.rotation),s.rotation=setTimeout(function(){var e=n.selected;s.select(++e<s.anchors.length?e:0)},e),t&&t.stopPropagation()});return i=s._unrotate||(s._unrotate=i?function(){t=n.selected,a()}:function(e){e.clientX&&s.rotate(null)}),e?(this.element.bind("tabsshow",a),this.anchors.bind(n.event+".tabs",i),a()):(clearTimeout(s.rotation),this.element.unbind("tabsshow",a),this.anchors.unbind(n.event+".tabs",i),delete this._rotate,delete this._unrotate),this}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,s,n){return jQuery.easing[jQuery.easing.def](e,t,i,s,n)},easeInQuad:function(e,t,i,s,n){return s*(t/=n)*t+i},easeOutQuad:function(e,t,i,s,n){return-s*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,s,n){return s*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,s,n){return s*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,s,n){return s*(t/=n)*t*t*t+i},easeOutQuart:function(e,t,i,s,n){return-s*((t=t/n-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t+i:-s/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,s,n){return s*(t/=n)*t*t*t*t+i},easeOutQuint:function(e,t,i,s,n){return s*((t=t/n-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+i:s/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,s,n){return-s*Math.cos(t/n*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,n){return s*Math.sin(t/n*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,n){return-s/2*(Math.cos(Math.PI*t/n)-1)+i},easeInExpo:function(e,t,i,s,n){return 0==t?i:s*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,s,n){return t==n?i+s:s*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,s,n){return 0==t?i:t==n?i+s:(t/=n/2)<1?s/2*Math.pow(2,10*(t-1))+i:s/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,s,n){return-s*(Math.sqrt(1-(t/=n)*t)-1)+i},easeOutCirc:function(e,t,i,s,n){return s*Math.sqrt(1-(t=t/n-1)*t)+i},easeInOutCirc:function(e,t,i,s,n){return(t/=n/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,s,n){var a=1.70158,r=0,o=s;if(0==t)return i;if(1==(t/=n))return i+s;if(r||(r=.3*n),o<Math.abs(s)){o=s;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(s/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r))+i},easeOutElastic:function(e,t,i,s,n){var a=1.70158,r=0,o=s;if(0==t)return i;if(1==(t/=n))return i+s;if(r||(r=.3*n),o<Math.abs(s)){o=s;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(s/o);return o*Math.pow(2,-10*t)*Math.sin((t*n-a)*(2*Math.PI)/r)+s+i},easeInOutElastic:function(e,t,i,s,n){var a=1.70158,r=0,o=s;if(0==t)return i;if(2==(t/=n/2))return i+s;if(r||(r=n*(.3*1.5)),o<Math.abs(s)){o=s;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(s/o);return t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r))+i:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)*.5+s+i},easeInBack:function(e,t,i,s,n,a){return void 0==a&&(a=1.70158),s*(t/=n)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,s,n,a){return void 0==a&&(a=1.70158),s*((t=t/n-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,s,n,a){return void 0==a&&(a=1.70158),(t/=n/2)<1?s/2*(t*t*(((a*=1.525)+1)*t-a))+i:s/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+i},easeInBounce:function(e,t,i,s,n){return s-jQuery.easing.easeOutBounce(e,n-t,0,s,n)+i},easeOutBounce:function(e,t,i,s,n){return(t/=n)<1/2.75?s*(7.5625*t*t)+i:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+i:s*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,s,n){return t<n/2?.5*jQuery.easing.easeInBounce(e,2*t,0,s,n)+i:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,s,n)+.5*s+i}}),function(e){function t(t){if("string"==typeof t.data){var i=t.handler,s=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var n="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],a=String.fromCharCode(t.which).toLowerCase(),r="",o={};t.altKey&&"alt"!==n&&(r+="alt+"),t.ctrlKey&&"ctrl"!==n&&(r+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==n&&(r+="meta+"),t.shiftKey&&"shift"!==n&&(r+="shift+"),n?o[r+n]=!0:(o[r+a]=!0,o[r+e.hotkeys.shiftNums[a]]=!0,"shift+"===r&&(o[e.hotkeys.shiftNums[a]]=!0));for(var l=0,c=s.length;l<c;l++)if(o[s[l]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),function(e,t){var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",
CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,s){var n=e.Event(i);return t.trigger(n,s),n.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},handleRemote:function(s){var n,a,r,o,l=s.data("cross-domain")||null,c=s.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(i.fire(s,"ajax:before")){if(s.is("form")){n=s.attr("method"),a=s.attr("action"),r=s.serializeArray();var h=s.data("ujs:submit-button");h&&(r.push(h),s.data("ujs:submit-button",null))}else s.is(i.inputChangeSelector)?(n=s.data("method"),a=s.data("url"),r=s.serialize(),s.data("params")&&(r=r+"&"+s.data("params"))):(n=s.data("method"),a=s.attr("href"),r=s.data("params")||null);return o={type:n||"GET",data:r,dataType:c,crossDomain:l,beforeSend:function(e,n){return n.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+n.accepts.script),i.fire(s,"ajax:beforeSend",[e,n])},success:function(e,t,i){s.trigger("ajax:success",[e,t,i])},complete:function(e,t){s.trigger("ajax:complete",[e,t])},error:function(e,t,i){s.trigger("ajax:error",[e,t,i])}},a&&(o.url=a),i.ajax(o)}return!1},handleMethod:function(i){var s=i.attr("href"),n=i.data("method"),a=i.attr("target"),r=e("meta[name=csrf-token]").attr("content"),o=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+s+'"></form>'),c='<input name="_method" value="'+n+'" type="hidden" />';o!==t&&r!==t&&(c+='<input name="'+o+'" value="'+r+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,s=e.data("confirm"),n=!1;return!s||(i.fire(e,"confirm")&&(n=i.confirm(s),t=i.fire(e,"confirm:complete",[n])),n&&t)},blankInputs:function(t,i,s){var n,a=e(),r=i||"input,textarea";return t.find(r).each(function(){n=e(this),(s?n.val():!n.val())&&(a=a.add(n))}),!!a.length&&a},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,s){var n=i.data("events"),a=!0;return n!==t&&n.submit!==t&&e.each(n.submit,function(e,t){if("function"==typeof t.handler)return a=t.handler(s)}),a},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},e.ajaxPrefilter(function(e,t,s){e.crossDomain||i.CSRFProtection(s)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(s){var n=e(this),a=n.data("method"),r=n.data("params");return i.allowAction(n)?(n.is(i.linkDisableSelector)&&i.disableElement(n),n.data("remote")!==t?!(!s.metaKey&&!s.ctrlKey||a&&"GET"!==a||r)||(i.handleRemote(n)===!1&&i.enableElement(n),!1):n.data("method")?(i.handleMethod(n),!1):void 0):i.stopEverything(s)}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var s=e(this);return i.allowAction(s)?(i.handleRemote(s),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(s){var n=e(this),a=n.data("remote")!==t,r=i.blankInputs(n,i.requiredInputSelector),o=i.nonBlankInputs(n,i.fileInputSelector);return i.allowAction(n)?r&&n.attr("novalidate")==t&&i.fire(n,"ajax:aborted:required",[r])?i.stopEverything(s):a?o?i.fire(n,"ajax:aborted:file",[o]):!e.support.submitBubbles&&e().jquery<"1.7"&&i.callFormSubmitBindings(n,s)===!1?i.stopEverything(s):(i.handleRemote(n),!1):void setTimeout(function(){i.disableFormElements(n)},13):i.stopEverything(s)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var s=e(this);if(!i.allowAction(s))return i.stopEverything(t);var n=s.attr("name"),a=n?{name:n,value:s.val()}:null;s.closest("form").data("ujs:submit-button",a)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))})}(jQuery);var g=[].slice;String.prototype.autoLink=function(){var e,t,i,s,n,a;if(n=1<=arguments.length?g.call(arguments,0):[],i="",s=n[0],a=/(^|\s)(\b(https?|ftp):\/\/[\-A-Z0-9+\u0026@#\/%?=~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~_|])/gi,!(0<n.length))return this.replace(a,"$1<a href='$2'>$2</a>");null!=s.callback&&"function"==typeof s.callback&&(e=s.callback,delete s.callback);for(t in s)n=s[t],i+=" "+t+"='"+n+"'";return this.replace(a,function(t,s,n){return t=e&&e(n),""+s+(t||"<a href='"+n+"'"+i+">"+n+"</a>")})},function(e,t,i,s){for(var n,a,r=("onfocusin"in t&&"hasFocus"in t?"focusin focusout":"focus blur"),o=["","moz","ms","o","webkit"],l=i.support,c=i.event;(a=n=o.pop())!=s;)if(a=(n?n+"H":"h")+"idden",l.pageVisibility="boolean"==typeof t[a]){r=n+"visibilitychange";break}i(/blur$/.test(r)?e:t).on(r,function(e){var i=e.type,n=e.originalEvent,r=n.toElement;(!/^focus./.test(i)||r==s&&n.fromElement==s&&n.relatedTarget==s)&&c.trigger((a&&t[a]||/^(?:blur|focusout)$/.test(i)?"hide":"show")+".visibility")})}(this,document,jQuery),function(e){e.belowthefold=function(t,i){var s=e(window).height()+e(window).scrollTop();return s<=e(t).offset().top-i.threshold},e.abovethetop=function(t,i){var s=e(window).scrollTop();return s>=e(t).offset().top+e(t).height()-i.threshold},e.rightofscreen=function(t,i){var s=e(window).width()+e(window).scrollLeft();return s<=e(t).offset().left-i.threshold},e.leftofscreen=function(t,i){var s=e(window).scrollLeft();return s>=e(t).offset().left+e(t).width()-i.threshold},e.inviewport=function(t,i){return!(e.rightofscreen(t,i)||e.leftofscreen(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})}})}(jQuery),function(e){var t=/radio|checkbox/i,i=/[^\[\]]+/g,s=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,n=function(e){return"number"==typeof e||"string"==typeof e&&e.match(s)};e.fn.extend({formParams:function(e,t){return!!e===e&&(t=e,e=null),e?this.setParams(e):"form"==this[0].nodeName.toLowerCase()&&this[0].elements?jQuery(jQuery.makeArray(this[0].elements)).getParams(t):jQuery("input[name], textarea[name], select[name]",this[0]).getParams(t)},setParams:function(t){this.find("[name]").each(function(){var i,s=t[e(this).attr("name")];void 0!==s&&(i=e(this),i.is(":radio")?i.val()==s&&i.attr("checked",!0):i.is(":checkbox")?(s=e.isArray(s)?s:[s],e.inArray(i.val(),s)>-1&&i.attr("checked",!0)):i.val(s))})},getParams:function(s){var a,r={};return s=void 0!==s&&s,this.each(function(){var o=this,l=o.type&&o.type.toLowerCase();if("submit"!=l&&o.name){var c,h=o.name,u=e.data(o,"value")||e.fn.val.call([o]),d=t.test(o.type),p=h.match(i),f=!d||!!o.checked;s&&(n(u)?u=parseFloat(u):"true"===u?u=!0:"false"===u&&(u=!1),""===u&&(u=void 0)),a=r;for(var g=0;g<p.length-1;g++)a[p[g]]||(a[p[g]]={}),a=a[p[g]];c=p[p.length-1],a[c]?(e.isArray(a[c])||(a[c]=void 0===a[c]?[]:[a[c]]),f&&a[c].push(u)):!f&&a[c]||(a[c]=f?u:void 0)}}),r}})}(jQuery);var sort_by;!function(){var e=function(e,t){return e==t?0:e<t?-1:1},t=function(t,i){var s=e;return t&&(s=function(i,s){return e(t(i),t(s))}),i?function(e,t){return-1*s(e,t)}:s};sort_by=function(){for(var i,s,n,a=[],r=arguments.length,o=0;o<r;o++)i=arguments[o],"string"==typeof i?(s=i,n=e):(s=i.name,n=t(i.primer,i.reverse)),a.push({name:s,cmp:n});return function(e,t){for(var s,n,o,l=0,c=r;l<c&&(o=0,i=a[l],s=i.name,n=i.cmp,o=n(e[s],t[s]),0===o);l++);return o}}}(),String.prototype.score=function(e,t){if(t=t||0,0==e.length)return.9;if(e.length>this.length)return 0;for(var i=e.length;i>0;i--){var s=e.substring(0,i),n=this.indexOf(s);if(!(n<0||n+e.length>this.length+t)){var a=this.substring(n+s.length),r=null;r=i>=e.length?"":e.substring(i);var o=a.score(r,t+n);if(o>0){var l=this.length-a.length;if(0!=n){var c=0,h=this.charCodeAt(n-1);if(32==h||9==h)for(var c=n-2;c>=0;c--)h=this.charCodeAt(c),l-=32==h||9==h?1:.15;else l-=n}return l+=o*a.length,l/=this.length}}}return 0},function(e){e.fn.filterItems=function(t){return e(this).on("keyup",function(){var i=e(this).val();i&&""!==i||e(t.parent).show(),i.length>=(t.delay||1)?e(t.by).each(function(){var s=e(this).text().toUpperCase().indexOf(i.toUpperCase())>=0;s?e(this).parents(t.parent).show():e(this).parents(t.parent).hide()}):e(t.parent).show()}),e(this).keypress(function(e){if(13==e.keyCode)return!1}),this}}(jQuery),!function(e){e.extend({tablesorter:new function(){function t(e){"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(e):alert(e)}function i(e,i){t(e+" ("+((new Date).getTime()-i.getTime())+"ms)")}function s(t,i,s){if(!i)return"";var n=t.config,a=n.textExtraction,r="",r="simple"===a?n.supportsTextContent?i.textContent:e(i).text():"function"==typeof a?a(i,t,s):"object"==typeof a&&a.hasOwnProperty(s)?a[s](i,t,s):n.supportsTextContent?i.textContent:e(i).text();return e.trim(r)}function n(i){var n,a,r,o,l,c,h=i.config,d=e(i.tBodies).filter(":not(."+h.cssInfoBlock+")"),p="";if(0===d.length)return h.debug?t("*Empty table!* Not building a parser cache"):"";if(d=d[0].rows,d[0])for(n=[],a=d[0].cells.length,r=0;r<a;r++){if(o=h.$headers.filter(":not([colspan])"),o=o.add(h.$headers.filter('[colspan="1"]')).filter('[data-column="'+r+'"]:last'),l=h.headers[r],c=u.getParserById(u.getData(o,l,"sorter")),h.empties[r]=u.getData(o,l,"empty")||h.emptyTo||(h.emptyToBottom?"bottom":"top"),h.strings[r]=u.getData(o,l,"string")||h.stringTo||"max",!c)e:{o=i,l=d,c=-1;for(var f=r,g=void 0,m=u.parsers.length,v=!1,b="",g=!0;""===b&&g;)c++,l[c]?(v=l[c].cells[f],b=s(o,v,f),o.config.debug&&t("Checking if value was empty on row "+c+", column: "+f+": "+b)):g=!1;for(g=1;g<m;g++)if(u.parsers[g].is(b,o,v)){c=u.parsers[g];break e}c=u.parsers[0]}h.debug&&(p+="column:"+r+"; parser:"+c.id+"; string:"+h.strings[r]+"; empty: "+h.empties[r]+"\n"),n.push(c)}return h.debug&&t(p),n}function a(n){var a,r,o,l,c,h,d,p,f,g=n.tBodies,m=n.config,v=m.parsers,b=[];if(m.cache={},!v)return m.debug?t("*Empty table!* Not building a cache"):"";for(m.debug&&(f=new Date),m.showProcessing&&u.isProcessing(n,!0),h=0;h<g.length;h++)if(m.cache[h]={row:[],normalized:[]},!e(g[h]).hasClass(m.cssInfoBlock)){for(a=g[h]&&g[h].rows.length||0,r=g[h].rows[0]&&g[h].rows[0].cells.length||0,l=0;l<a;++l)if(d=e(g[h].rows[l]),p=[],d.hasClass(m.cssChildRow))m.cache[h].row[m.cache[h].row.length-1]=m.cache[h].row[m.cache[h].row.length-1].add(d);else{for(m.cache[h].row.push(d),c=0;c<r;++c)o=s(n,d[0].cells[c],c),o=v[c].format(o,n,d[0].cells[c],c),p.push(o),"numeric"===(v[c].type||"").toLowerCase()&&(b[c]=Math.max(Math.abs(o),b[c]||0));p.push(m.cache[h].normalized.length),m.cache[h].normalized.push(p)}m.cache[h].colMax=b}m.showProcessing&&u.isProcessing(n),m.debug&&i("Building cache for "+a+" rows",f)}function r(t,s){var n,a,r,o,l,c,h,d,p,f,g,m=t.config,v=t.tBodies,b=[],y=m.cache;if(y[0]){for(m.debug&&(g=new Date),d=0;d<v.length;d++)if(n=e(v[d]),!n.hasClass(m.cssInfoBlock)){for(l=u.processTbody(t,n,!0),n=y[d].row,a=y[d].normalized,o=(r=a.length)?a[0].length-1:0,c=0;c<r;c++)if(f=a[c][o],b.push(n[f]),!m.appender||!m.removeRows)for(p=n[f].length,h=0;h<p;h++)l.append(n[f][h]);u.processTbody(t,l,!1)}m.appender&&m.appender(t,b),m.debug&&i("Rebuilt table",g),s||u.applyWidget(t),e(t).trigger("sortEnd",t)}}function o(t){var i,s,n,a=t.config,r=a.sortList,o=[a.cssAsc,a.cssDesc],l=e(t).find("tfoot tr").children().removeClass(o.join(" "));for(a.$headers.removeClass(o.join(" ")),n=r.length,i=0;i<n;i++)if(2!==r[i][1]&&(t=a.$headers.not(".sorter-false").filter('[data-column="'+r[i][0]+'"]'+(1===n?":last":"")),t.length))for(s=0;s<t.length;s++)t[s].sortDisabled||(t.eq(s).addClass(o[r[i][1]]),l.length&&l.filter('[data-column="'+r[i][0]+'"]').eq(s).addClass(o[r[i][1]]))}function l(t){var s,n,a,r,o,l,c,h,u,d=0,p=t.config,f=p.sortList,g=f.length,m=t.tBodies.length;if(!p.serverSideSorting&&p.cache[0]){for(p.debug&&(s=new Date),a=0;a<m;a++)o=p.cache[a].colMax,u=(l=p.cache[a].normalized)&&l[0]?l[0].length-1:0,l.sort(function(i,s){for(n=0;n<g;n++){r=f[n][0],h=f[n][1],c=/n/i.test(p.parsers&&p.parsers[r]?p.parsers[r].type||"":"")?"Numeric":"Text",c+=0===h?"":"Desc",/Numeric/.test(c)&&p.strings[r]&&(d="boolean"==typeof p.string[p.strings[r]]?(0===h?1:-1)*(p.string[p.strings[r]]?-1:1):p.strings[r]?p.string[p.strings[r]]||0:0);var a=e.tablesorter["sort"+c](t,i[r],s[r],r,o[r],d);if(a)return a}return i[u]-s[u]});p.debug&&i("Sorting on "+f.toString()+" and dir "+h+" time",s)}}function c(e,t){e.trigger("updateComplete"),"function"==typeof t&&t(e[0])}function h(e,t,i){!1!==t?e.trigger("sorton",[e[0].config.sortList,function(){c(e,i)}]):c(e,i)}var u=this;u.version="2.7",u.parsers=[],u.widgets=[],u.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},u.benchmark=i,u.construct=function(c){return this.each(function(){if(!this.tHead||0===this.tBodies.length||!0===this.hasInitialized)return this.config.debug?t("stopping initialization! No thead, tbody or tablesorter has already been initialized"):"";var d,p,f,g,m,v,b,y=e(this),_="",w=e.metadata;this.hasInitialized=!1,this.config={},d=e.extend(!0,this.config,u.defaults,c),e.data(this,"tablesorter",d),d.debug&&e.data(this,"startoveralltimer",new Date),d.supportsTextContent="x"===e("<span>x</span>")[0].textContent,d.supportsDataObject=1.4<=parseFloat(e.fn.jquery),d.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(y.attr("class"))||(_=""!==d.theme?" tablesorter-"+d.theme:""),y.addClass(d.tableClass+_);var k,x,C,S,D,A,T,$,I,E,M=[],P={},N=e(this).find("thead:eq(0), tfoot").children("tr");for(k=0;k<N.length;k++)for(D=N[k].cells,x=0;x<D.length;x++){for(S=D[x],A=S.parentNode.rowIndex,T=A+"-"+S.cellIndex,$=S.rowSpan||1,I=S.colSpan||1,"undefined"==typeof M[A]&&(M[A]=[]),C=0;C<M[A].length+1;C++)if("undefined"==typeof M[A][C]){E=C;break}for(P[T]=E,e(S).attr({"data-column":E}),C=A;C<A+$;C++)for("undefined"==typeof M[C]&&(M[C]=[]),T=M[C],S=E;S<E+I;S++)T[S]="x"}var F,H,z,O,j,L,R,W=this.config;if(W.headerList=[],W.headerContent=[],W.debug&&(R=new Date),O=W.cssIcon?'<i class="'+W.cssIcon+'"></i>':"",M=e(this).find(W.selectorHeaders).each(function(t){H=e(this),F=W.headers[t],W.headerContent[t]=this.innerHTML,j=W.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,O),W.onRenderTemplate&&(z=W.onRenderTemplate.apply(H,[t,j]))&&"string"==typeof z&&(j=z),this.innerHTML='<div class="tablesorter-header-inner">'+j+"</div>",W.onRenderHeader&&W.onRenderHeader.apply(H,[t]),this.column=P[this.parentNode.rowIndex+"-"+this.cellIndex];var i=u.getData(H,F,"sortInitialOrder")||W.sortInitialOrder;this.order=/^d/i.test(i)||1===i?[1,0,2]:[0,1,2],this.count=-1,"false"===u.getData(H,F,"sorter")?(this.sortDisabled=!0,H.addClass("sorter-false")):H.removeClass("sorter-false"),this.lockedOrder=!1,L=u.getData(H,F,"lockedOrder")||!1,"undefined"!=typeof L&&!1!==L&&(this.order=this.lockedOrder=/^d/i.test(L)||1===L?[1,1,1]:[0,0,0]),H.addClass((this.sortDisabled?"sorter-false ":" ")+W.cssHeader),W.headerList[t]=this,H.parent().addClass(W.cssHeaderRow)}),this.config.debug&&(i("Built headers:",R),t(M)),d.$headers=M,d.parsers=n(this),d.delayInit||a(this),d.$headers.find("*").andSelf().filter(d.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter",function(t,i){var s=(this.tagName.match("TH|TD")?e(this):e(this).parents("th, td").filter(":last"))[0];if(1!==(t.which||t.button))return!1;if("mousedown"===t.type)return b=(new Date).getTime(),"INPUT"===t.target.tagName?"":!d.cancelSelection;if(!0!==i&&250<(new Date).getTime()-b)return!1;if(d.delayInit&&!d.cache&&a(y[0]),!s.sortDisabled){if(y.trigger("sortStart",y[0]),_=!t[d.sortMultiSortKey],s.count=t[d.sortResetKey]?2:(s.count+1)%(d.sortReset?3:2),d.sortRestart&&(p=s,d.$headers.each(function(){this===p||!_&&e(this).is("."+d.cssDesc+",."+d.cssAsc)||(this.count=-1)})),p=s.column,_){if(d.sortList=[],null!==d.sortForce)for(g=d.sortForce,f=0;f<g.length;f++)g[f][0]!==p&&d.sortList.push(g[f]);if(v=s.order[s.count],2>v&&(d.sortList.push([p,v]),1<s.colSpan))for(f=1;f<s.colSpan;f++)d.sortList.push([p+f,v])}else if(d.sortAppend&&1<d.sortList.length&&u.isValueInArray(d.sortAppend[0][0],d.sortList)&&d.sortList.pop(),u.isValueInArray(p,d.sortList))for(f=0;f<d.sortList.length;f++)m=d.sortList[f],v=d.headerList[m[0]],m[0]===p&&(m[1]=v.order[v.count],2===m[1]&&(d.sortList.splice(f,1),v.count=-1));else if(v=s.order[s.count],2>v&&(d.sortList.push([p,v]),1<s.colSpan))for(f=1;f<s.colSpan;f++)d.sortList.push([p+f,v]);if(null!==d.sortAppend)for(g=d.sortAppend,f=0;f<g.length;f++)g[f][0]!==p&&d.sortList.push(g[f]);y.trigger("sortBegin",y[0]),setTimeout(function(){o(y[0]),l(y[0]),r(y[0])},1)}}),d.cancelSelection&&d.$headers.each(function(){this.onselectstart=function(){return!1}}),y.unbind("sortReset update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").bind("sortReset",function(){d.sortList=[],o(this),l(this),r(this)}).bind("update",function(t,i,s){e(d.selectorRemove,this).remove(),d.parsers=n(this),a(this),h(y,i,s)}).bind("updateCell",function(t,i,n,a){var r,o,l;r=e(this).find("tbody"),t=r.index(e(i).parents("tbody").filter(":last"));var c=e(i).parents("tr").filter(":last");i=e(i)[0],r.length&&0<=t&&(o=r.eq(t).find("tr").index(c),l=i.cellIndex,r=this.config.cache[t].normalized[o].length-1,this.config.cache[t].row[this.config.cache[t].normalized[o][r]]=c,this.config.cache[t].normalized[o][l]=d.parsers[l].format(s(this,i,l),this,i,l),h(y,n,a))}).bind("addRows",function(t,i,a,r){var o=i.filter("tr").length,l=[],c=i[0].cells.length,u=e(this).find("tbody").index(i.closest("tbody"));for(d.parsers||(d.parsers=n(this)),t=0;t<o;t++){for(f=0;f<c;f++)l[f]=d.parsers[f].format(s(this,i[t].cells[f],f),this,i[t].cells[f],f);l.push(d.cache[u].row.length),d.cache[u].row.push([i[t]]),d.cache[u].normalized.push(l),l=[]}h(y,a,r)}).bind("sorton",function(t,i,s,n){e(this).trigger("sortStart",this);var a,c,h,u=this.config;t=i||u.sortList,u.sortList=[],e.each(t,function(t,i){a=[parseInt(i[0],10),parseInt(i[1],10)],(h=u.headerList[a[0]])&&(u.sortList.push(a),c=e.inArray(a[1],h.order),h.count=0<=c?c:a[1]%(u.sortReset?3:2))}),o(this),l(this),r(this,n),"function"==typeof s&&s(this)}).bind("appendCache",function(e,t,i){r(this,i),"function"==typeof t&&t(this)}).bind("applyWidgetId",function(e,t){u.getWidgetById(t).format(this,d,d.widgetOptions)}).bind("applyWidgets",function(e,t){u.applyWidget(this,t)}).bind("refreshWidgets",function(e,t,i){u.refreshWidgets(this,t,i)}).bind("destroy",function(e,t,i){u.destroy(this,t,i)}),d.supportsDataObject&&"undefined"!=typeof y.data().sortlist?d.sortList=y.data().sortlist:w&&y.metadata()&&y.metadata().sortlist&&(d.sortList=y.metadata().sortlist),u.applyWidget(this,!0),0<d.sortList.length?y.trigger("sorton",[d.sortList,{},!d.initWidgets]):d.initWidgets&&u.applyWidget(this),this.config.widthFixed&&0===e(this).find("colgroup").length){var q=e("<colgroup>"),B=e(this).width();e("tr:first td",this.tBodies[0]).each(function(){q.append(e("<col>").css("width",parseInt(1e3*(e(this).width()/B),10)/10+"%"))}),e(this).prepend(q)}d.showProcessing&&y.unbind("sortBegin sortEnd").bind("sortBegin sortEnd",function(e){u.isProcessing(y[0],"sortBegin"===e.type)}),this.hasInitialized=!0,d.debug&&u.benchmark("Overall initialization time",e.data(this,"startoveralltimer")),y.trigger("tablesorter-initialized",this),"function"==typeof d.initialized&&d.initialized(this)})},u.isProcessing=function(t,i,s){var n=t.config;t=s||e(t).find("."+n.cssHeader),i?(0<n.sortList.length&&(t=t.filter(function(){return!this.sortDisabled&&u.isValueInArray(parseFloat(e(this).attr("data-column")),n.sortList)})),t.addClass(n.cssProcessing)):t.removeClass(n.cssProcessing)},u.processTbody=function(t,i,s){return s?(i.before('<span class="tablesorter-savemyplace"/>'),t=e.fn.detach?i.detach():i.remove()):(t=e(t).find("span.tablesorter-savemyplace"),i.insertAfter(t),void t.remove())},u.clearTableBody=function(t){e(t.tBodies).filter(":not(."+t.config.cssInfoBlock+")").empty()},u.destroy=function(t,i,s){var n=e(t),a=t.config,r=n.find("thead:first");t.hasInitialized=!1,r.find("tr:not(."+a.cssHeaderRow+")").remove(),r.find(".tablesorter-resizer").remove(),u.refreshWidgets(t,!0,!0),n.removeData("tablesorter").unbind("sortReset update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").find("."+a.cssHeader).unbind("click mousedown mousemove mouseup").removeClass(a.cssHeader+" "+a.cssAsc+" "+a.cssDesc).find(".tablesorter-header-inner").each(function(){""!==a.cssIcon&&e(this).find("."+a.cssIcon).remove(),e(this).replaceWith(e(this).contents())}),!1!==i&&n.removeClass(a.tableClass),"function"==typeof s&&s(t)},u.regex=[/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],u.sortText=function(e,t,i,s){if(t===i)return 0;var n=e.config,a=n.string[n.empties[s]||n.emptyTo],r=u.regex;if(""===t&&0!==a)return"boolean"==typeof a?a?-1:1:-a||-1;if(""===i&&0!==a)return"boolean"==typeof a?a?1:-1:a||1;if("function"==typeof n.textSorter)return n.textSorter(t,i,e,s);if(e=t.replace(r[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),s=i.replace(r[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),t=parseInt(t.match(r[2]),16)||1!==e.length&&t.match(r[1])&&Date.parse(t),i=parseInt(i.match(r[2]),16)||t&&i.match(r[1])&&Date.parse(i)||null){if(t<i)return-1;if(t>i)return 1}for(n=Math.max(e.length,s.length),t=0;t<n;t++){if(i=isNaN(e[t])?e[t]||0:parseFloat(e[t])||0,r=isNaN(s[t])?s[t]||0:parseFloat(s[t])||0,isNaN(i)!==isNaN(r))return isNaN(i)?1:-1;if(typeof i!=typeof r&&(i+="",r+=""),i<r)return-1;if(i>r)return 1}return 0},u.sortTextDesc=function(e,t,i,s){if(t===i)return 0;var n=e.config,a=n.string[n.empties[s]||n.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:"function"==typeof n.textSorter?n.textSorter(i,t,e,s):u.sortText(e,i,t)},u.getTextValue=function(e,t,i){if(t){var s=e.length,n=t+i;for(t=0;t<s;t++)n+=e.charCodeAt(t);return i*n}return 0},u.sortNumeric=function(e,t,i,s,n,a){return t===i?0:(e=e.config,s=e.string[e.empties[s]||e.emptyTo],""===t&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===i&&0!==s?"boolean"==typeof s?s?1:-1:s||1:(isNaN(t)&&(t=u.getTextValue(t,n,a)),isNaN(i)&&(i=u.getTextValue(i,n,a)),t-i))},u.sortNumericDesc=function(e,t,i,s,n,a){return t===i?0:(e=e.config,s=e.string[e.empties[s]||e.emptyTo],""===t&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===i&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:(isNaN(t)&&(t=u.getTextValue(t,n,a)),isNaN(i)&&(i=u.getTextValue(i,n,a)),i-t))},u.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6",O:"\xd3\xd2\xd4\xd5\xd6",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},u.replaceAccents=function(e){var t,i="[",s=u.characterEquivalents;if(!u.characterRegex){u.characterRegexArray={};for(t in s)"string"==typeof t&&(i+=s[t],u.characterRegexArray[t]=RegExp("["+s[t]+"]","g"));u.characterRegex=RegExp(i+"]")}if(u.characterRegex.test(e))for(t in s)"string"==typeof t&&(e=e.replace(u.characterRegexArray[t],t));return e},u.isValueInArray=function(e,t){var i,s=t.length;for(i=0;i<s;i++)if(t[i][0]===e)return!0;return!1},u.addParser=function(e){var t,i=u.parsers.length,s=!0;for(t=0;t<i;t++)u.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(s=!1);s&&u.parsers.push(e)},u.getParserById=function(e){var t,i=u.parsers.length;for(t=0;t<i;t++)if(u.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return u.parsers[t];return!1},u.addWidget=function(e){u.widgets.push(e)},u.getWidgetById=function(e){var t,i,s=u.widgets.length;for(t=0;t<s;t++)if((i=u.widgets[t])&&i.hasOwnProperty("id")&&i.id.toLowerCase()===e.toLowerCase())return i},u.applyWidget=function(t,s){var n,a,r,o=t.config,l=o.widgetOptions,c=o.widgets.sort().reverse(),h=c.length;for(a=e.inArray("zebra",o.widgets),0<=a&&(o.widgets.splice(a,1),o.widgets.push("zebra")),o.debug&&(n=new Date),a=0;a<h;a++)(r=u.getWidgetById(c[a]))&&(!0===s&&r.hasOwnProperty("init")?r.init(t,r,o,l):!s&&r.hasOwnProperty("format")&&r.format(t,o,l));o.debug&&i("Completed "+(!0===s?"initializing":"applying")+" widgets",n)},u.refreshWidgets=function(i,s,n){var a,r=i.config,o=r.widgets,l=u.widgets,c=l.length;for(a=0;a<c;a++)l[a]&&l[a].id&&(s||0>e.inArray(l[a].id,o))&&(r.debug&&t("Refeshing widgets: Removing "+l[a].id),l[a].hasOwnProperty("remove")&&l[a].remove(i,r,r.widgetOptions));!0!==n&&u.applyWidget(i,s)},u.getData=function(t,i,s){var n="";t=e(t);var a,r;return t.length?(a=!!e.metadata&&t.metadata(),r=" "+(t.attr("class")||""),"undefined"!=typeof t.data(s)||"undefined"!=typeof t.data(s.toLowerCase())?n+=t.data(s)||t.data(s.toLowerCase()):a&&"undefined"!=typeof a[s]?n+=a[s]:i&&"undefined"!=typeof i[s]?n+=i[s]:" "!==r&&r.match(" "+s+"-")&&(n=r.match(RegExp(" "+s+"-(\\w+)"))[1]||""),e.trim(n)):""},u.formatFloat=function(t,i){if("string"!=typeof t||""===t)return t;var s;return t=(i&&i.config?!1!==i.config.usNumberFormat:"undefined"!=typeof i?i:1)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(/,"-").replace(/\)/,"")),s=parseFloat(t),isNaN(s)?e.trim(t):s},u.isDigit=function(e){return!isNaN(e)||/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,""))}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(i,s){var n=s.config;return i=e.trim(n.ignoreCase?i.toLocaleLowerCase():i),n.sortLocaleCompare?t.replaceAccents(i):i},type:"text"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test(e)},format:function(e,i){return t.formatFloat(e.replace(/[^\w,. \-()]/g,""),i)},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,i){var s,n=e.split("."),a="",r=n.length;for(s=0;s<r;s++)a+=("00"+n[s]).slice(-3);return t.formatFloat(a,i)},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return e.trim(t.replace(/(https?|ftp|file):\/\//,""))},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},format:function(e,i){return t.formatFloat(""!==e?new Date(e.replace(/-/g,"/")).getTime()||"":"",i)},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s?%|%\s?\d)/.test(e)},format:function(e,i){return t.formatFloat(e.replace(/%/g,""),i)},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)},format:function(e,i){return t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i)},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/^(\d{1,2}|\d{4})[\/\-\,\.\s+]\d{1,2}[\/\-\.\,\s+](\d{1,2}|\d{4})$/.test(e)},format:function(e,i,s,n){s=i.config;var a=s.headerList[n],r=a.shortDateFormat;return"undefined"==typeof r&&(r=a.shortDateFormat=t.getData(a,s.headers[n],"dateFormat")||s.dateFormat),e=e.replace(/\s+/g," ").replace(/[\-|\.|\,]/g,"/"),"mmddyyyy"===r?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===r?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===r&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),t.formatFloat(new Date(e).getTime()||"",i)},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,i){return t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i)},type:"numeric"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(e,i){return t.formatFloat(e.replace(/[^\w,. \-()]/g,""),i)},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,i,s){return t=i.config,t=t.parserMetadataName?t.parserMetadataName:"sortValue",e(s).metadata()[t]},type:"numeric"}),t.addWidget({id:"zebra",format:function(i,s,n){var a,r,o,l,c,h,u=RegExp(s.cssChildRow,"i"),d=e(i).children("tbody:not(."+s.cssInfoBlock+")");for(s.debug&&(c=new Date),i=0;i<d.length;i++)a=e(d[i]),h=a.children("tr").length,1<h&&(o=0,a=a.children("tr:visible"),a.each(function(){r=e(this),u.test(this.className)||o++,l=0===o%2,r.removeClass(n.zebra[l?1:0]).addClass(n.zebra[l?0:1])}));s.debug&&t.benchmark("Applying Zebra widget",c)},remove:function(t,i){var s,n,a=e(t).children("tbody:not(."+i.cssInfoBlock+")"),r=(i.widgetOptions.zebra||["even","odd"]).join(" ");for(s=0;s<a.length;s++)n=e.tablesorter.processTbody(t,e(a[s]),!0),n.children().removeClass(r),e.tablesorter.processTbody(t,n,!1)}})}(jQuery),function(e){function t(t,i){var s=this;return s.options=i,s.$element=e(t),s.inProgress=!1,s.template=s.options.template||null,s.templateData=s.options.templateData||{},s.url=s.options.url||null,s.$limp=!1,s.$loader=!1,s.cache=!1,s.$element.data("template")&&(s.template=s.$element.data("template")),s.$element.data("width")&&(s.options.style.width=s.$element.data("width")),s.template||(s.$element.attr("href")?s.url=s.$element.attr("href"):s.$element.data("url")&&(s.url=s.$element.data("url"))),s}t.prototype={open:function(){var t=this;if(!t.inProgress)return t.inProgress=!0,t.limp(),e(document).bind("limp.close",function(){t.close()}),t.enableEscapeButtonHandler=function(e){e.stopPropagation(),27==e.keyCode&&t.close()},t.onActionHandler=function(t){if(t.stopPropagation(),13==t.keyCode){var i=e("button.limp-action");i&&i.click()}},t.options.enableEscapeButton&&(Snorby.escBind&&e(document).unbind("keydown",Snorby.escBind),e(document).bind("keydown","esc",t.enableEscapeButtonHandler)),t.$overlay.prependTo("body"),t.fetch(function(i){if(t.visible=!0,t.options.onOpen(t),t.options.overlayClick&&t.$overlay.bind("click",function(e){e.preventDefault(),t.close()}),t.options.centerOnResize&&e(window).bind("limp.resize",function(){t.visible&&t.resize()}),t.$limp.find("#limp-box-inside").html(i),t.$limp.css({maxHeight:e(window).height()-2*t.options.distance,display:"block"}).prependTo("body"),t.options.afterOpen(t,t.$limp),"pop"==t.options.animation){t.$overlay.animate({opacity:t.options.overlay.opacity},"fast");var s=t.resize(200);t.$limp.animate({top:s.height,opacity:1},400),t.onClose=function(e,i){t.$overlay.fadeOut("fast"),t.$limp.animate({top:s.offsetHeight,opacity:0},400,function(){i()})}}else"fade"==t.options.animation?(t.resize(),t.$limp.animate({opacity:1
},"fast"),t.$overlay.animate({opacity:t.options.overlay.opacity},"fast"),t.onClose=function(e,i){t.$overlay.fadeOut("fast"),e.$limp.fadeOut("fast",function(){i()})}):(t.$overlay.css({opacity:.8}),t.resize(),t.$limp.css("opacity",1),t.onClose=function(e,t){t()});t.$limp.data("limp-api",t),e(document).bind("keydown",t.onActionHandler),t.options.onAction&&"function"==typeof t.options.onAction&&e(".limp-action",t.$limp).bind("click",function(e){e.preventDefault(),t.options.onAction()}),t.loading()}),t},resize:function(t){var i=this,s=0,n=e(window).height()/2,a=e(window).width()/2;if("undefined"==typeof i.limpStartSize&&(i.limpStartSize=i.$limp.outerHeight(!0)),i.options.adjustmentSize)if(i.limpStartSize<500)if(e(window).height()>400){var r=n-i.options.adjustmentSize-i.$limp.outerHeight(!0)/2;r<=i.options.adjustmentSize&&(r=i.options.adjustmentSize)}else var r=n-i.$limp.outerHeight(!0)/2;else var r=n-i.$limp.outerHeight(!0)/2;else var r=n-i.$limp.outerHeight(!0)/2;var o=a-i.$limp.outerWidth(!0)/2;s=t?r+t:r,i.$limp.css({maxHeight:e(window).height()-2*i.options.distance,top:s,left:o}),e(".snorby-cloud-box").css({maxHeight:e(window).height()-2*i.options.distance});var l={height:r,width:o,offset:t,offsetHeight:s};return l},close:function(){var e=this;return e.inProgress=!1,e.onClose(e,function(){e.clean(),e.options.onClose(e,e.$limp)}),e},clean:function(){var t=this;t.visible=!1,t.$limp.css("opacity",0),e(window).unbind("limp.resize"),e(document).unbind("keydown",t.enableEscapeButtonHandler),e(document).unbind("keydown",t.onActionHandler),e(document).unbind("limp.close"),t.options.onOpen(t),t.$limp.remove(),t.$overlay.remove(),t.options.afterClose(t,t.$limp)},error:function(t,i,s){var n=e('<span class="limp-box-error" />');try{var a=i.charAt(0).toUpperCase()+i.slice(1),r=n.append(""+a+": "+s+".")}catch(e){var a=i,o="<div class='snorby-cloud-box'><div class='snorby-cloud-box-title'><div class='icon' />Loading Error</div><div class='snorby-cloud-box-content'><span>Error: Not Found</span></div><div class='snorby-cloud-box-footer'><div class='form-actions'><button class='form-button default' onClick='$.limpClose()'>Ok</button></div></div></div>",r=n.append(o)}return r},fetch:function(t){var i=this;return i.loading(),e.fn.limp.loading&&(e.fn.limp.loading.remove(),e.fn.limp.loading=!1),i.url?i.cache&&i.options.cache?t(i.cache):e.ajax({url:i.url,type:"GET",dataType:i.options.dataType,success:function(e){i.cache=e,t(e)},error:function(e,s,n){i.cache=!1,t(i.error(e,s,n))}}):i.template?i.options.onTemplate&&"function"==typeof i.options.onTemplate&&(i.cache=i.options.onTemplate(i.template,i.templateData,i),t(i.cache?i.cache:i.error())):t(i.error()),!1},limp:function(){var t=this;if(!t.$limp){if(t.$overlay=e('<div id="limp-box-overlay" />').css({background:t.options.overlay.background,opacity:0,position:"fixed",display:"block",left:0,top:0,right:0,bottom:0,zIndex:99999995}),t.$limp=e('<div id="limp-box" />'),t.$limpInside=e('<div id="limp-box-inside" />'),t.$limpInside.css(t.options.inside).appendTo(t.$limp),t.options.closeButton){var i=e('<div id="limp-box-close" class="limp-box-close"><div class="limp-box-close-icon" /></div>').css({position:"absolute",display:"block",top:15,right:18,height:22,width:22,cursor:"pointer",position:"absolute",color:"#999","line-height":"10px","font-size":"18px"});i.appendTo(t.$limp),e("body").on("click",".limp-box-close",function(t){t.preventDefault(),e(document).trigger("limp.close")})}t.css()}return e(window).resize(function(){t.$limp.trigger("limp.resize")}),t.$limp},css:function(){var e=this;e.$limp.css(e.options.style),e.options.shadow&&e.shadow(),e.options.round&&e.round()},shadow:function(){var e=this;e.$limp.css({"-webkit-box-shadow":e.options.shadow,"-moz-box-shadow":e.options.shadow,"box-shadow":e.options.shadow})},round:function(){var e=this;e.$limp.css({"border-radius":e.options.round,"-moz-border-radius":e.options.round,"-webkit-border-radius":e.options.round}),e.$limp.find("#limp-box-inside").css({"border-radius":e.options.round,"-moz-border-radius":e.options.round,"-webkit-border-radius":e.options.round})},loading:function(){var t=this;t.options.loading&&(t.$loader?(t.$loader.remove(),t.$loader=!1):(t.$loader=e('<div id="limp-box-loading" />'),t.$loader.css({"border-radius":5,"-moz-border-radius":5,"-webkit-border-radius":5,width:"21px",height:"16px",top:e(window).height()/2-18.5,left:e(window).width()/2-18.5,display:"block",padding:"10px",zIndex:9999999999,position:"fixed",background:"#111111","background-image":"url(data:image/gif;base64,R0lGODlhEAALAPQAABEREf///zIyMjs7OyMjI/j4+P///9PT04SEhKSkpFBQUN7e3ri4uH19faCgoExMTNra2vr6+rW1tScnJzQ0NBoaGsnJyTAwMBwcHFRUVGhoaEFBQR8fHwAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAALAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQACwABACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQACwACACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQACwADACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAALAAQALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkEAAsABQAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAALAAYALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkEAAsABwAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA)","background-repeat":"no-repeat","background-position":"center center"}),t.$loader.appendTo("body")))}},e.limpClose=function(){return e(document).trigger("limp.close"),!1},e.limp=function(i){i=e.extend({},e.fn.limp.defaults,i),i.style=e.extend({},e.fn.limp.style,i.style),i.overlay=e.extend({},e.fn.limp.overlay,i.overlay),i.inside=e.extend({},e.fn.limp.inside,i.inside);var s=new t(null,i);return s},e.fn.limp=function(i){function s(s){var n=e.data(s,"limp");return n||(n=new t(s,i),e.data(s,"limp",n),a.push(n)),n}function n(e){e.preventDefault();var t=s(this);t.visible?t.close():t.open()}var a=[];return i=e.extend({},e.fn.limp.defaults,i),i.style=e.extend({},e.fn.limp.style,i.style),i.overlay=e.extend({},e.fn.limp.overlay,i.overlay),i.inside=e.extend({},e.fn.limp.inside,i.inside),e.limpLoading(),this.live("click",n),this},e.fn.limp.defaults={cache:!1,adjustmentSize:null,loading:!0,alwaysCenter:!0,round:0,animation:!1,shadow:"0 1px 10px rgba(0,0,0,0.2)",distance:50,overlayClick:!0,enableEscapeButton:!0,dataType:"html",centerOnResize:!0,closeButton:!0,onOpen:function(){e("body").addClass("stop-scrolling"),e("body").bind("touchmove",function(e){e.preventDefault()})},afterOpen:function(){},onClose:function(){},afterClose:function(){e("body").removeClass("stop-scrolling"),e("body").unbind("touchmove")},onTemplate:function(){}},e.fn.limp.style={"-webkit-outline":0,background:"#fff",color:"#000",position:"fixed",width:"700px",border:"solid 5px #ededed",color:"black",outline:0,zIndex:99999999,opacity:0,height:"auto",overflow:"visible"},e.fn.limp.inside={background:"#fff",padding:"35px 40px",display:"block",border:"1px solid #ddd",overflow:"visible"},e.fn.limp.overlay={background:"#fff",opacity:.4,zIndex:99999995},e.fn.limp.loading=!1,e.limpLoading=function(){e.fn.limp.loading?(e.fn.limp.loading.remove(),e.fn.limp.loading=!1):(e.fn.limp.loading=e('<div id="limp-box-loading" />'),e.fn.limp.loading.css({"border-radius":5,"-moz-border-radius":5,"-webkit-border-radius":5,width:"21px",height:"16px",top:e(window).height()/2-18.5,left:e(window).width()/2-18.5,display:"block",padding:"10px",zIndex:1000002,position:"fixed",background:"#111111","background-image":"url(data:image/gif;base64,R0lGODlhEAALAPQAABEREf///zIyMjs7OyMjI/j4+P///9PT04SEhKSkpFBQUN7e3ri4uH19faCgoExMTNra2vr6+rW1tScnJzQ0NBoaGsnJyTAwMBwcHFRUVGhoaEFBQR8fHwAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAALAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQACwABACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQACwACACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQACwADACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAALAAQALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkEAAsABQAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAALAAYALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkEAAsABwAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA)","background-repeat":"no-repeat","background-position":"center center"}),e.fn.limp.loading.prependTo("body"))}}(jQuery),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,n,a,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),a=e.childNodes,r=[],s=0,n=a.length;s<n;s++)i=a[s],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName)return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}(),e.select_to_array=function(t){var i,s,n,a,r;for(s=new e,r=t.childNodes,n=0,a=r.length;n<a;n++)i=r[n],s.add_node(i);return s.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.results_none_found=this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)},e.prototype.input_blur=function(){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,s,n=Object.prototype.hasOwnProperty,a=function(e,t){function i(){this.constructor=e}for(var s in t)n.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=this,e=jQuery,e.fn.extend({chosen:function(i){return!e.browser.msie||"6.0"!==e.browser.version&&"7.0"!==e.browser.version?e(this).each(function(){if(!e(this).hasClass("chzn-done"))return new t(this,i)}):this}}),t=function(t){function n(){n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},n.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},n.prototype.set_up_html=function(){var t,s,n,a;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,t=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=e("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),s=this.container.height(),n=this.f_width-i(this.dropdown),this.dropdown.css({width:n+"px",top:s+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),a=n-i(this.search_container)-i(this.search_field),this.search_field.css({width:a+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.is_multiple?(this.search_choices.click(function(t){return e.choices_click(t)}),this.search_field.focus(function(t){return e.input_focus(t)})):this.container.click(function(e){return e.preventDefault()})},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},n.prototype.container_mousedown=function(t){var i;if(!this.is_disabled)return i=null!=t&&e(t.target).hasClass("search-choice-close"),t&&"mousedown"===t.type&&!this.results_showing&&t.stopPropagation(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName)return this.results_reset(e)},n.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},n.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){var e,t,i,n,a;for(this.parsing=!0,this.results_data=s.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",a=this.results_data,i=0,n=a.length;i<n;i++)t=a[i],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},n.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},n.prototype.result_do_highlight=function(e){var t,i,s,n,a;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),a=this.search_results.scrollTop(),n=s+a,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-s>0?t-s:0);if(i<a)return this.search_results.scrollTop(i)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){var e;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),e=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},n.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;if(this.form_field_jq.attr("tabindex"))return e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(t)},n.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choices_click=function(t){if(t.preventDefault(),this.active_field&&!e(t.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},n.prototype.choice_build=function(t){var i,s,n=this;return i=this.container_id+"_c_"+t.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>'),s=e("#"+i).find("a").first(),s.click(function(e){return n.choice_destroy_link_click(e)})},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},n.prototype.choice_destroy=function(e){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(e.attr("rel")),e.parents("li").first().remove()},n.prototype.results_reset=function(t){if(this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),e(t.target).remove(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},n.prototype.result_select=function(e){var t,i,s,n;if(this.result_highlight)return t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),n=i.substr(i.lastIndexOf("_")+1),s=this.results_data[n],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!e.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()},n.prototype.result_activate=function(e){return e.addClass("active-result")},n.prototype.result_deactivate=function(e){return e.removeClass("active-result")},n.prototype.result_deselect=function(t){var i,s;return s=this.results_data[t],s.selected=!1,this.form_field.options[s.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')},n.prototype.winnow_results=function(){var t,i,s,n,a,r,o,l,c,h,u,d,p,f,g,m,v,b;for(this.no_results_clear(),c=0,h=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),r=this.search_contains?"":"^",a=new RegExp(r+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),b=this.results_data,f=0,m=b.length;f<m;f++)if(i=b[f],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,l=i.dom_id,o=e("#"+l),a.test(i.html))t=!0,c+=1;else if((i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(n=i.html.replace(/\[|\]/g,"").split(" "),n.length))for(g=0,v=n.length;g<v;g++)s=n[g],a.test(s)&&(t=!0,c+=1);t?(h.length?(u=i.html.search(p),d=i.html.substr(0,u+h.length)+"</em>"+i.html.substr(u+h.length),d=d.substr(0,u)+"<em>"+d.substr(u)):d=i.html,o.html(d),this.result_activate(o),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(o))}return c<1&&h.length?this.no_results(h):this.winnow_results_set_highlight()},n.prototype.winnow_results_clear=function(){var t,i,s,n,a;for(this.search_field.val(""),i=this.search_results.find("li"),a=[],s=0,n=i.length;s<n;s++)t=i[s],t=e(t),t.hasClass("group-result")?a.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?a.push(void 0):a.push(this.result_activate(t));return a},n.prototype.winnow_results_set_highlight=function(){var e,t;if(!this.result_highlight&&(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e))return this.result_do_highlight(e)},n.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t,i;if(this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),!this.results_showing)return this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,i,s,n,a,r,o,l,c;if(this.is_multiple){for(s=0,o=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=r.length;l<c;l++)n=r[l],a+=n+":"+this.search_field.css(n)+";";return i=e("<div />",{style:a}),i.text(this.search_field.val()),e("body").append(i),o=i.width()+25,i.remove(),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},n.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},n}(AbstractChosen),i=function(e){var t;return t=e.outerWidth()-e.width()},s.get_side_border_padding=i}.call(this);var Handlebars={};Handlebars.VERSION="1.0.beta.5",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,i){i&&(t.not=i),this.helpers[e]=t},Handlebars.registerPartial=function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var i=t.inverse||function(){},s=t.fn,n="",a=toString.call(e);if(a===functionType&&(e=e.call(this)),e===!0)return s(this);if(e===!1||null==e)return i(this);if("[object Array]"===a){if(e.length>0)for(var r=0,o=e.length;r<o;r++)n+=s(e[r]);else n=i(this);return n}return s(e)}),Handlebars.registerHelper("each",function(e,t){var i=t.fn,s=t.inverse,n="";if(e&&e.length>0)for(var a=0,r=e.length;a<r;a++)n+=i(e[a]);else n=s(this);return n}),Handlebars.registerHelper("if",function(e,t){var i=toString.call(e);return i===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var i=t.fn,s=t.inverse;return t.fn=s,t.inverse=i,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)});var handlebars=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(e,t,i,s,n,a){var r=a.length-1;switch(n){case 1:return a[r-1];case 2:this.$=new s.ProgramNode(a[r-2],a[r]);break;case 3:this.$=new s.ProgramNode(a[r]);break;case 4:this.$=new s.ProgramNode([]);break;case 5:this.$=[a[r]];break;case 6:a[r-1].push(a[r]),this.$=a[r-1];break;case 7:this.$=new s.InverseNode(a[r-2],a[r-1],a[r]);break;case 8:this.$=new s.BlockNode(a[r-2],a[r-1],a[r]);
break;case 9:this.$=a[r];break;case 10:this.$=a[r];break;case 11:this.$=new s.ContentNode(a[r]);break;case 12:this.$=new s.CommentNode(a[r]);break;case 13:this.$=new s.MustacheNode(a[r-1][0],a[r-1][1]);break;case 14:this.$=new s.MustacheNode(a[r-1][0],a[r-1][1]);break;case 15:this.$=a[r-1];break;case 16:this.$=new s.MustacheNode(a[r-1][0],a[r-1][1]);break;case 17:this.$=new s.MustacheNode(a[r-1][0],a[r-1][1],!0);break;case 18:this.$=new s.PartialNode(a[r-1]);break;case 19:this.$=new s.PartialNode(a[r-2],a[r-1]);break;case 20:break;case 21:this.$=[[a[r-2]].concat(a[r-1]),a[r]];break;case 22:this.$=[[a[r-1]].concat(a[r]),null];break;case 23:this.$=[[a[r-1]],a[r]];break;case 24:this.$=[[a[r]],null];break;case 25:a[r-1].push(a[r]),this.$=a[r-1];break;case 26:this.$=[a[r]];break;case 27:this.$=a[r];break;case 28:this.$=new s.StringNode(a[r]);break;case 29:this.$=new s.IntegerNode(a[r]);break;case 30:this.$=new s.BooleanNode(a[r]);break;case 31:this.$=new s.HashNode(a[r]);break;case 32:a[r-1].push(a[r]),this.$=a[r-1];break;case 33:this.$=[a[r]];break;case 34:this.$=[a[r-2],a[r]];break;case 35:this.$=[a[r-2],new s.StringNode(a[r])];break;case 36:this.$=[a[r-2],new s.IntegerNode(a[r])];break;case 37:this.$=[a[r-2],new s.BooleanNode(a[r])];break;case 38:this.$=new s.IdNode(a[r]);break;case 39:a[r-2].push(a[r]),this.$=a[r-2];break;case 40:this.$=[a[r]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(e){throw new Error(e)},parse:function(e){function t(e){n.length=n.length-2*e,a.length=a.length-e,r.length=r.length-e}function i(){var e;return e=s.lexer.lex()||1,"number"!=typeof e&&(e=s.symbols_[e]||e),e}var s=this,n=[0],a=[null],r=[],o=this.table,l="",c=0,h=0,u=0,d=2,p=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;r.push(f),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var g,m,v,b,y,_,w,k,x,C={};;){if(v=n[n.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null==g&&(g=i()),b=o[v]&&o[v][g]),"undefined"==typeof b||!b.length||!b[0]){if(!u){x=[];for(_ in o[v])this.terminals_[_]&&_>2&&x.push("'"+this.terminals_[_]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", "):"Parse error on line "+(c+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:f,expected:x})}if(3==u){if(g==p)throw new Error(S||"Parsing halted.");h=this.lexer.yyleng,l=this.lexer.yytext,c=this.lexer.yylineno,f=this.lexer.yylloc,g=i()}for(;;){if(d.toString()in o[v])break;if(0==v)throw new Error(S||"Parsing halted.");t(1),v=n[n.length-1]}m=g,g=d,v=n[n.length-1],b=o[v]&&o[v][d],u=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+g);switch(b[0]){case 1:n.push(g),a.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(b[1]),g=null,m?(g=m,m=null):(h=this.lexer.yyleng,l=this.lexer.yytext,c=this.lexer.yylineno,f=this.lexer.yylloc,u>0&&u--);break;case 2:if(w=this.productions_[b[1]][1],C.$=a[a.length-w],C._$={first_line:r[r.length-(w||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(w||1)].first_column,last_column:r[r.length-1].last_column},y=this.performAction.call(C,l,h,c,this.yy,b[1],a,r),"undefined"!=typeof y)return y;w&&(n=n.slice(0,-1*w*2),a=a.slice(0,-1*w),r=r.slice(0,-1*w)),n.push(this.productions_[b[1]][0]),a.push(C.$),r.push(C._$),k=o[n[n.length-2]][n[n.length-1]],n.push(k);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),n=0;n<s.length;n++)if(t=this._input.match(this.rules[s[n]]))return i=t[0].match(/\n.*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),e?e:void 0;return""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}};return e.performAction=function(e,t,i,s){switch(i){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},e.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}},e}();return e.lexer=t,e}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");if("undefined"!=typeof process)var t=require("fs").readFileSync(require("path").join(process.cwd(),e[1]),"utf8");else var i=require("file").path(require("file").cwd()),t=i.join(e[1]).read({charset:"utf-8"});return exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,i){this.type="mustache",this.id=e[0],this.params=e.slice(1),this.hash=t,this.escaped=!i},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,i,s){e(t.id,s),this.type="block",this.mustache=t,this.program=i},Handlebars.AST.InverseNode=function(t,i,s){e(t.id,s),this.type="inverse",this.mustache=t,this.program=i},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var t=[],i=0,s=0,n=e.length;s<n;s++){var a=e[s];".."===a?i++:"."===a||"this"===a?this.isScoped=!0:t.push(a)}this.parts=t,this.string=t.join("."),this.depth=i,this.isSimple=1===t.length&&0===i},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,i=/[&<>"'`]/,s=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():null==e||e===!1?"":i.test(e)?e.replace(t,s):e},isEmpty:function(e){return"undefined"==typeof e||(null===e||(e===!1||"[object Array]"===Object.prototype.toString.call(e)&&0===e.length))}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16},e.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1},e.DISASSEMBLE_MAP={};for(var i in e.OPCODE_MAP){var s=e.OPCODE_MAP[i];e.DISASSEMBLE_MAP[s]=i}e.multiParamSize=function(t){return e.MULTI_PARAM_OPCODES[e.DISASSEMBLE_MAP[t]]},e.prototype={compiler:e,disassemble:function(){for(var t,i,s,n,a,r=this.opcodes,o=[],l=0,c=r.length;l<c;l++)if(t=r[l],"DECLARE"===t)n=r[++l],a=r[++l],o.push("DECLARE "+n+" = "+a);else{s=e.DISASSEMBLE_MAP[t];for(var h=e.multiParamSize(t),u=[],d=0;d<h;d++)i=r[++l],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),u.push(i);s=s+" "+u.join(" "),o.push(s)}return o.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var s in i)this.options.knownHelpers[s]=i[s];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,i=e.statements;this.opcodes=[];for(var s=0,n=i.length;s<n;s++)t=i[s],this[t.type](t);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),s=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[s]=i;for(var n=0,a=i.depths.list.length;n<a;n++)t=i.depths.list[n],t<2||this.addDepth(t-1);return s},block:function(e){var t,i=e.mustache,s=this.setupStackForMustache(i),n=this.compileProgram(e.program);e.program.inverse&&(t=this.compileProgram(e.program.inverse),this.declare("inverse",t)),this.opcode("invokeProgram",n,s.length,!!i.hash),this.declare("inverse",null),this.opcode("append")},inverse:function(e){var t=this.setupStackForMustache(e.mustache),i=this.compileProgram(e.program);this.declare("inverse",i),this.opcode("invokeProgram",null,t.length,!!e.mustache.hash),this.declare("inverse",null),this.opcode("append")},hash:function(e){var t,i,s=e.pairs;this.opcode("push","{}");for(var n=0,a=s.length;n<a;n++)t=s[n],i=t[1],this.accept(i),this.opcode("assignToHash",t[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.setupStackForMustache(e);this.opcode("invokeMustache",t.length,e.id.original,!!e.hash),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("lookupWithHelpers",e.parts[0]||null,e.isScoped||!1);for(var t=1,i=e.parts.length;t<i;t++)this.opcode("lookup",e.parts[t])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("push",e.integer)},BOOLEAN:function(e){this.opcode("push",e.bool)},comment:function(){},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.string)):this[t.type](t)},opcode:function(t,i,s,n){this.opcodes.push(e.OPCODE_MAP[t]),void 0!==i&&this.opcodes.push(i),void 0!==s&&this.opcodes.push(s),void 0!==n&&this.opcodes.push(n)},declare:function(e,t){this.opcodes.push("DECLARE"),this.opcodes.push(e),this.opcodes.push(t)},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},setupStackForMustache:function(e){var t=e.params;return this.pushParams(t),e.hash&&this.hash(e.hash),this.ID(e.id),t}},t.prototype={nameLookup:function(e,i){return/^[0-9]+$/.test(i)?e+"["+i+"]":t.isValidJavaScriptVariableName(i)?e+"."+i:e+"['"+i+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,i,s){this.environment=e,this.options=t||{},this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],aliases:{self:"this"},registers:{list:[]}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.compileChildren(e,t);var n,a=e.opcodes;for(this.i=0,o=a.length;this.i<o;this.i++)n=this.nextOpcode(0),"DECLARE"===n[0]?(this.i=this.i+2,this[n[1]]=n[2]):(this.i=this.i+n[1].length,this[n[0]].apply(this,n[1]));return this.createFunctionContext(s)},nextOpcode:function(t){var i,s,n,a,r=this.environment.opcodes,o=r[this.i+t];if("DECLARE"===o)return i=r[this.i+1],s=r[this.i+2],["DECLARE",i,s];i=e.DISASSEMBLE_MAP[o],n=e.multiParamSize(o),a=[];for(var l=0;l<n;l++)a.push(r[this.i+l+1+t]);return[i,a]},eat:function(e){this.i=this.i+e.length},preamble:function(){var e=[];if(this.useRegister("foundHelper"),this.isChild)e.push("");else{var t=this.namespace,i="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(i=i+" partials = partials || "+t+".partials;"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars;if(this.isChild||(t=t.concat(this.context.registers.list)),t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild){for(var i in this.context.aliases)this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var s=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],n=0,a=this.environment.depths.list.length;n<a;n++)s.push("depth"+this.environment.depths.list[n]);if(e)return s.push(this.source.join("\n  ")),Function.apply(this,s);var r="function "+(this.name||"")+"("+s.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,r+"\n\n"),r},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(1),t="";this.context.aliases.escapeExpression="this.escapeExpression","appendContent"===e[0]&&(t=" + "+this.quotedString(e[1][0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupWithHelpers:function(e,t){if(e){var i=this.nextStack();this.usingKnownHelper=!1;var s;!t&&this.options.knownHelpers[e]?(s=i+" = "+this.nameLookup("helpers",e,"helper"),this.usingKnownHelper=!0):t||this.options.knownHelpersOnly?s=i+" = "+this.nameLookup("depth"+this.lastContext,e,"context"):(this.register("foundHelper",this.nameLookup("helpers",e,"helper")),s=i+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,e,"context")),s+=";",this.source.push(s)}else this.pushStack("depth"+this.lastContext)},lookup:function(e){var t=this.topStack();this.source.push(t+" = ("+t+" === null || "+t+" === undefined || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")+");")},pushStringParam:function(e){this.pushStack("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStack(this.quotedString(e))},push:function(e){this.pushStack(e)},invokeMustache:function(e,t,i){this.populateParams(e,this.quotedString(t),"{}",null,i,function(e,t,i){this.usingKnownHelper||(this.context.aliases.helperMissing="helpers.helperMissing",this.context.aliases.undef="void 0",this.source.push("else if("+i+"=== undef) { "+e+" = helperMissing.call("+t+"); }"),e!==i&&this.source.push("else { "+e+" = "+i+"; }"))})},invokeProgram:function(e,t,i){var s=this.programExpression(this.inverse),n=this.programExpression(e);this.populateParams(t,null,n,s,i,function(e,t){this.usingKnownHelper||(this.context.aliases.blockHelperMissing="helpers.blockHelperMissing",this.source.push("else { "+e+" = blockHelperMissing.call("+t+"); }"))})},populateParams:function(e,t,i,s,n,a){var r,o,l=n||this.options.stringParams||s||this.options.data,c=this.popStack(),h=[];if(l?(this.register("tmp1",i),o="tmp1"):o="{ hash: {} }",l){var u=n?this.popStack():"{}";this.source.push("tmp1.hash = "+u+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(var d=0;d<e;d++)r=this.popStack(),h.push(r),this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");");s&&(this.source.push("tmp1.fn = tmp1;"),this.source.push("tmp1.inverse = "+s+";")),this.options.data&&this.source.push("tmp1.data = data;"),h.push(o),this.populateCall(h,c,t||c,a,"{}"!==i)},populateCall:function(e,t,i,s,n){var a=["depth0"].concat(e).join(", "),r=["depth0"].concat(i).concat(e).join(", "),o=this.nextStack();if(this.usingKnownHelper)this.source.push(o+" = "+t+".call("+a+");");else{this.context.aliases.functionType='"function"';var l=n?"foundHelper && ":"";this.source.push("if("+l+"typeof "+t+" === functionType) { "+o+" = "+t+".call("+a+"); }")}s.call(this,o,r,t),this.usingKnownHelper=!1},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.pushStack("self.invokePartial("+t.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),i=this.topStack();this.source.push(i+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){for(var i,s,n=e.children,a=0,r=n.length;a<r;a++){i=n[a],s=new this.compiler,this.context.programs.push("");var o=this.context.programs.length;i.index=o,i.name="program"+o,this.context.programs[o]=s.compile(i,t,this.context)}},programExpression:function(e){if(null==e)return"self.noop";for(var t,i=this.environment.children[e],s=i.depths.list,n=[i.index,i.name,"data"],a=0,r=s.length;a<r;a++)t=s[a],1===t?n.push("depth0"):n.push("depth"+(t-1));return 0===s.length?"self.program("+n.join(", ")+")":(n.shift(),"self.programWithDepth("+n.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.context.registers[e]||(this.context.registers[e]=!0,this.context.registers.list.push(e))},pushStack:function(e){return this.source.push(this.nextStack()+" = "+e+";"),"stack"+this.stackSlot},nextStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),a=t.RESERVED_WORDS={},r=0,o=n.length;r<o;r++)a[n[r]]=!0;t.isValidJavaScriptVariableName=function(e){return!(t.RESERVED_WORDS[e]||!/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e))}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};var i=Handlebars.parse(e),s=(new Handlebars.Compiler).compile(i,t);return(new Handlebars.JavaScriptCompiler).compile(s,t)},Handlebars.compile=function(e,t){function i(){var i=Handlebars.parse(e),s=(new Handlebars.Compiler).compile(i,t),n=(new Handlebars.JavaScriptCompiler).compile(s,t,void 0,!0);return Handlebars.template(n)}t=t||{};var s;return function(e,t){return s||(s=i()),s.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,i){var s=this.programs[e];return i?Handlebars.VM.program(t,i):s?s:s=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(i,s){return s=s||{},e.call(t,Handlebars,i,s.helpers,s.partials,s.data)}},programWithDepth:function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(s,n){return n=n||{},e.apply(this,[s,n.data||t].concat(i))}},program:function(e,t){return function(i,s){return s=s||{},e(i,s.data||t)}},noop:function(){return""},invokePartial:function(e,t,i,s,n,a){var r={helpers:s,partials:n,data:a};if(void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(i,r);if(Handlebars.compile)return n[t]=Handlebars.compile(e),n[t](i,r);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t.confirm=e(function(e,t,i,s,n){function a(){return"\n      "}function r(){return"\n      <button class='warning cancel-snorbybox default' onClick='$.limpClose()'><span>Cancel</span></button>\n      "}i=i||e.helpers;var o,l,c,h,u="",d=this,p="function",f=i.helperMissing,g=void 0,m=this.escapeExpression;return u+='<div class="snorby-box" id="snorby-box">\n\n  <div id="box-title">\n    ',c=i.title,o=c||t.title,typeof o===p?o=o.call(t,{hash:{}}):o===g&&(o=f.call(t,"title",{hash:{}})),u+=m(o)+'\n    <div class="more">\n    </div>\n  </div>\n  <div id="box-content-small">\n\n    <div id="snorbybox-content" class="">\n      <div class=\'snorbybox-content-message\'>\n      ',c=i.message,o=c||t.message,typeof o===p?o=o.call(t,{hash:{}}):o===g&&(o=f.call(t,"message",{hash:{}})),(o||0===o)&&(u+=o),u+='\n      </div>\n    </div>\n\n    <div id="box-footer">\n      <div id="form-actions">\n\n      <button class=\'button ',c=i.button,o=c||t.button,o=null===o||void 0===o||o===!1?o:o.type,typeof o===p?o=o.call(t,{hash:{}}):o===g&&(o=f.call(t,"button.type",{hash:{}})),u+=m(o)+" limp-action'><span>",c=i.button,o=c||t.button,o=null===o||void 0===o||o===!1?o:o.title,typeof o===p?o=o.call(t,{hash:{}}):o===g&&(o=f.call(t,"button.title",{hash:{}})),u+=m(o)+"</span></button>\n\n      ",c=i.ignore_cancel,o=c||t.ignore_cancel,l=i["if"],h=d.program(1,a,n),h.hash={},h.fn=h,h.inverse=d.program(3,r,n),o=l.call(t,o,h),(o||0===o)&&(u+=o),u+="\n      </div>\n\n    </div>\n\n  </div>\n</div>\n"}),t["edit-asset-name"]=e(function(e,t,i,s,n){function a(e){var t,s="";return s+='value="',h=i.asset_name,t=h||e.asset_name,typeof t===f?t=t.call(e,{hash:{}}):t===m&&(t=g.call(e,"asset_name",{hash:{}})),s+=v(t)+'"'}function r(){return"checked"}function o(){return"disabled"}i=i||e.helpers;var l,c,h,u,d="",p=this,f="function",g=i.helperMissing,m=void 0,v=this.escapeExpression;return d+='<div class="snorby-box" id="snorby-box">\n\n  <div id="box-title">\n    Edit Asset Name For ',h=i.ip_address,l=h||t.ip_address,typeof l===f?l=l.call(t,{hash:{}}):l===m&&(l=g.call(t,"ip_address",{hash:{}})),d+=v(l)+'\n    <div class="more"></div>\n  </div>\n  <div id="box-content-small">\n\n    <div id="snorbybox-content" class="">\n        <form class="update-asset-name-form" action="#">\n          <div class="grid_5">\n            \n            <input type="hidden" name="ip_address" value="',h=i.ip_address,l=h||t.ip_address,typeof l===f?l=l.call(t,{hash:{}}):l===m&&(l=g.call(t,"ip_address",{hash:{}})),d+=v(l)+'" />\n            <input type="hidden" name="id" value="',h=i.asset_id,l=h||t.asset_id,typeof l===f?l=l.call(t,{hash:{}}):l===m&&(l=g.call(t,"asset_id",{hash:{}})),d+=v(l)+'" />\n\n            <p>\n              <input id="edit-asset-name-title" ',h=i.asset_name,l=h||t.asset_name,c=i["if"],u=p.program(1,a,n),u.hash={},u.fn=u,u.inverse=p.noop,l=c.call(t,l,u),(l||0===l)&&(d+=l),d+=' name="name" type="text" style=\'width:339px;\' placeholder="Enter Asset Name" />\n            </p>\n\n            <div class="clear"></div>\n\n            <p>\n              <input type="checkbox" id=\'is-asset-name-global\' name="global" ',h=i.global,l=h||t.global,c=i["if"],u=p.program(3,r,n),u.hash={},u.fn=u,u.inverse=p.noop,l=c.call(t,l,u),(l||0===l)&&(d+=l),d+=" />\n              <label>Enable Globally</label> <em>(Enable this rule for all sensors)</em><br />\n            </p>\n\n            <div class=\"clear\"></div>\n\n            <div id='snorbybox-form-full'>\n              <select ",h=i.global,l=h||t.global,c=i["if"],u=p.program(5,o,n),u.hash={},u.fn=u,u.inverse=p.noop,l=c.call(t,l,u),(l||0===l)&&(d+=l),d+=' style="width:350px;margin-bottom:5px;" name="agents" id="edit-asset-name-agent-select" class=\'add_chosen\' "data-placeholder"="Select individual agents" multiple name="">\n                ',h=i.build_asset_name_agent_list,l=h||t.build_asset_name_agent_list,typeof l===f?l=l.call(t,{hash:{}}):l===m&&(l=g.call(t,"build_asset_name_agent_list",{hash:{}})),(l||0===l)&&(d+=l),d+='\n              </select>\n              <br />\n            </div>\n          \n          </div>\n\n          <div class="grid_5" style=\'width:287px;\'>\n            <div class="note no-click">\n              <div class="message">\n                <strong>Global</strong> This asset name will be used for all sensors that match this address.<br />\n              </div>\n            </div>\n          </div>\n\n          <div class="clear"></div>\n\n          <br />\n\n          <div id="box-footer">\n            <div id="form-actions">\n              <button class=\'update-asset-name-submit-button button success default\' onclick="Snorby.submitAssetName(); return false;">\n                <span>Update</span>\n              </button>\n              <button class=\'warning cancel-snorbybox default\' onClick=\'$.limpClose()\'><span>Cancel</span></button>\n            </div>\n          </div>\n\n        </form>\n    </div>\n\n\n  </div>\n</div>\n'}),t["search-rule"]=e(function(e,t,i){i=i||e.helpers;return'<div class="search-content-box">\n  <div class="inside">\n\n    <div class="search-content-enable search-content-box-item">\n      <input name="enable-current-search-content" checked=\'checked\' type="checkbox" />\n    </div>\n\n    <div class="column-select search-content-box-item">\n      <select class=\'add_chosen\'>\n        <option value=\'any\'>Any</option>\n        <option value=\'all\'>All</option>\n      </select> \n    </div>\n\n    <div class="operator-select search-content-box-item">\n      <select class=\'add_chosen\'>\n        <option value=\'is\'>is</option>\n        <option value=\'is_not\'>is not</option>\n      </select>      \n    </div>\n\n    <div class="value search-content-box-item">\n      <input class=\'search-content-value\' placeholder="Enter search value" name="" type="text" /> \n    </div>\n\n    <div class="search-button-box-holder">\n      <div class="search-button-box-inside">\n        <div class="search-button-box">\n\n          <div title=\'Remove search rule\' class="search-content-remove search-content-box-item">\n            <img src="'+baseuri+'/images/icons/minus.png" alt="" />\n          </div>\n\n          <div title=\'Add new search rule\' class="search-content-add search-content-box-item">\n            <img src="'+baseuri+'/images/icons/add.png" alt="" />\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n';
}),t.search=e(function(e,t,i){i=i||e.helpers;var s,n,a="",r="function",o=i.helperMissing,l=void 0,c=this.escapeExpression;return a+='<div id="search" class="boxit page grid_12">\n\n  <div class="search-match-box" style="display:;">\n    Match \n    <select class="global-match-setting">\n      <option value="any">Any</option>\n      <option value="all" selected="selected">All</option>\n    </select> \n    of the following rules: \n  </div>\n\n  <div class="other-search-options" style="display:none;">\n    <input name="limit-all-search-rules" type="checkbox"> \n    Limit to\n    <input class="limit-search-results-count" name="limit-search-results-to" type="text" value="10000"> \n    ordered by\n    <select><option value="any">Event Timestamp</option><option value="all">All</option></select>\n    <br>\n    <input name="ignore-classified-events" type="checkbox"> Ignore all classified events.\n  </div>\n\n  <div class="rules"></div>\n\n  <div id="form-actions">\n    <button class="',n=i.cssClass,s=n||t.cssClass,typeof s===r?s=s.call(t,{hash:{}}):s===l&&(s=o.call(t,"cssClass",{hash:{}})),a+=c(s)+' success default"><span>',n=i.buttonTitle,s=n||t.buttonTitle,typeof s===r?s=s.call(t,{hash:{}}):s===l&&(s=o.call(t,"buttonTitle",{hash:{}})),a+=c(s)+"</span></button>\n  </div>\n</div>\n"}),t.select=e(function(e,t,i,s,n){function a(){return"multiple"}function r(e){var t,s="";return s+='style="width:',d=i.width,t=d||e.width,typeof t===m?t=t.call(e,{hash:{}}):t===b&&(t=v.call(e,"width",{hash:{}})),s+=y(t)+';"'}function o(e){var t,s="";return s+='data-placeholder="',d=i.placeholder,t=d||e.placeholder,typeof t===m?t=t.call(e,{hash:{}}):t===b&&(t=v.call(e,"placeholder",{hash:{}})),s+=y(t)+'"'}function l(){return'<option value=""></option>'}function c(e){var t,s="";return s+='\n    <option value="',d=i.id,t=d||e.id,typeof t===m?t=t.call(e,{hash:{}}):t===b&&(t=v.call(e,"id",{hash:{}})),s+=y(t)+'">',d=i.value,t=d||e.value,typeof t===m?t=t.call(e,{hash:{}}):t===b&&(t=v.call(e,"value",{hash:{}})),s+=y(t)+"</option>\n  "}i=i||e.helpers;var h,u,d,p,f="",g=this,m="function",v=i.helperMissing,b=void 0,y=this.escapeExpression,_=i.blockHelperMissing;return f+="<select ",d=i.multiple,h=d||t.multiple,u=i["if"],p=g.program(1,a,n),p.hash={},p.fn=p,p.inverse=g.noop,h=u.call(t,h,p),(h||0===h)&&(f+=h),f+=" ",d=i.width,h=d||t.width,u=i["if"],p=g.program(3,r,n),p.hash={},p.fn=p,p.inverse=g.noop,h=u.call(t,h,p),(h||0===h)&&(f+=h),f+=' \n  class="add_chosen" \n  ',d=i.placeholder,h=d||t.placeholder,u=i["if"],p=g.program(5,o,n),p.hash={},p.fn=p,p.inverse=g.noop,h=u.call(t,h,p),(h||0===h)&&(f+=h),f+='\n  name="',d=i.name,h=d||t.name,typeof h===m?h=h.call(t,{hash:{}}):h===b&&(h=v.call(t,"name",{hash:{}})),f+=y(h)+'">\n\n  ',d=i.placeholder,h=d||t.placeholder,u=i["if"],p=g.program(7,l,n),p.hash={},p.fn=p,p.inverse=g.noop,h=u.call(t,h,p),(h||0===h)&&(f+=h),f+="\n\n  ",d=i.data,h=d||t.data,h=null===h||void 0===h||h===!1?h:h.value,p=g.program(9,c,n),p.hash={},p.fn=p,p.inverse=g.noop,h=d&&typeof h===m?h.call(t,p):_.call(t,h,p),(h||0===h)&&(f+=h),f+="\n</select>\n\n\n"}),t["session-event-row"]=e(function(e,t,i){i=i||e.helpers;var s,n,a,r="",o="function",l=i.helperMissing,c=void 0,h=this.escapeExpression;return r+="<li id='event_",a=i.sid,s=a||t.sid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"sid",{hash:{}})),r+=h(s),a=i.cid,s=a||t.cid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"cid",{hash:{}})),r+=h(s)+"' data-session-id=\"",a=i.ip_src,s=a||t.ip_src,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"ip_src",{hash:{}})),r+=h(s)+"_",a=i.ip_dst,s=a||t.ip_dst,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"ip_dst",{hash:{}})),r+=h(s)+"_",a=i.sig_id,s=a||t.sig_id,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"sig_id",{hash:{}})),r+=h(s)+"\" class='event' style='' data-event-id='",a=i.sid,s=a||t.sid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"sid",{hash:{}})),r+=h(s)+"-",a=i.cid,s=a||t.cid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"cid",{hash:{}})),r+=h(s)+"' data-event-sid='",a=i.sid,s=a||t.sid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"sid",{hash:{}})),r+=h(s)+"' data-event-cid='",a=i.cid,s=a||t.cid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"cid",{hash:{}})),r+=h(s)+"'>\n  <div class='row geoip sessions'>\n    <div class='select small'><input class='event-selector' id='event-selector' name='event-selector' type='checkbox'></div>\n    <div class='important small'><div class='create-favorite enabled'></div></div>\n    <div class='severity small'><span class='severity sev",a=i.severity,s=a||t.severity,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"severity",{hash:{}})),r+=h(s)+"'>",a=i.severity,s=a||t.severity,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"severity",{hash:{}})),r+=h(s)+"</span></div>\n    <div class='click sensor'>",a=i.hostname,s=a||t.hostname,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"hostname",{hash:{}})),r+=h(s)+"</div>\n    <div class='click src_ip address'>\n      ",a=i.src_geoip,s=a||t.src_geoip,a=i.geoip,n=a||t.geoip,s=typeof n===o?n.call(t,s,{hash:{}}):n===c?l.call(t,"geoip",s,{hash:{}}):n,(s||0===s)&&(r+=s),r+=" ",a=i.ip_src,s=a||t.ip_src,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"ip_src",{hash:{}})),r+=h(s)+"\n    </div>\n    <div class='click dst_ip address'>\n      ",a=i.dst_geoip,s=a||t.dst_geoip,a=i.geoip,n=a||t.geoip,s=typeof n===o?n.call(t,s,{hash:{}}):n===c?l.call(t,"geoip",s,{hash:{}}):n,(s||0===s)&&(r+=s),r+=" ",a=i.ip_dst,s=a||t.ip_dst,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"ip_dst",{hash:{}})),r+=h(s)+"\n    </div>\n    <div class='click signature'>",a=i.message,s=a||t.message,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"message",{hash:{}})),r+=h(s)+"</div>\n    <div class='click timestamp'>\n      <b class='add_tipsy' title='Event ID: ",a=i.sid,s=a||t.sid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"sid",{hash:{}})),r+=h(s)+".",a=i.cid,s=a||t.cid,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"cid",{hash:{}})),r+=h(s)+" &nbsp; ",a=i.datetime,s=a||t.datetime,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"datetime",{hash:{}})),r+=h(s)+"'>\n        ",a=i.timestamp,s=a||t.timestamp,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"timestamp",{hash:{}})),r+=h(s)+'\n      </b>\n    </div>\n    <div class="click session-count" data-sessions="',a=i.session_count,s=a||t.session_count,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"session_count",{hash:{}})),r+=h(s)+'">\n      <span>',a=i.session_count,s=a||t.session_count,typeof s===o?s=s.call(t,{hash:{}}):s===c&&(s=l.call(t,"session_count",{hash:{}})),r+=h(s)+"</span>\n    </div>\n  </div>\n  <div style='display:none;' class='event-data' data='false'></div>\n</li>\n"})}(),function(e){e.widget("ech.notify",{options:{speed:500,expires:5e3,stack:"below",custom:!1},_create:function(){var t=this;this.templates={},this.keys=[],this.element.addClass("ui-notify").children().addClass("ui-notify-message ui-notify-message-style").each(function(i){var s=this.id||i;t.keys.push(s),t.templates[s]=e(this).removeAttr("id").wrap("<div></div>").parent().html()}).end().empty().show()},create:function(t,i,s){"object"==typeof t&&(s=i,i=t,t=null);var n=this.templates[t||this.keys[0]];return s&&s.custom&&(n=e(n).removeClass("ui-notify-message-style").wrap("<div></div>").parent().html()),new e.ech.notify.instance(this)._create(i,e.extend({},this.options,s),n)}}),e.extend(e.ech.notify,{instance:function(e){this.parent=e,this.isOpen=!1}}),e.extend(e.ech.notify.instance.prototype,{_create:function(t,i,s){this.options=i;var n=this,a=s.replace(/#(?:\{|%7B)(.*?)(?:\}|%7D)/g,function(e,i){return i in t?t[i]:""}),r=this.element=e(a),o=r.find(".ui-notify-close");return"function"==typeof this.options.click&&r.addClass("ui-notify-click").bind("click",function(e){n._trigger("click",e,n)}),o.length&&o.bind("click",function(){return n.close(),!1}),this.open(),"number"==typeof i.expires&&window.setTimeout(function(){n.close()},i.expires),this},close:function(){var e=this,t=this.options.speed;return this.element.fadeTo(t,0).slideUp(t,function(){e._trigger("close"),e.isOpen=!1}),this},open:function(){if(this.isOpen||this._trigger("beforeopen")===!1)return this;var e=this;return this.element["above"===this.options.stack?"prependTo":"appendTo"](this.parent.element).css({display:"none",opacity:""}).fadeIn(this.options.speed,function(){e._trigger("open"),e.isOpen=!0}),this},widget:function(){return this.element},_trigger:function(e,t,i){return this.parent._trigger.call(this,e,t,i)}})}(jQuery),function(e){var t=function(){var t=65,i='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',s={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},n=function(t,i){var s=z(t);e(i).data("colorpicker").fields.eq(1).val(s.r).end().eq(2).val(s.g).end().eq(3).val(s.b).end()},a=function(t,i){e(i).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},r=function(t,i){e(i).data("colorpicker").fields.eq(0).val(j(t)).end()},o=function(t,i){e(i).data("colorpicker").selector.css("backgroundColor","#"+j({h:t.h,s:100,b:100})),e(i).data("colorpicker").selectorIndic.css({left:parseInt(150*t.s/100,10),top:parseInt(150*(100-t.b)/100,10)})},l=function(t,i){e(i).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},c=function(t,i){e(i).data("colorpicker").currentColor.css("backgroundColor","#"+j(t))},h=function(t,i){e(i).data("colorpicker").newColor.css("backgroundColor","#"+j(t))},u=function(i){var s=i.charCode||i.keyCode||-1;if(s>t&&s<=90||32==s)return!1;var n=e(this).parent().parent();n.data("colorpicker").livePreview===!0&&d.apply(this)},d=function(t){var i,s=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?s.data("colorpicker").color=i=F(P(this.value)):this.parentNode.className.indexOf("_hsb")>0?s.data("colorpicker").color=i=E({h:parseInt(s.data("colorpicker").fields.eq(4).val(),10),s:parseInt(s.data("colorpicker").fields.eq(5).val(),10),b:parseInt(s.data("colorpicker").fields.eq(6).val(),10)}):s.data("colorpicker").color=i=H(M({r:parseInt(s.data("colorpicker").fields.eq(1).val(),10),g:parseInt(s.data("colorpicker").fields.eq(2).val(),10),b:parseInt(s.data("colorpicker").fields.eq(3).val(),10)})),t&&(n(i,s.get(0)),r(i,s.get(0)),a(i,s.get(0))),o(i,s.get(0)),l(i,s.get(0)),h(i,s.get(0)),s.data("colorpicker").onChange.apply(s,[i,j(i),z(i)])},p=function(){var t=e(this).parent().parent();t.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){t=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},g=function(t){var i=e(this).parent().find("input").focus(),s={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:i,val:parseInt(i.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",s,v),e(document).bind("mousemove",s,m)},m=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&d.apply(e.data.field.get(0),[!0]),!1},v=function(t){return d.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",v),e(document).unbind("mousemove",m),!1},b=function(){var t={cal:e(this).parent(),y:e(this).offset().top};t.preview=t.cal.data("colorpicker").livePreview,e(document).bind("mouseup",t,_),e(document).bind("mousemove",t,y)},y=function(e){return d.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},_=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",_),e(document).unbind("mousemove",y),!1},w=function(){var t={cal:e(this).parent(),pos:e(this).offset()};t.preview=t.cal.data("colorpicker").livePreview,e(document).bind("mouseup",t,x),e(document).bind("mousemove",t,k)},k=function(e){return d.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},x=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),r(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",x),e(document).unbind("mousemove",k),!1},C=function(){e(this).addClass("colorpicker_focus")},S=function(){e(this).removeClass("colorpicker_focus")},D=function(){var t=e(this).parent(),i=t.data("colorpicker").color;t.data("colorpicker").origColor=i,c(i,t.get(0)),t.data("colorpicker").onSubmit(i,j(i),z(i),t.data("colorpicker").el)},A=function(){var t=e("#"+e(this).data("colorpickerId"));t.data("colorpicker").onBeforeShow.apply(this,[t.get(0)]);var i=e(this).offset(),s=I(),n=i.top+this.offsetHeight,a=i.left;return n+176>s.t+s.h&&(n-=this.offsetHeight+176),a+356>s.l+s.w&&(a-=356),t.css({left:a+"px",top:n+"px"}),0!=t.data("colorpicker").onShow.apply(this,[t.get(0)])&&t.show(),e(document).bind("mousedown",{cal:t},T),!1},T=function(t){$(t.data.cal.get(0),t.target,t.data.cal.get(0))||(0!=t.data.cal.data("colorpicker").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e(document).unbind("mousedown",T))},$=function(e,t,i){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var s=t.parentNode;s&&s!=i;){if(s==e)return!0;s=s.parentNode}return!1},I=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},E=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},M=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},P=function(e){var t=6-e.length;if(t>0){for(var i=[],s=0;s<t;s++)i.push("0");i.push(e),e=i.join("")}return e},N=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},F=function(e){return H(N(e))},H=function(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),s=Math.max(e.r,e.g,e.b),n=s-i;return t.b=s,t.s=0!=s?255*n/s:0,0!=t.s?e.r==s?t.h=(e.g-e.b)/n:e.g==s?t.h=2+(e.b-e.r)/n:t.h=4+(e.r-e.g)/n:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},z=function(e){var t={},i=Math.round(e.h),s=Math.round(255*e.s/100),n=Math.round(255*e.b/100);if(0==s)t.r=t.g=t.b=n;else{var a=n,r=(255-s)*n/255,o=(a-r)*(i%60)/60;360==i&&(i=0),i<60?(t.r=a,t.b=r,t.g=r+o):i<120?(t.g=a,t.b=r,t.r=a-o):i<180?(t.g=a,t.r=r,t.b=r+o):i<240?(t.b=a,t.r=r,t.g=a-o):i<300?(t.b=a,t.g=r,t.r=r+o):i<360?(t.r=a,t.g=r,t.b=a-o):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},O=function(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(i,function(e,t){1==t.length&&(i[e]="0"+t)}),i.join("")},j=function(e){return O(z(e))},L=function(){var t=e(this).parent(),i=t.data("colorpicker").origColor;t.data("colorpicker").color=i,n(i,t.get(0)),r(i,t.get(0)),a(i,t.get(0)),o(i,t.get(0)),l(i,t.get(0)),h(i,t.get(0))};return{init:function(t){if(t=e.extend({},s,t||{}),"string"==typeof t.color)t.color=F(t.color);else if(void 0!=t.color.r&&void 0!=t.color.g&&void 0!=t.color.b)t.color=H(t.color);else{if(void 0==t.color.h||void 0==t.color.s||void 0==t.color.b)return this;t.color=E(t.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var s=e.extend({},t);s.origColor=t.color;var m="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colorpickerId",m);var v=e(i).attr("id",m);s.flat?v.appendTo(this).show():v.appendTo(document.body),s.fields=v.find("input").bind("keyup",u).bind("change",d).bind("blur",p).bind("focus",f),v.find("span").bind("mousedown",g).end().find(">div.colorpicker_current_color").bind("click",L),s.selector=v.find("div.colorpicker_color").bind("mousedown",w),s.selectorIndic=s.selector.find("div div"),s.el=this,s.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",b),s.newColor=v.find("div.colorpicker_new_color"),s.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",s),v.find("div.colorpicker_submit").bind("mouseenter",C).bind("mouseleave",S).bind("click",D),n(s.color,v.get(0)),a(s.color,v.get(0)),r(s.color,v.get(0)),l(s.color,v.get(0)),o(s.color,v.get(0)),c(s.color,v.get(0)),h(s.color,v.get(0)),s.flat?v.css({position:"relative",display:"block"}):e(this).bind(s.eventName,A)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&A.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(t){if("string"==typeof t)t=F(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=H(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=E(t)}return this.each(function(){if(e(this).data("colorpickerId")){var i=e("#"+e(this).data("colorpickerId"));i.data("colorpicker").color=t,i.data("colorpicker").origColor=t,n(t,i.get(0)),a(t,i.get(0)),r(t,i.get(0)),l(t,i.get(0)),o(t,i.get(0)),c(t,i.get(0)),h(t,i.get(0))}})}}}();e.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})}(jQuery),jQuery.fn.editable=function(e,t,i){if(0===this.length)return this;var s={target:e,name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",loaddata:{},submitdata:{}};t&&jQuery.extend(s,t);var n=jQuery.editable.types[s.type].plugin||function(){},a=jQuery.editable.types[s.type].submit||function(){},r=jQuery.editable.types[s.type].buttons||jQuery.editable.types.defaults.buttons,o=jQuery.editable.types[s.type].content||jQuery.editable.types.defaults.content,l=jQuery.editable.types[s.type].element||jQuery.editable.types.defaults.element;return i=i||function(){},jQuery(this).attr("title",s.tooltip),s.autowidth="auto"==s.width,s.autoheight="auto"==s.height,jQuery(this)[s.event](function(){function e(){t.innerHTML=t.revert,t.editing=!1}var t=this;if(!t.editing){"none"!=s.width&&(s.width=s.autowidth?jQuery(t).width():s.width),"none"!=s.height&&(s.height=s.autoheight?jQuery(t).height():s.height),t.editing=!0,t.revert=jQuery(t).html(),t.innerHTML="";var c=document.createElement("form");s.cssclass&&("inherit"==s.cssclass?jQuery(c).attr("class",jQuery(t).attr("class")):jQuery(c).attr("class",s.cssclass)),s.style&&("inherit"==s.style?(jQuery(c).attr("style",jQuery(t).attr("style")),jQuery(c).css("display",jQuery(t).css("display"))):jQuery(c).attr("style",s.style));var h=l.apply(c,[s,t]);if(s.getload?(s.loadurl=s.getload,s.loadtype="GET"):s.postload&&(s.loadurl=s.postload,s.loadtype="POST"),s.loadurl){var u=setTimeout(function(){h.disabled=!0,o.apply(c,[s.loadtext,s,t])},100),d={};d[s.id]=t.id,jQuery.isFunction(s.loaddata)?jQuery.extend(d,s.loaddata.apply(t,[t.revert,s])):jQuery.extend(d,s.loaddata),jQuery.ajax({type:s.loadtype,url:s.loadurl,data:d,success:function(e){window.clearTimeout(u),o.apply(c,[e,s,t]),h.disabled=!1}})}else if(s.data){var p=s.data;if(jQuery.isFunction(s.data))var p=s.data.apply(t,[t.revert,s]);o.apply(c,[p,s,t])}else o.apply(c,[t.revert,s,t]);h.name=s.name,r.apply(c,[s,t]),t.appendChild(c),s.select&&h.select(),n.apply(c,[s,t]),jQuery(":input:visible:enabled:first",c).focus(),jQuery(h).keydown(function(t){27==t.keyCode&&(t.preventDefault(),e())});var u;"cancel"==s.onblur?jQuery(h).blur(function(){u=setTimeout(e,500)}):"submit"==s.onblur?jQuery(h).blur(function(){jQuery(c).submit()}):jQuery(h).blur(function(){}),jQuery(c).submit(function(e){if(u&&clearTimeout(u),e.preventDefault(),a.apply(c,[s,t]),jQuery.isFunction(s.target)){var n=s.target.apply(t,[jQuery(h).val(),s]);t.innerHTML=n,t.editing=!1,i.apply(t,[t.innerHTML,s])}else{var r={};r[h.name]=jQuery(h).val(),r[s.id]=t.id,jQuery.isFunction(s.submitdata)?jQuery.extend(r,s.submitdata.apply(t,[t.revert,s])):jQuery.extend(r,s.submitdata),jQuery(t).html(s.indicator),jQuery.post(s.target,r,function(e){t.innerHTML=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.editing=!1,i.apply(t,[t.innerHTML,s])})}return!1})}}),this},jQuery.editable={types:{defaults:{element:function(){var e=jQuery('<input type="hidden">');return jQuery(this).append(e),e},content:function(e){jQuery(":input:first",this).val(e)},buttons:function(e,t){if(e.submit){var i=jQuery('<input type="submit">');i.val(e.submit),jQuery(this).append(i)}if(e.cancel){var s=jQuery('<input type="button">');s.val(e.cancel),jQuery(this).append(s),jQuery(s).click(function(){jQuery(t).html(t.revert),t.editing=!1})}}},text:{element:function(e){var t=jQuery("<input>");return"none"!=e.width&&t.width(e.width),"none"!=e.height&&t.height(e.height),t.attr("autocomplete","off"),jQuery(this).append(t),t}},textarea:{element:function(e){var t=jQuery("<textarea>");return e.rows?t.attr("rows",e.rows):t.height(e.height),e.cols?t.attr("cols",e.cols):t.width(e.width),jQuery(this).append(t),t}},select:{element:function(){var e=jQuery("<select>");return jQuery(this).append(e),e},content:function(string,settings,original){var select=jQuery("select",this);if(String==string.constructor){eval("var json = "+string);for(var key in json)if("selected"!=key){var option=$("<option>").val(key).append(json[key]);select.append(option)}}jQuery.editable.types.select.iefix(select,json.selected)},iefix:function(e,t){console.log(this),console.log(e),e.children().each(function(){jQuery(this).val()==t&&jQuery(this).attr("selected","selected")})}}},addInputType:function(e,t){jQuery.editable.types[e]=t}},function(e){e.cookie=function(t,i,s){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(s=e.extend({},s),null!==i&&void 0!==i||(s.expires=-1),"number"==typeof s.expires){var n=s.expires,a=s.expires=new Date;a.setDate(a.getDate()+n)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};for(var r,o=s.raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),c=0;r=l[c]&&l[c].split("=");c++)if(o(r[0])===t)return o(r[1]||"");return null}}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var i=e.scrollTo=function(t,i,s){e(window).scrollTo(t,i,s)};i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},i.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!i)return t;var s=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||"BackCompat"==s.compatMode?s.body:s.documentElement})},e.fn.scrollTo=function(s,n,a){return"object"==typeof n&&(a=n,n=0),"function"==typeof a&&(a={onAfter:a}),"max"==s&&(s=9e9),a=e.extend({},i.defaults,a),n=n||a.speed||a.duration,a.queue=a.queue&&a.axis.length>1,a.queue&&(n/=2),a.offset=t(a.offset),a.over=t(a.over),this._scrollable().each(function(){function r(e){c.animate(u,n,a.easing,e&&function(){e.call(this,s,a)})}var o,l=this,c=e(l),h=s,u={},d=c.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=t(h);break}h=e(h,this);case"object":(h.is||h.style)&&(o=(h=e(h)).offset())}e.each(a.axis.split(""),function(e,t){var s="x"==t?"Left":"Top",n=s.toLowerCase(),p="scroll"+s,f=l[p],g=i.max(l,t);if(o)u[p]=o[n]+(d?0:f-c.offset()[n]),a.margin&&(u[p]-=parseInt(h.css("margin"+s))||0,u[p]-=parseInt(h.css("border"+s+"Width"))||0),u[p]+=a.offset[n]||0,a.over[n]&&(u[p]+=h["x"==t?"width":"height"]()*a.over[n]);else{var m=h[n];u[p]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}/^\d+$/.test(u[p])&&(u[p]=u[p]<=0?0:Math.min(u[p],g)),!e&&a.queue&&(f!=u[p]&&r(a.onAfterFirst),delete u[p])}),r(a.onAfter)}).end()},i.max=function(t,i){var s="x"==i?"Width":"Height",n="scroll"+s;if(!e(t).is("html,body"))return t[n]-e(t)[s.toLowerCase()]();var a="client"+s,r=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(r[n],o[n])-Math.min(r[a],o[a])}}(jQuery),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var i=e.data(this[0],"validator");return i?i:(i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function s(){if(i.settings.submitHandler){if(i.submitButton)var t=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},s=this;return e.each(t.split(/\s/),function(e,t){i[t]=s.attr(t),s.removeAttr(t)}),i},rules:function(t,i){var s=this[0];if(t){var n=e.data(s.form,"validator").settings,a=n.rules,r=e.validator.staticRules(s);switch(t){case"add":e.extend(r,e.validator.normalizeRule(i)),a[s.name]=r,i.messages&&(n.messages[s.name]=e.extend(n.messages[s.name],i.messages));break;case"remove":if(!i)return delete a[s.name],r;var o={};return e.each(i.split(/\s/),function(e,t){o[t]=r[t],delete r[t]}),o}}var l=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(s),e.validator.classRules(s),e.validator.attributeRules(s),e.validator.staticRules(s)),s);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1==arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),i)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.errorsFor(e).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e){(e.name in this.submitted||e==this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,s){e(t).addClass(i).removeClass(s)},unhighlight:function(t,i,s){e(t).removeClass(i).addClass(s)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),s="on"+t.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0])}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};e.each(this.settings.groups,function(t,s){e.each(s.split(/\s/),function(e,s){i[s]=t})});var s=this.settings.rules;e.each(s,function(t,i){s[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",t).validateDelegate(":radio, :checkbox, select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.clean(t),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){
if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1==e.grep(this.errorList,function(e){return e.element.name==t.name}).length&&t},elements:function(){var t=this,i={};return e([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){return e(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},check:function(t){t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name)[0]);var i=e(t).rules(),s=!1;for(method in i){var n={method:method,parameters:i[method]};try{var a=e.validator.methods[method].call(this,t.value.replace(/\r/g,""),t,n.parameters);if("dependency-mismatch"==a){s=!0;continue}if(s=!1,"pending"==a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+n.method+"' method",e),e}}if(!s)return this.objectLength(i)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(e.metadata){var s=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return s&&s.messages&&s.messages[i]}},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):s.test(i)&&(i=jQuery.format(i.replace(s,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var t=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(var e=0,i=this.validElements();i[e];e++)this.settings.unhighlight.call(this,i[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var s=this.errorsFor(t);s.length?(s.removeClass().addClass(this.settings.errorClass),s.attr("generated")&&s.html(i)):(s=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,e(t)):s.insertAfter(t))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")==i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){var i=this.currentForm;return e(document.getElementsByName(t)).map(function(e,s){return s.form==i&&s.name==t&&s||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){return!e.validator.methods.required.call(this,e.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},s=e(t).attr("class");return s&&e.each(s.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},s=e(t);for(method in e.validator.methods){var n=s.attr(method);n&&(i[method]=n)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!e.metadata)return{};var i=e.data(t.form,"validator").settings.meta;return i?e(t).metadata()[i]:e(t).metadata()},staticRules:function(t){var i={},s=e.data(t.form,"validator");return s.settings.rules&&(i=e.validator.normalizeRule(s.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(s,n){if(n===!1)return void delete t[s];if(n.param||n.depends){var a=!0;switch(typeof n.depends){case"string":a=!!e(n.depends,i.form).length;break;case"function":a=n.depends.call(i,i)}a?t[s]=void 0===n.param||n.param:delete t[s]}}),e.each(t,function(s,n){t[s]=e.isFunction(n)?n(i):n}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,s){e.validator.methods[t]=i,e.validator.messages[t]=void 0!=s?s:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,s){if(!this.depend(s,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var n=e(i).val();return n&&n.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return e.trim(t).length>0}},remote:function(t,i,s){if(this.optional(i))return"dependency-mismatch";var n=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),n.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=n.message,s="string"==typeof s&&{url:s}||s,n.old!==t){n.old=t;var a=this;this.startRequest(i);var r={};return r[i.name]=t,e.ajax(e.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:r,success:function(s){a.settings.messages[i.name].remote=n.originalMessage;var r=s===!0;if(r){var o=a.formSubmitted;a.prepareElement(i),a.formSubmitted=o,a.successList.push(i),a.showErrors()}else{var l={},c=n.message=s||a.defaultMessage(i,"remote");l[i.name]=e.isFunction(c)?c(t):c,a.showErrors(l)}n.valid=r,a.stopRequest(i,r)}},s)),"pending"}return this.pending[i.name]?"pending":n.valid},minlength:function(t,i,s){return this.optional(i)||this.getLength(e.trim(t),i)>=s},maxlength:function(t,i,s){return this.optional(i)||this.getLength(e.trim(t),i)<=s},rangelength:function(t,i,s){var n=this.getLength(e.trim(t),i);return this.optional(i)||n>=s[0]&&n<=s[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(e))return!1;var i=0,s=0,n=!1;e=e.replace(/\D/g,"");for(var a=e.length-1;a>=0;a--){var r=e.charAt(a),s=parseInt(r,10);n&&(s*=2)>9&&(s-=9),i+=s,n=!n}return i%10==0},accept:function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,s){var n=e(s).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()});return t==n.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t=e.ajax,i={};e.ajax=function(s){s=e.extend(s,e.extend({},e.ajaxSettings,s));var n=s.port;return"abort"==s.mode?(i[n]&&i[n].abort(),i[n]=t.apply(this,arguments)):t.apply(this,arguments)}}(jQuery),function(e){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||e.each({focus:"focusin",blur:"focusout"},function(t,i){function s(t){return t=e.event.fix(t),t.type=i,e.event.handle.call(this,t)}e.event.special[i]={setup:function(){this.addEventListener(t,s,!0)},teardown:function(){this.removeEventListener(t,s,!0)},handler:function(t){return arguments[0]=e.event.fix(t),arguments[0].type=i,e.event.handle.apply(this,arguments)}}}),e.extend(e.fn,{validateDelegate:function(t,i,s){return this.bind(i,function(i){var n=e(i.target);if(n.is(t))return s.apply(n,arguments)})}})}(jQuery),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function i(t,i){this.$element=e(t),this.options=i,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var s=this.tip();s.find(".tipsy-inner")[this.options.html?"html":"text"](i),s[0].className="tipsy",s.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var n,a=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),r=s[0].offsetWidth,o=s[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":n={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-r/2};break;case"s":n={top:a.top-o-this.options.offset,left:a.left+a.width/2-r/2};break;case"e":n={top:a.top+a.height/2-o/2,left:a.left-r-this.options.offset};break;case"w":n={top:a.top+a.height/2-o/2,left:a.left+a.width+this.options.offset}}2==l.length&&("w"==l.charAt(1)?n.left=a.left+a.width/2-15:n.left=a.left+a.width/2-r+15),s.css(n).addClass("tipsy-"+l),s.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&s.addClass(t(this.options.className,this.$element[0])),this.options.fade?s.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):s.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;this.fixTitle();var e,i=this.options;return"string"==typeof i.title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||i.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function s(s){var n=e.data(s,"tipsy");return n||(n=new i(s,e.fn.tipsy.elementOptions(s,t)),e.data(s,"tipsy",n)),e(s).bind("tipsy.reload",function(){return n.options.fade=!1,n.show(),n.options.fade=!0,e(s)}),n}function n(){var e=s(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function a(){var e=s(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if("string"==typeof t){var r=this.data("tipsy");return r&&r[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){s(this)}),"manual"!=t.trigger){var o=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",c="hover"==t.trigger?"mouseleave":"blur";this[o](l,n)[o](c,a)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.elementOptions=function(t,i){return e.metadata?e.extend({},i,e(t).metadata()):i},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,i){return function(){var s={ns:i[0],ew:i.length>1&&i[1]},n=e(document).scrollTop()+t,a=e(document).scrollLeft()+t,r=e(this);return r.offset().top<n&&(s.ns="n"),r.offset().left<a&&(s.ew="w"),e(window).width()+e(document).scrollLeft()-r.offset().left<t&&(s.ew="e"),e(window).height()+e(document).scrollTop()-r.offset().top<t&&(s.ns="s"),s.ns+(s.ew?s.ew:"")}}}(jQuery);var selected_events=[],flash_message=[],csrf=$('meta[name="csrf-token"]').attr("content");$.fn.buttonLoading=function(){var e=$(this).outerWidth(!0)-2,t=$(this).outerHeight(!1)-2;$(this).addClass("loading").css({width:e,height:t})},$.deparam=jq_deparam=function(e,t){var i={},s={"true":!0,"false":!1,"null":null};return $.each(e.replace(/\+/g," ").split("&"),function(e,n){var a,r=n.split("="),o=decodeURIComponent(r[0]),l=i,c=0,h=o.split("]["),u=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[u])?(h[u]=h[u].replace(/\]$/,""),h=h.shift().split("[").concat(h),u=h.length-1):u=0,2===r.length)if(a=decodeURIComponent(r[1]),t&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==s[a]?s[a]:a),u)for(;c<=u;c++)o=""===h[c]?l.length:h[c],l=l[o]=c<u?l[o]||(h[c+1]&&isNaN(h[c+1])?{}:[]):a;else $.isArray(i[o])?i[o].push(a):void 0!==i[o]?i[o]=[i[o],a]:i[o]=a;else o&&(i[o]=t?void 0:"")}),i};var SearchRule;SearchRule=function(){function e(e){var t=this;t.html=Handlebars.templates["search-rule"]({});var e=JSON.parse(e);return t.columns=e.columns,t.operators=e.operators,t.selectData=e,t.classifications=e.classifications,t.sensors=e.sensors,t.users=e.users,t.signatures=e.signatures,t.severities=e.severities,t.protocol=e.protocol,t.has_note=e.has_note,t.init(),t}return e.prototype={init:function(){var e=this,t="368px";e.sensors_html=Handlebars.templates.select({name:"sensors-select",width:t,multiple:!1,data:e.sensors}),e.classifications_html=Handlebars.templates.select({name:"classifications-select",width:t,data:e.classifications}),e.severity_html=Handlebars.templates.select({name:"severities-select",width:t,data:e.severities}),console.log(e),e.has_note_html=Handlebars.templates.select({name:"has-note-select",width:t,data:e.has_note}),e.signatures_html=Handlebars.templates.select({name:"signatures-select",width:t,data:e.signatures}),e.users_html=Handlebars.templates.select({name:"users-select",width:t,data:e.users}),e.protocol_html=Handlebars.templates.select({name:"protocol-select",width:t,data:e.protocol}),e.columns_html=Handlebars.templates.select({name:"column-select",placeholder:"Choose a query term...",data:{value:e.columns}}),e.operators_html=function(e,t){var i=Handlebars.templates.select({name:"operators-select",data:{value:t}});e.find("div.operator-select").html(i)},e.datetime_picker=function(e){e.datetimepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd",numberOfMonths:1,showSecond:!0,separator:" "})}},searchUI:function(e,t){var i=this;$("#content #title").after(Handlebars.templates.search(e)),$(".search-content-add").live("click",function(e){e.preventDefault(),i.add(this)}),$(".search-content-remove").live("click",function(e){e.preventDefault(),i.remove(this)}),$("div.search-content-enable input").live("click",function(){$(this).is(":checked")?$(this).parents(".search-content-box").find(".value *, .operator-select *, .column-select *").attr("disabled",!1).css("opacity",1):$(this).parents(".search-content-box").find(".value *, .operator-select *, .column-select *").attr("disabled",!0).css("opacity",.8),$(".add_chosen").trigger("liszt:updated")}),$("button.submit-search").live("click",function(e){e.preventDefault(),i.submit()}),$("#content #title").on("click","a.reset-search-form",function(e){e.preventDefault(),$(".rules").empty(),i.add(),i.add(),i.add()}),t&&"function"==typeof t&&t()},add:function(e,t,i){var s=this,n={};n&&"object"==typeof n&&(n=t);var a=$(s.html);return a.find("div.column-select").html(s.columns_html),e&&"object"==typeof e?$(e).parents(".search-content-box").after(a):$(".rules").append(a),a.find(".add_chosen").chosen({allow_single_deselect:!0}).change(function(){var e=$(this).val(),t=$(this).parents(".search-content-box");"signature"===e?(t.find(".value").html(s.signatures_html),s.operators_html(a,s.operators.text_input)):"signature_name"===e?(t.find(".value").html('<input class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.operators_html(a,s.operators.contains)):"sensor"===e?(t.find(".value").html(s.sensors_html),s.operators_html(a,s.operators.text_input)):"classification"===e?(t.find(".value").html(s.classifications_html),s.operators_html(a,s.operators.text_input)):"has_note"===e?(t.find(".value").html(s.has_note_html),s.operators_html(a,s.operators.text_input)):"user"===e?(t.find(".value").html(s.users_html),s.operators_html(a,s.operators.text_input)):"severity"===e?(t.find(".value").html(s.severity_html),s.operators_html(a,s.operators.text_input)):"protocol"===e?(t.find(".value").html(s.protocol_html),s.operators_html(a,s.operators.text_input)):"start_time"===e?(t.find(".value").html('<input id="time-'+(new Date).getTime()+'" class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.datetime_picker(t.find(".value input:first")),s.operators_html(a,s.operators.datetime)):"end_time"===e?(t.find(".value").html('<input id="time-'+(new Date).getTime()+'" class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.datetime_picker(t.find(".value input:first")),s.operators_html(a,s.operators.datetime)):"payload"===e?(t.find(".value").html('<input class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.operators_html(a,s.operators.more_text_input)):""===e?(t.find(".value").html('<input class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.operators_html(a,s.operators.text_input)):(t.find(".value").html('<input class="search-content-value" placeholder="Enter search value" name="" type="text">'),s.operators_html(a,s.operators.text_input)),t.find(".add_chosen").chosen({allow_single_deselect:!0}),i&&"function"==typeof i&&i(t),t.trigger("snorby:search:change")}),$(".search-content-box:first").find(".search-content-remove").css("opacity",1).unbind("hover").unbind("mouseover"),a},remove:function(e){$(".search-content-box").length>2?$(e).parents(".search-content-box").remove():2==$(".search-content-box").length&&($(e).parents(".search-content-box").remove(),$(".search-content-box:first").find(".search-content-remove").css("opacity",.4).attr("title","You must have at least one search rule.").tipsy({gravity:"s"}))},pack:function(){var e=!1;"all"===$("#search select.global-match-setting").val()&&(e=!0);var t={match_all:e,items:{}};return $(".search-content-box").each(function(e,i){var s=$(i).find(".search-content-enable input").is(":checked"),n=$(i).find(".column-select select").val(),a=$(i).find(".operator-select select").val(),r=$(i).find(".value input, .value select").val();""===n&&""===r||(t.items[e]={column:n,operator:a,value:r,enabled:s})}),t},submit:function(e,t){var i=this,s=i.pack();"object"!=typeof t&&(t={});e&&"function"==typeof e&&e(s,i),s&&!$.isEmptyObject(s.items)?t.search_id?post_to_url(baseuri+"/results",{match_all:s.match_all,search:s.items,title:t.title,search_id:""+t.search_id,authenticity_token:csrf}):post_to_url(baseuri+"/results",{match_all:s.match_all,search:s.items,authenticity_token:csrf}):(flash_message.push({type:"error",message:"You cannot submit all empty search rules."}),flash())},build:function(e){var t=this;if("string"==typeof e)var i=JSON.parse(e);else if("object"==typeof e)var i=e;else var i={};if(i.items)var s=i.items;else if(i.search)var s=i.search;else var s={};i.match_all&&"false"===i.match_all?$('select.global-match-setting option[value="any"]').attr("selected","selected"):$('select.global-match-setting option[value="all"]').attr("selected","selected");for(id in s){var n=s[id],a=t.add(!1,{}),r=a.find("div.column-select select");a.bind("snorby:search:change",function(){var e=$(this).find("div.operator-select select"),t=$(this).find("div.value select, div.value input");e.find("option[value='"+n.operator+"']").attr("selected","selected"),e.trigger("liszt:updated"),t.attr("value",n.value),a.unbind("snorby:search:change")}),a.attr("data-rule-id",id),r.find("option[value='"+n.column+"']").attr("selected","selected"),r.trigger("liszt:updated").trigger("change"),"false"===n.enabled&&(a.find("div.search-content-enable input").attr("checked",!1),a.find(".value *, .operator-select *, .column-select *").attr("disabled",!0).css("opacity",.8))}$(".rules .add_chosen").trigger("liszt:updated")}},e}();var Snorby={file:{upload_asset_csv:function(){var e=$("#bulk-upload-form");e.submit()}},submitAssetName:function(){var e=$("form.update-asset-name-form"),t=e.formParams(),i={},s=0;$("button.update-asset-name-submit-button").attr("disabled",!0).find("span").text("Loading..."),t.id&&(i.id=t.id),t.ip_address?i.ip_address=t.ip_address:s++,t.name?i.name=t.name:(s++,$("input#edit-asset-name-title").addClass("error")),t.global?i.global=!0:(i.global=!1,t.agents?i.sensors=t.agents:(s++,$("#edit-asset-name-agent-select_chzn .chzn-choices").addClass("error"))),Snorby.submitAjaxRequestAssetName&&Snorby.submitAjaxRequestAssetName.abort(),s<=0?Snorby.submitAjaxRequestAssetName=$.ajax({url:baseuri+"/asset_names/add",dataType:"json",data:i,type:"post",success:function(e){$.limpClose();for(var t=[],i=0;i<e.asset_name.sensors.length;i+=1)t.push(parseInt(e.asset_name.sensors[i]));$("ul.table div.content li.event div.address").each(function(){var i=$(this).parents("li.event"),s=$("div.asset-name",this),n=$(this).attr("data-address"),a=parseInt(i.attr("data-agent-id"));n===e.asset_name.ip_address&&(i.find("dd a.edit-asset-name").each(function(){var i=$(this).attr("data-ip_address");n===i&&($(this).attr("data-asset_agent_ids",t),$(this).attr("data-asset_global",e.asset_name.global),$(this).attr("data-asset_name",e.asset_name.name))}),e.asset_name.global?s.text(e.asset_name.name):$.inArray(a,t)!==-1?s.text(e.asset_name.name):s.text(e.asset_name.ip_address))})},error:function(e,t,i){$("button.update-asset-name-submit-button").attr("disabled",!1).find("span").text("Update"),flash_message.push({type:"error",message:"Error: "+i}),flash()}}):($("button.update-asset-name-submit-button").attr("disabled",!1).find("span").text("Update"),flash_message.push({type:"error",message:"Please make sure all form fields are correctly populated."}),flash())},sessionViewUpdate:function(e,t){var i=t||2e4;Snorby.sessionViewUpdateClear(),Snorby.sessionViewUpdateInterval=setInterval(function(){Snorby.sessionViewUpdateRequest&&Snorby.sessionViewUpdateRequest.abort(),Snorby.sessionViewUpdateRequest=$.ajax({url:baseuri+"/events/sessions.json",data:{sort:e.sort||"desc",direction:e.direction||"timestamp",page:e.page||0},global:!1,type:"get",dataType:"json",success:function(t){if(t.hasOwnProperty("events"))for(var i=0;i<t.events.length;i+=1){var s=t.events[i],n=$('li.event[data-session-id="'+s.ip_src+"_"+s.ip_dst+"_"+s.sig_id+'"][id^="event_'+s.sid+'"]');if(n.length>0)parseInt(n.find("div.session-count").attr("data-sessions"))!==s.session_count&&(n.find("div.session-count").attr("data-sessions",s.session_count).find("span").html(s.session_count).effect("highlight",{},3e3),n.find("div.timestamp b").attr("title","Event ID: "+s.sid+"."+s.cid+" "+s.datetime).html(s.timestamp));else if(parseInt(e.page)<1){var a=Snorby.puts("session-event-row",s);$("div#events ul.table div.content").prepend(a)}}}})},i)},sessionViewUpdateClear:function(){Snorby.sessionViewUpdateInterval&&clearInterval(Snorby.sessionViewUpdateInterval),Snorby.sessionViewUpdateRequest&&Snorby.sessionViewUpdateRequest.abort()},colorPicker:function(){$("#severity-color-bg").ColorPicker({color:$("#severity-color-bg").attr("value"),onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(e){return $(e).fadeOut(500),!1},onSubmit:function(e,t,i,s){$(s).ColorPickerHide()},onChange:function(e,t){$("#severity-color-bg").val("#"+t),$("span.severity").css("backgroundColor","#"+t)}}),$("#severity-color-text").ColorPicker({color:$("#severity-color-text").attr("value"),onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(e){return $(e).fadeOut(500),!1},onSubmit:function(e,t,i,s){$(s).ColorPickerHide()},onChange:function(e,t){$("#severity-color-text").val("#"+t),$("span.severity").css("color","#"+t)}})},snorbyCloudBoxOptions:{cache:!0,round:5,loading:!0,animation:"none",distance:10,overlayClick:!0,enableEscapeButton:!0,dataType:"html",centerOnResize:!0,closeButton:!0,shadow:"0 0 30px rgba(0,0,0,1)",style:{background:"rgba(36,36,36,0.9)",border:"1px solid rgba(0,0,0,0.9)",padding:"0",width:"700px"},inside:{background:"transparent",padding:"0",display:"block",border:"none",overflow:"visible"},overlay:{background:"#000",opacity:.9},onOpen:function(){$("body").addClass("stop-scrolling"),$("body").bind("touchmove",function(e){e.preventDefault()}),$("dl#event-sub-menu").hide()},afterOpen:function(e,t){Snorby.eventCloseHotkeys(!1),Snorby.escBind&&$(document).unbind("keydown",Snorby.escBind),t.find("#snorbybox-content .add_chosen").chosen({allow_single_deselect:!0}),Snorby.colorPicker(),$("img.recover, img.avatar, img.user-view-avatar, img.avatar-small, div.note-avatar-holder img").error(function(){$(this).attr("src",baseuri+"/images/default_avatar.png")})},afterClose:function(){Snorby.eventCloseHotkeys(!0),Snorby.escBind&&$(document).bind("keydown","esc",Snorby.escBind),$("body").removeClass("stop-scrolling"),$("body").unbind("touchmove")},onTemplate:function(e,t){try{var i=Snorby.puts(e,t);return i.length>0&&i}catch(e){return!1}}},puts:function(e,t){if(Handlebars.templates.hasOwnProperty(e))var i=$(Handlebars.templates[""+e](t));else var s=Handlebars.compile(e),i=s(t);return i},box:function(e,t,i){var s=this;$.limpClose();var n=$.extend({},s.snorbyCloudBoxOptions,i);n.template=e,n.templateData=t;var a=$.limp(n);return a},setup:function(){$("div#flash_message, div#flash_message > *").live("click",function(){$("div#flash_message").stop().fadeOut("fast")}),$("#growl").notify({speed:500,expires:5e3}),$(".edit-sensor-name").editable(baseuri+"/sensors/update_name",{height:"20px",width:"180px",name:"name",indicator:'<img src="'+baseuri+'/images/icons/pager.gif">',data:function(e){var t=e.replace(/<br[\s\/]?>/gi,"\n");return t},submitdata:function(){return{id:$(this).attr("data-sensor-id"),authenticity_token:csrf}}})},pages:{classifications:function(){$("a.classification").live("click",function(){var e=$(this).attr("data-classification-id");return set_classification(e),!1})},dashboard:function(){$("#box-holder div.box").live("click",function(e){return e.preventDefault(),window.location=$(this).attr("data-url"),!1}),$("a.show_events_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#events-graph").show(),!1}),$("a.show_map_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#geoip-graph").show(),!1}),$("a.show_severities_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#severity-graph").show(),!1}),$("a.show_protocol_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#protocol-graph").show(),!1}),$("a.show_signature_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),
$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#signature-graph").show(),!1}),$("a.show_classification_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#classification-graph").show(),!1}),$("a.show_source_ips_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#source-ips-graph").show(),!1}),$("a.show_destination_ips_graph").live("click",function(e){return e.preventDefault(),$("#box-menu li").removeClass("active"),$(this).parent("li").addClass("active"),$("div.dashboard-graph").hide(),$("div#destination-ips-graph").show(),!1})},events:function(){$("select.email-user-select").live("change",function(){var e=$("select.email-user-select").val();""!=e&&(""==$("input#email_to").val()?$("input#email_to").val(e):$("input#email_to").val($("input#email_to").val()+", "+e))}),$("button.email-event-information").live("click",function(e){return e.preventDefault(),""==$("input#email_to").val()?(flash_message.push({type:"error",message:"The email recipients cannot be blank."}),flash(),$.scrollTo("#header",500)):""==$("input#email_subject").val()?(flash_message.push({type:"error",message:"The email subject cannot be blank."}),flash(),$.scrollTo("#header",500)):($(document).trigger("limp.close"),$.post(baseuri+"/events/email",$("form.email-event-information").serialize(),null,"script")),!1}),$("button.request_packet_capture").live("click",function(e){return e.preventDefault(),$(this).attr("data-deepsee")&&$("form.request_packet_capture input#method").val("deepsee"),$.post(baseuri+"/events/request_packet_capture",$("form.request_packet_capture").serialize(),null,"script"),!1}),$("dl#event-sub-menu a").live("click",function(){$("dl#event-sub-menu").hide()}),$("a.has-event-menu").live("click",function(e){e.preventDefault();var t=$(this).parent().find("dl.event-sub-menu");return t.is(":visible")?t.fadeOut("fast"):($("dl.event-sub-menu").hide(),t.fadeIn("fast")),!1}),$("dl.event-sub-menu dd a").live("click",function(){$(this).parents("dl").fadeOut("fast")}),$("button.mass-action").live("click",function(e){e.preventDefault();var t=$("form#mass-action-form");return $(document).trigger("limp.close"),$.post(baseuri+"/events/mass_action",t.serialize(),null,"script"),!1}),$("button.create-notification").live("click",function(e){e.preventDefault();var t=$("form#new_notification");return $.post(baseuri+"/notifications",t.serialize(),null,"script"),$(document).trigger("limp.close"),!1}),$("button.cancel-snorbybox").live("click",function(e){return e.preventDefault(),$(document).trigger("limp.close"),!1}),$("ul.payload-tabs li a").live("click",function(e){e.preventDefault();var t=$(this).attr("data-div");return $(this).parents("ul").find("li").removeClass("current"),$(this).parent("li").addClass("current"),$("div.payload-holder").hide(),$("div."+t+" pre").css("opacity",0),$("div."+t).show(),$("div."+t+" pre").stop().animate({opacity:1},1e3),!1}),$("a.export").live("click",function(e){e.preventDefault();var t=$("input#selected_events").attr("value");return t?$.post(this.href,{events:t,authenticity_token:csrf}):(flash_message.push({type:"error",message:"Please Select Events To Perform This Action"}),flash()),!1}),$("a.edit-event-note").live("click",function(e){e.preventDefault();var t=($(this).parents("div.event-note"),$(this).attr("data-note-id"));return $.getScript(baseuri+"/notes/"+t+"/edit"),!1}),$("a.destroy-event-note").live("click",function(e){e.preventDefault();var t=($(this).parents("div.event-note"),$(this).attr("data-note-id"));return confirm("Are you sure you want to delete this note?")&&($("div.notes").fadeTo(500,.4),$.post(baseuri+"/notes/destroy",{id:t,authenticity_token:csrf,_method:"delete"},null,"script")),!1}),$("button.add_new_note-working").live("click",function(e){return e.preventDefault(),!1}),$("button.cancel-note").live("click",function(e){return e.preventDefault(),$(this).parents("div#new_note_box").remove(),!1}),$("button.add_new_note").live("click",function(e){e.preventDefault();var t=$(this).parent("div#form-actions").parent("div#new_note").attr("data-event-sid"),i=$(this).parent("div#form-actions").parent("div#new_note").attr("data-event-cid");if($("div#new_note_box").length>0);else{$(this).removeClass("add_new_note").addClass("add_new_note-working");var s=$(this).width();$(this).addClass("loading").css("width",s),$.get(baseuri+"/notes/new",{sid:t,cid:i,authenticity_token:csrf},null,"script")}return!1}),$("button.submit_new_note").live("click",function(e){e.preventDefault();var t=$(this).parent("div#form-actions").parent("div#new_note").attr("data-event-sid"),i=$(this).parent("div#form-actions").parent("div#new_note").attr("data-event-cid"),s=$(this).parent("div#form-actions").parent("div#new_note").find("textarea#body").val();if(s.length>0){var n=$(this).width();$(this).addClass("loading").css("width",n),$.post(baseuri+"/notes/create",{sid:t,cid:i,body:s,authenticity_token:csrf},null,"script")}else flash_message.push({type:"error",message:"The note body cannot be blank!"}),flash(),$.scrollTo("#header",500);return!1}),$("a.query-data").live("click",function(){return $("pre.query-data-content").hide(),$("pre#"+$(this).attr("data-content-name")).show(),!1}),$(".snorbybox").limp({cache:!0,round:0,loading:!0,animation:"pop",enableEscapeButton:!0,shadow:"0 1px 30px rgba(0,0,0,0.6)",style:{background:"rgba(36,36,36,0.9)",border:"1px solid rgba(0,0,0,0.9)",padding:"5px",width:"700px"},inside:{border:"1px solid rgba(0,0,0,0.9)",padding:0},overlay:{background:"#000",opacity:.6},onOpen:function(){Snorby.eventCloseHotkeys(!1),$("body").addClass("stop-scrolling"),$("body").bind("touchmove",function(e){e.preventDefault()}),$("dl#event-sub-menu").hide()},afterOpen:function(e,t){t.find("#snorbybox-content .add_chosen").chosen({allow_single_deselect:!0})},onClose:function(){Snorby.eventCloseHotkeys(!0)},afterClose:function(){Snorby.eventCloseHotkeys(!0),Snorby.escBind&&$(document).bind("keydown","esc",Snorby.escBind),$("body").removeClass("stop-scrolling"),$("body").unbind("touchmove")}}),$("div.create-favorite.enabled").live("click",function(){var e=$(this).parents("li.event").attr("data-event-sid"),t=$(this).parents("li.event").attr("data-event-cid");$(this).removeClass("create-favorite").addClass("destroy-favorite"),$.post(baseuri+"/events/favorite",{sid:e,cid:t,authenticity_token:csrf});var i=new Queue;return i.up(),!1}),$("div.destroy-favorite.enabled").live("click",function(){var e=$(this).parents("li.event").attr("data-event-sid"),t=$(this).parents("li.event").attr("data-event-cid"),i=$("div#events").attr("data-action");$(this).removeClass("destroy-favorite").addClass("create-favorite"),$.post(baseuri+"/events/favorite",{sid:e,cid:t,authenticity_token:csrf});var s=new Queue;return s.down(),"queue"==i&&($("div.content").fadeTo(500,.4),Snorby.helpers.remove_click_events(!0),$("div.destroy-favorite").removeClass("enabled").css("cursor","default"),$.get(baseuri+"/events/queue",null,null,"script")),!1}),$("input.event-select-all").live("change",function(){var e=$("ul.table div.content li.event input#event-selector");$(this).is(":checked")?(e.attr("checked",!0),e.trigger("change")):(e.removeAttr("checked"),e.trigger("change"))}),$("ul.table div.content li.event div.click").live("click",function(){$(this);$("dl#event-sub-menu").hide();var e=$(this).parents("li").attr("data-event-sid"),t=$(this).parents("li").attr("data-event-cid"),i=$("li#event_"+e+t),s=$("li#event_"+e+t+" input#event-selector"),n=$("li#event_"+e+t+" div.event-data");if(Snorby.helpers.remove_click_events(!0),$("li.event").removeClass("highlight"),n.is(":visible")?i.removeClass("highlight"):i.addClass("highlight"),"true"==n.attr("data"))Snorby.helpers.remove_click_events(!1),n.is(":visible")?n.slideUp("fast",function(){$("li.event div.event-data").slideUp("fast"),Snorby.eventCloseHotkeys(!0)}):($("li.event div.event-data").slideUp("fast"),n.slideDown("fast",function(){$(document).bind("keydown","esc",function(){$("li.event").removeClass("highlight"),i.removeClass("highlight"),n.slideUp("fast",function(){$("li.event div.event-data").slideUp("fast")}),Snorby.eventCloseHotkeys(!0),$(this).unbind("keydown","esc")}),Snorby.eventCloseHotkeys(!1)}));else{s.hide(),$("li.event div.event-data").slideUp("fast"),i.find("div.select").append("<img alt='loading' src='"+baseuri+"/images/icons/loading.gif' class='select-loading'>");var a=baseuri+"/events/show/"+e+"/"+t;"sessions"===$("div#events").data("action")&&(a=baseuri+"/events/show/"+e+"/"+t+"?sessions=true"),$.get(a,function(){$(document).bind("keydown","esc",function(){$("li.event").removeClass("highlight"),i.removeClass("highlight"),n.slideUp("fast",function(){$("li.event div.event-data").slideUp("fast")}),$(this).unbind("keydown","esc"),Snorby.eventCloseHotkeys(!0)}),Snorby.helpers.remove_click_events(!1),$(".select-loading").remove(),s.show(),n.attr("data",!0),Snorby.eventCloseHotkeys(!1)},"script")}return!1}),$("div.new_events").live("click",function(){return $(this).remove(),parseInt($("strong.new_event_count").html())>100?window.location=baseuri+"/events":$("#events ul.table div.content li").fadeIn("slow"),!1})}},eventCloseHotkeys:function(e){e?($(document).bind("keydown","1",Snorby.hotKeyCallback.Sev1),$(document).bind("keydown","2",Snorby.hotKeyCallback.Sev2),$(document).bind("keydown","3",Snorby.hotKeyCallback.Sev3),$(document).bind("keydown","shift+right",Snorby.hotKeyCallback.shiftPlusRight),$(document).bind("keydown","right",Snorby.hotKeyCallback.right),$(document).bind("keydown","shift+left",Snorby.hotKeyCallback.shiftPlusLeft),$(document).bind("keydown","left",Snorby.hotKeyCallback.left)):($(document).unbind("keydown",Snorby.hotKeyCallback.Sev1),$(document).unbind("keydown",Snorby.hotKeyCallback.Sev2),$(document).unbind("keydown",Snorby.hotKeyCallback.Sev3),$(document).unbind("keydown",Snorby.hotKeyCallback.shiftPlusRight),$(document).unbind("keydown",Snorby.hotKeyCallback.right),$(document).unbind("keydown",Snorby.hotKeyCallback.shiftPlusLeft),$(document).unbind("keydown",Snorby.hotKeyCallback.left))},admin:function(){$("#users input#enabled").live("click",function(){var e=$(this).parent("td").attr("data-user");$(this).attr("checked")?$.post(baseuri+"/users/toggle_settings",{user_id:e,user:{enabled:!0},authenticity_token:csrf}):$.post(baseuri+"/users/toggle_settings",{user_id:e,user:{enabled:!1},authenticity_token:csrf})}),$("#users input#admin").live("click",function(){var e=$(this).parent("td").attr("data-user");$(this).attr("checked")?$.post(baseuri+"/users/toggle_settings",{user_id:e,user:{admin:!0},authenticity_token:csrf}):$.post(baseuri+"/users/toggle_settings",{user_id:e,user:{admin:!1},authenticity_token:csrf})}),$("#severity-color-bg").ColorPicker({color:$("#severity-color-bg").attr("value"),onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(e){return $(e).fadeOut(500),!1},onSubmit:function(e,t,i,s){$(s).ColorPickerHide()},onChange:function(e,t){$("#severity-color-bg").val("#"+t),$("span.severity").css("backgroundColor","#"+t)}}),$("#severity-color-text").ColorPicker({color:$("#severity-color-text").attr("value"),onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(e){return $(e).fadeOut(500),!1},onSubmit:function(e,t,i,s){$(s).ColorPickerHide()},onChange:function(e,t){$("#severity-color-text").val("#"+t),$("span.severity").css("color","#"+t)}})},templates:{render:function(e,t){var i=Handlebars.compile(e);return i(t)},flash:function(e){var t=" \t\t\t<div class='{{type}}' id='flash_message' style='display:none;'> \t\t\t\t<div class='message {{type}}'>{{message}}</div> \t\t\t</div>";return Snorby.templates.render(t,e)},event_table:function(e){var t="";e.events[0].geoip&&(t=" geoip");var i=" \t\t\t{{#events}} \t\t\t<li id='event_{{sid}}{{cid}}' class='event' style='display:none;' data-event-id='{{sid}}-{{cid}}' data-event-sid='{{sid}}' data-event-cid='{{cid}}'> \t\t\t\t<div class='row"+t+"'> \t\t\t\t\t<div class='select small'><input class='event-selector' id='event-selector' name='event-selector' type='checkbox'></div> \t\t\t\t\t<div class='important small'><div class='create-favorite enabled'></div></div> \t\t\t\t\t<div class='severity small'><span class='severity sev{{severity}}'>{{severity}}</span></div> \t\t\t\t\t<div class='click sensor'>{{hostname}}</div>           <div class='click src_ip address'>             {{{geoip this.src_geoip}}} {{ip_src}}           </div> \t\t\t\t\t<div class='click dst_ip address'>             {{{geoip this.dst_geoip}}} {{ip_dst}}           </div> \t\t\t\t\t<div class='click signature'>{{message}}</div> \t\t\t\t\t<div class='click timestamp'>             <b class='add_tipsy' title='Event ID: {{sid}}.{{cid}} &nbsp; {{datetime}}'>{{timestamp}}</b>           </div> \t\t\t\t</div> \t\t\t\t<div style='display:none;' class='event-data' data='false'></div> \t\t\t</li> \t\t\t{{/events}}";return Snorby.templates.render(i,e)},update_notifications:function(e){var t='<div id="update-notification"><span><div class="message-update-notification">A new version of Snorby is now avaliable. </div>Version {{version}} - <a href="{{download}}" target="_blank">Download</a>  - <a href="{{changeLog}}" target="_blank">Change Log</a><div class="close-update-notification">x</div></span></div>';return $("div.close-update-notification").live("click",function(e){e.preventDefault(),$.cookie("snorby-ignore-update",1,{expires:20}),$("div#update-notification").remove()}),Snorby.templates.render(t,e)},searchLoading:function(){var e='<div class="search-loading" />';return e},signatureTable:function(){var e='<div id="signatures-input-search" class="grid_12 page boxit" style="display: block;"><table class="default" border="0" cellspacing="0" cellpadding="0"><tbody><tr><th style="width:30px">Sev.</th><th>Signature Name</th><th>Event Count</th><th></th></tr></tbody><tbody class="signatures content"></tbody></table></div>';return e},signatures:function(e){var t=(e.total,'{{#each signatures}}<tr><td class="first"><div class="severity small"><span class="severity sev{{sig_priority}}">{{sig_priority}}</span></div></td><td class="" title="{{sig_name}}">{{{truncate this.sig_name 60}}}</td><td class="chart-large add_tipsy" original-title="{{events_count}} of {{../total}} events"><div class="progress-container-large"><div style="width: {{{percentage ../total}}}%"><span>{{{percentage ../total}}}%</span></div></div></td><td class="last" style="width:45px;padding-right:6px;padding-left:0px;"><a href="results?match_all=true&search%5Bsignature%5D%5Bcolumn%5D=signature&search%5Bsignature%5D%5Boperator%5D=is&search%5Bsignature%5D%5Bvalue%5D={{sig_id}}&title={{sig_name}}">View</a></td></tr>{{/each}}');return Snorby.templates.render(t,e)}},notification:function(e){$("#growl").notify("create",e,{expires:3e3,speed:500})},helpers:{tipsy:function(){$(".add_tipsy").tipsy({fade:!0,html:!1,gravity:"s",live:!0}),$(".add_tipsy_html").tipsy({fade:!0,html:!0,gravity:"s",live:!0})},input_style:function(){$("div#form-actions button.cancel").live("click",function(){return window.location=baseuri+"/",!1}),$("input[name=blank]").focus()},dropdown:function(){$(document).click(function(){$("dl.drop-down-menu:visible").hide()}),$("dl.drop-down-menu dd a").live("click",function(){return $("dl.drop-down-menu").fadeOut("slow"),!0}),$("dl.drop-down-menu").hover(function(){var e=$(this).data("timeout");e&&clearTimeout(e)},function(){$(this).data("timeout",setTimeout($.proxy(function(){$(this).fadeOut("fast")},this),500))}),$("a.has_dropdown").live("click",function(){var e=$(this).attr("id"),t=$(this).parents("li").find("dl#"+e);return $("dl.drop-down-menu").each(function(){e===$(this).attr("id")?$(this).is(":visible")?t.fadeOut("fast"):t.slideDown({duration:"fast",easing:"easeOutSine"}):$(this).fadeOut("fast")}),!1})},persistence_selections:function(){$("input#event-selector").live("change",function(){var e=$(this).parents("li").attr("data-event-id"),t=!1;if("sessions"===$("#events").data("action")){var t=!0;0==$("div#sessions-event-count-selected").length&&$("#content").append('<div id="sessions-event-count-selected" data-count="0" />');var i=parseInt($("div#sessions-event-count-selected").data("count"))}var s=$(this).is(":checked");if(s)selected_events.push(e),$('input#selected_events[type="hidden"]').val(selected_events);else{var n=e;selected_events=jQuery.grep(selected_events,function(e){return e!=n}),$('input#selected_events[type="hidden"]').val(selected_events)}if(t){var a=parseInt($(this).parents("li.event").find("div.session-count").data("sessions"));if(a){var r=0;r=s?i+a:i-a,$("div#sessions-event-count-selected").data("count",r)}}}),$("input#event-select-all").live("change",function(){$(this).attr("checked")?$('ul.table div.content li input[type="checkbox"]').each(function(){var e=$(this).parents("li").attr("data-event-id");$(this).attr("checked","checked"),selected_events.push(e)}):$('ul.table div.content li input[type="checkbox"]').each(function(){var e=$(this).parents("li").attr("data-event-id");$(this).attr("checked",""),selected_events=jQuery.grep(selected_events,function(t){return t!=e})}),$('input#selected_events[type="hidden"]').val(selected_events)})},recheck_selected_events:function(){$("input#selected_events").val(selected_events),$.each(selected_events,function(e,t){$("input.check_box_"+t).attr("checked","checked")})},pagenation:function(){$("ul.pager li").live("click",function(){var e=this,t=$(this).parents(".pager").hasClass("notes-pager");if(history&&history.pushState&&$(window).bind("popstate",function(){$.getScript(location.href)}),!$(e).hasClass("more")){var i=$(e).width();if(i<16)var i=16;if($(e).addClass("loading").css("width",i),$(e).parents("div").hasClass("notes-pager")?$("div.notes").fadeTo(500,.4):$("div.content, tbody.content").fadeTo(500,.4),Snorby.helpers.remove_click_events(!0),$("div#search-params").length>0){var s=JSON.parse($("div#search-params").text());s&&$.ajax({url:$(e).find("a").attr("href"),global:!1,dataType:"script",data:{match_all:s.match_all,search:s.search,authenticity_token:csrf},cache:!1,type:"POST",success:function(){$("div.content").fadeTo(500,1),Snorby.helpers.remove_click_events(!1),Snorby.helpers.recheck_selected_events(),t||(history&&history.pushState&&history.pushState(null,document.title,$(e).find("a").attr("href")),$.scrollTo("#header",500))}})}else $.getScript($(e).find("a").attr("href"),function(){$("div.content").fadeTo(500,1),Snorby.helpers.remove_click_events(!1),Snorby.helpers.recheck_selected_events(),t||(history&&history.pushState&&history.pushState(null,document.title,$(e).find("a").attr("href")),$.scrollTo("#header",500))})}return!1})},remove_click_events:function(e){e?$("ul.table div.content div").removeClass("click"):$("li.event div.sensor, li.event div.src_ip, li.event div.dst_ip, li.event div.signature, li.event div.timestamp").addClass("click")}},callbacks:function(){$("body").ajaxError(function(e,t){$("div.content").fadeTo(500,1),$('ul.table div.content li input[type="checkbox"]').attr("checked",""),Snorby.helpers.remove_click_events(!1),404===t.status?(flash_message.push({type:"error",message:"The requested page could not be found."}),flash()):(flash_message.push({type:"error",message:"The request failed to complete successfully."}),flash())})},hotKeyCallback:{left:function(){$("div.pager.main ul.pager li.previous a").click()},right:function(){$("div.pager.main ul.pager li.next a").click()},shiftPlusRight:function(){$("div.pager.main ul.pager li.last a").click()},shiftPlusLeft:function(){$("div.pager.main ul.pager li.first a").click()},Sev1:function(){$("span.sev1").parents("div.row").find("input#event-selector").each(function(){var e=$(this);e.attr("checked",!e.attr("checked")),e.trigger("change")})},Sev2:function(){$("span.sev2").parents("div.row").find("input#event-selector").each(function(){var e=$(this);e.attr("checked",!e.attr("checked")),e.trigger("change")})},Sev3:function(){$("span.sev3").parents("div.row").find("input#event-selector").each(function(){var e=$(this);e.attr("checked",!e.attr("checked")),e.trigger("change")})}},hotkeys:function(){$(document).bind("keydown","ctrl+shift+h",function(){return!1}),$(document).bind("keydown","ctrl+3",function(){return window.location=baseuri+"/jobs",!1}),$(document).bind("keydown","ctrl+2",function(){return window.location=baseuri+"/events",!1}),$(document).bind("keydown","ctrl+1",function(){return window.location=baseuri+"/events/queue",!1}),$(document).bind("keydown","ctrl+shift+s",function(){return window.location=baseuri+"/search",!1}),$("div.pager").is(":visible")&&($(document).bind("keydown","shift+down",function(){var e=$("ul.table div.content li.event.currently-over");e.is(":visible")&&0!=e.next().length?(e.removeClass("currently-over"),e.next().addClass("currently-over")):$("ul.table div.content li.event:first").addClass("currently-over")}),$(document).bind("keydown","shift+up",function(){var e=$("ul.table div.content li.event.currently-over");e.is(":visible")&&0!=e.prev().length?(e.removeClass("currently-over"),e.prev().addClass("currently-over")):$("ul.table div.content li.event:last").addClass("currently-over")}),$(document).bind("keydown","shift+return",function(){$("ul.table div.content li.event.currently-over div.row div.click").click()}),$(document).bind("keydown","ctrl+shift+1",Snorby.hotKeyCallback.Sev1),$(document).bind("keydown","ctrl+shift+2",Snorby.hotKeyCallback.Sev2),$(document).bind("keydown","ctrl+shift+3",Snorby.hotKeyCallback.Sev3),$(document).bind("keydown","ctrl+shift+u",function(){set_classification(0)}),$(document).bind("keydown","alt+right",function(){$("div.pager.notes-pager ul.pager li.next a").click()}),$(document).bind("keydown","alt+left",function(){$("div.pager.notes-pager ul.pager li.previous a").click()}),$(document).bind("keydown","ctrl+shift+a",function(){$("input.event-select-all").click().trigger("change")}),Snorby.eventCloseHotkeys(!0))},validations:function(){jQuery.validator.addMethod("hex-color",function(e,t){return this.optional(t)||/^#?([a-f]|[A-F]|[0-9]){3}(([a-f]|[A-F]|[0-9]){3})?$/i.test(e)},jQuery.validator.messages.url),$(".validate").validate()},settings:function(){if($("div#general-settings").length>0){$("input#_settings_packet_capture").is(":checked")?($("div.pc-settings").show(),$('p.pc-settings input[type="text"], p.pc-settings select').addClass("required")):($("div.pc-settings").hide(),$('p.pc-settings input[type="text"], p.pc-settings select').removeClass("required")),$("input#_settings_packet_capture_auto_auth").is(":checked")?$("input#_settings_packet_capture_user, input#_settings_packet_capture_password").attr("disabled",null):($("input#_settings_packet_capture_user, input#_settings_packet_capture_password").attr("disabled","disabled"),$("input#_settings_packet_capture_user, input#_settings_packet_capture_password").removeClass("required"));var e=$("select#_settings_packet_capture_type").attr("packet_capture_plugin");$('select#_settings_packet_capture_type option[value="'+e+'"]').attr("selected","selected"),$("input#_settings_autodrop").is(":checked")?$("select#_settings_autodrop_count").attr("disabled",null):$("select#_settings_autodrop_count").attr("disabled","disabled");var t=$("select#_settings_autodrop_count").attr("autodrop_count");$('select#_settings_autodrop_count option[value="'+t+'"]').attr("selected","selected")}$("input#_settings_packet_capture").live("click",function(){$("input#_settings_packet_capture").is(":checked")?($("div.pc-settings").show(),$('p.pc-settings input[type="text"], p.pc-settings select').addClass("required")):($("div.pc-settings").hide(),$('p.pc-settings input[type="text"], p.pc-settings select').removeClass("required"))}),$("input#_settings_autodrop").live("click",function(){$(this).is(":checked")?$("select#_settings_autodrop_count").attr("disabled",null):$("select#_settings_autodrop_count").attr("disabled","disabled")}),$("input#_settings_packet_capture_auto_auth").live("click",function(){$("input#_settings_packet_capture_auto_auth").is(":checked")?($("input#_settings_packet_capture_user, input#_settings_packet_capture_password").addClass("required"),$("input#_settings_packet_capture_user, input#_settings_packet_capture_password").attr("disabled",null)):($("input#_settings_packet_capture_user, input#_settings_packet_capture_password").removeClass("required"),$("input#_settings_packet_capture_user, input#_settings_packet_capture_password").attr("disabled","disabled"))})},jobs:function(){$("a.view_job_handler, a.view_job_last_error").limp({cache:!0,round:0,loading:!0,animation:"pop",enableEscapeButton:!0,shadow:"0 1px 30px rgba(0,0,0,0.6)",style:{background:"rgba(36,36,36,0.9)",border:"1px solid rgba(0,0,0,0.9)",padding:"5px",width:"700px"},inside:{border:"1px solid rgba(0,0,0,0.9)",padding:0},overlay:{background:"#000",opacity:.6},onOpen:function(){Snorby.eventCloseHotkeys(!1),$("dl#event-sub-menu").hide()},afterOpen:function(e,t){t.find("#snorbybox-content .add_chosen").chosen({allow_single_deselect:!0})},onClose:function(){Snorby.eventCloseHotkeys(!0)}})}};jQuery(document).ready(function(e){function t(){e.ajax({url:baseuri+"/cache/status",global:!1,dataType:"json",cache:!1,type:"GET",success:function(e){e.caching?setTimeout(function(){n=0,t()},2e3):3==n?(n=0,location.reload()):(n++,t())}})}Handlebars.registerHelper("geoip",function(e){if(e){var t=e.country_name,i=e.country_code2;return"--"===t&&(t="N/A"),'<div class="click country_flag add_tipsy_html" title="&lt;img class=&quot;flag&quot; src=&quot;/images/flags/'+i.toLowerCase()+".png&quot;&gt; "+t+'">'+i+"</div>"}return null}),Handlebars.registerHelper("format_time",function(e){return moment(e).utc().add("seconds",Snorby.current_user.timezone_offset).format("MMMM DD, YYYY HH:mm:ss")}),Handlebars.registerHelper("short_format_time",function(e){return moment(e).utc().add("seconds",Snorby.current_user.timezone_offset).format("MM/DD/YY HH:mm:ss")}),Handlebars.registerHelper("format_unix_js",function(e){return e=Math.floor(e/1e3),moment.unix(e).utc().add("seconds",Snorby.current_user.timezone_offset).format("MM/DD/YY hh:mm:ss A ")+Snorby.current_user.timezone}),Handlebars.registerHelper("truncate",function(e,t){return e.length>t?e.substring(0,t)+"...":e}),Handlebars.registerHelper("build_asset_name_agent_list",function(){for(var t="",i=0;i<this.agents.length;i+=1){var s=this.agents[i];if("Click To Change Me"===s.name)var n=s.hostname;else var n=s.name;t+=this.hasOwnProperty("agent_ids")&&e.isArray(this.agent_ids)&&e.inArray(s.sid,this.agent_ids)>=0?"<option selected value='"+s.sid+"'>"+n+"</option>":"<option value='"+s.sid+"'>"+n+"</option>"}return t}),Handlebars.registerHelper("sensor_name",function(){return"Click To Change Me"===this.name?this.hostname:this.name}),Handlebars.registerHelper("percentage",function(e){var t=parseFloat(this.events_count)/parseFloat(e)*100;return t.toFixed(2)}),e("#login form#new_user").submit(function(t){t.preventDefault();var i=e("#login"),s=this;if(e("#password").length>0)s.submit();else var n=e("input#user_password",s).attr("value");var a=e("input#user_email",s).attr("value");n&&n.length>1&&a.length>5&&(e("div.auth-loading").fadeIn("slow"),e.post(s.action,e(s).serialize(),function(t){t.success?(e("div.auth-loading span").fadeOut("slow",function(){e(this).html("Authentication Successful, Please Wait..."),e(this).fadeIn("slow")}),e.get(t.redirect,function(e){i.fadeOut("slow",function(){document.open(),document.write(e),document.close(),history.pushState(null,"Snorby - Dashboard",baseuri+"/")})})):(flash_message.push({type:"error",message:"Error, Authentication Failed!"}),flash(),e("div.auth-loading").fadeOut())}))}),e("#login #title").remove(),e("img.avatar, img.avatar-small, div.note-avatar-holder img").error(function(){e(this).attr("src",baseuri+"/images/default_avatar.png")}),e("#login button.forgot-my-password").live("click",function(t){t.preventDefault(),e.get(baseuri+"/users/password/new",function(t){var i=e(t).find("#content").html();e("#login").html(i),history.pushState(null,"Snorby - Password Reset",baseuri+"/users/password/new")})}),e("#fancybox-wrap").draggable({handle:"div#box-title",cursor:"move"}),e("li.administration a").live("click",function(t){t.preventDefault(),e("dl#admin-menu").toggle()}),e("dl#admin-menu a").live("click",function(){e(this).parents("dl").fadeOut("fast")}),e("#wrapper").live("click",function(){e("dl#admin-menu").is(":visible")&&e("dl#admin-menu").fadeOut("fast")}),e("td.search-by-signature").live("click",function(t){t.preventDefault();var i=e(this).attr("data-url");window.location=i}),Snorby.setup(),Snorby.admin(),Snorby.callbacks(),Snorby.hotkeys(),Snorby.jobs(),Snorby.settings(),Snorby.validations(),Snorby.helpers.tipsy(),Snorby.helpers.dropdown(),Snorby.helpers.input_style(),Snorby.helpers.persistence_selections(),Snorby.helpers.pagenation(),Snorby.pages.classifications(),Snorby.pages.dashboard(),Snorby.pages.events(),e(".add_chosen").chosen({allow_single_deselect:!0}),e("ul.table div.content li.event").live("hover",function(){e("ul.table div.content li.event").removeClass("currently-over"),e(this).toggleClass("currently-over")},function(){e(this).toggleClass("currently-over")});var i=null,s=null;e("input#signature-search").live("keyup",function(){var t=e(this).val().replace(/^\s+|\s+$/g,"");t.length>=3?t!==s&&(i&&i.abort(),s=t,0==e("div.search-loading").length&&e("div#title").append(Snorby.templates.searchLoading()),i=e.ajax({url:baseuri+"/signatures/search",global:!1,data:{q:t,authenticity_token:csrf},type:"POST",dataType:"json",cache:!1,success:function(n){i=null,s=t,e("div#signatures").hide(),e("div.search-loading").remove(),0==e("div#signatures-input-search").length&&e("div#content").append(Snorby.templates.signatureTable()),e("div#signatures-input-search tbody.signatures").html(Snorby.templates.signatures(n))}})):(e("div#signatures").show(),e("div#signatures-input-search").remove(),e("div.search-loading").remove(),s=null,i&&i.abort())});var n=0;e("dd a.force-cache-update").live("click",function(i){i.preventDefault(),e("li.last-cache-time").html("<i>Currently Caching <img src='../images/icons/pager.gif' width='16' height='11' /></i>"),e.getJSON(this.href,function(){setTimeout(t,6e3)})}),e(".snorby-content-restore").live("click",function(t){t.preventDefault(),e(".tmp-content-data").length>0&&e(".tmp-content-data, #footer").stop().delay(100).animate({opacity:0},600,function(){e(".tmp-content-data").hide(),e(".original-content-data, #footer").stop().delay(100).show().animate({opacity:1},600)})}),e(".snorby-content-replace").live("click",function(t){if(t.preventDefault(),e(".tmp-content-data").length>0)e(".original-content-data, #footer").stop().delay(100).animate({opacity:0},600,function(){e(".original-content-data").hide(),e(".tmp-content-data, #footer").stop().delay(100).show().animate({opacity:1},600)});else{e("#content").addClass("original-content-data");var i='<li><a href="#" class="snorby-content-restore"><img alt="Restart" src="'+baseuri+'/images/icons/restart.png">Go Back</a></li>',s='<ul class="" id="title-menu-holder"><ul id="title-menu"><li>&nbsp;</li>'+i+"<li>&nbsp;</li></ul></ul>";e.ajax({url:"saved/searches",global:!1,dataType:"html",cache:!1,type:"GET",success:function(t){var n=e(t).find("#content").addClass("tmp-content-data").hide().css({opacity:0}),a=n.find("#title-menu");a.length>0?a.find("li:last-child").before(i):n.find("#title").append(s),e(".original-content-data, #footer").stop().delay(100).animate({opacity:0},600,function(){e(".original-content-data").before(n),e(".original-content-data").hide(),e(".tmp-content-data, #footer").stop().delay(100).show().animate({opacity:1},600)})}})}}),e("body").on("click","button.new-saved-search-record",function(t){t.preventDefault();var i=!1;if("undefined"!=typeof rule)var i=rule.pack();else{var s=e("div#search-params").text();if(s)try{var n=JSON.parse(s),i={match_all:n.match_all,search:n.search}}catch(e){var i=!1}}if(i){e("#snorby-box #form-actions button.success").attr("disabled",!0),e("#snorby-box #form-actions button.success span").text("Please Wait...");var a=e("input#saved_search_title").val(),r=e("input#saved_search_public").is(":checked");e.ajax({url:baseuri+"/saved_searches/create",global:!1,dataType:"json",cache:!1,type:"POST",data:{authenticity_token:csrf,search:{title:a,"public":r,search:i}},success:function(t){t.error?(flash_message.push({type:"error",message:"Error: This search may already exists."}),flash()):(flash_message.push({type:"success",message:"Your search was saved successfully"}),flash()),e(document).trigger("limp.close")},error:function(){flash_message.push({
type:"error",message:"Error: This search may already exists."}),flash(),e(document).trigger("limp.close")}})}else flash_message.push({type:"error",message:"An Unknown Error Has Occurred"}),flash(),e(document).trigger("limp.close")}),e("div.results a.table-sort-link").live("click",function(t){if(t.preventDefault(),e("div#search-params").length>0){var i=JSON.parse(e("div#search-params").text()),s=e(this).data("direction"),n=e(this).data("sort"),a=e(this).data("page"),r=e(this).data("title"),o=e(this).data("search-id"),l=baseuri+"/results?sort="+n+"&direction="+s+"&page="+a,c={match_all:i.match_all,search:i.search,authenticity_token:csrf};r&&(c.title=r),o&&(c.search_id=""+o),i&&post_to_url(l,c)}return!1}),e("tr.deleted *").live("click",function(t){e(".edit-sensor-name").unbind("click"),t.preventDefault()}),e("#is-asset-name-global").live("change",function(){var t=e(this).is(":checked");t?(e("#edit-asset-name-agent-select").attr("disabled",!0),e(".add_chosen").trigger("liszt:updated")):(e("#edit-asset-name-agent-select").attr("disabled",!1),e(".add_chosen").trigger("liszt:updated"))}),e(".edit-asset-name").live("click",function(t){t.preventDefault();var i=e(this);Snorby.getSensorList&&Snorby.getSensorList.abort(),e(".loading-bar").slideDown("fast"),Snorby.getSensorList=e.ajax({url:baseuri+"/sensors/agent_list.json",type:"GET",dataType:"json",success:function(t){e(".loading-bar").slideUp("fast");var s={ip_address:i.attr("data-ip_address"),agent_id:i.attr("data-agent_id"),asset_name:i.attr("data-asset_name"),asset_id:i.attr("data-asset_id"),global:"true"===i.attr("data-asset_global"),agents:t};if(s.agent_ids=[],i.attr("data-asset_agent_ids"))for(var n=i.attr("data-asset_agent_ids").split(","),a=0;a<n.length;a+=1)s.agent_ids.push(parseInt(n[a]));var r=Snorby.box("edit-asset-name",s);r.open()},error:function(){e(".loading-bar").slideUp("fast"),flash_message.push({type:"error",message:"Unable to edit asset name for address."}),flash()}})}),e("a.destroy-asset-name").live("click",function(t){t.preventDefault();var i=e(this).attr("data-asset_id"),s=Snorby.box("confirm",{title:"Remove Asset Name",message:"Are you sure you want to remove this asset name? This action cannot be undone.",button:{title:"Yes",type:"default success"},icon:"warning"},{onAction:function(){e(".loading-bar").slideDown("fast"),e(".limp-action").attr("disabled",!0).find("span").text("Loading..."),e.ajax({url:baseuri+"/asset_names/"+i+"/remove",type:"delete",data:{csrf:csrf},dataType:"json",success:function(){e(".loading-bar").slideUp("fast"),e.limpClose(),e('tr[data-asset-id="'+i+'"]').remove()},error:function(){e(".loading-bar").slideUp("fast"),e.limpClose()}})}});s.open()})});